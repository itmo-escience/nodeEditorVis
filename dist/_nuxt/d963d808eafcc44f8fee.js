/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{168:function(t,e,n){var r=n(12),o=n(169)(!1);r(r.S,"Object",{values:function(t){return o(t)}})},169:function(t,e,n){var r=n(13),o=n(27),l=n(23),c=n(45).f;t.exports=function(t){return function(e){for(var n,h=l(e),f=o(h),d=f.length,i=0,v=[];d>i;)n=f[i++],r&&!c.call(h,n)||v.push(t?[n,h[n]]:h[n]);return v}}},170:function(t,e,n){"use strict";var r=n(12),o=n(171)(5),l=!0;"find"in[]&&Array(1).find((function(){l=!1})),r(r.P+r.F*l,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(78)("find")},171:function(t,e,n){var r=n(35),o=n(77),l=n(36),c=n(28),h=n(172);t.exports=function(t,e){var n=1==t,f=2==t,d=3==t,v=4==t,y=6==t,m=5==t||y,x=e||h;return function(e,h,_){for(var w,S,M=l(e),C=o(M),A=r(h,_,3),k=c(C.length),P=0,T=n?x(e,k):f?x(e,0):void 0;k>P;P++)if((m||P in C)&&(S=A(w=C[P],P,M),t))if(n)T[P]=S;else if(S)switch(t){case 3:return!0;case 5:return w;case 6:return P;case 2:T.push(w)}else if(v)return!1;return y?-1:d||v?v:T}}},172:function(t,e,n){var r=n(173);t.exports=function(t,e){return new(r(t))(e)}},173:function(t,e,n){var r=n(15),o=n(109),l=n(3)("species");t.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&null===(e=e[l])&&(e=void 0)),void 0===e?Array:e}},174:function(t,e,n){var r;"undefined"!=typeof self&&self,r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(object,t){return Object.prototype.hasOwnProperty.call(object,t)},n.p="",n(n.s=403)}([function(t,e,n){var r=n(126),o=n(16),l=r.mix({},r,{assign:r.mix,merge:r.deepMix,cloneDeep:r.clone,isFinite:isFinite,isNaN:isNaN,snapEqual:r.isNumberEqual,remove:r.pull,inArray:r.contains,toAllPadding:function(t){var e=0,n=0,r=0,o=0;return l.isNumber(t)||l.isString(t)?e=n=r=o=t:l.isArray(t)?(e=t[0],r=l.isNil(t[1])?t[0]:t[1],o=l.isNil(t[2])?t[0]:t[2],n=l.isNil(t[3])?r:t[3]):l.isObject(t)&&(e=t.top||0,r=t.right||0,o=t.bottom||0,n=t.left||0),[e,r,o,n]},getClipByRange:function(t){var e=t.tl,br=t.br;return new o.Rect({attrs:{x:e.x,y:e.y,width:br.x-e.x,height:br.y-e.y}})}});l.Array={groupToMap:r.groupToMap,group:r.group,merge:r.merge,values:r.valuesOfKey,getRange:r.getRange,firstValue:r.firstValue,remove:r.pull},t.exports=l},function(t,e,n){var r=n(81),o={};r.merge(o,r,{mixin:function(t,e){var n=t.CFG?"CFG":"ATTRS";if(t&&e){t._mixins=e,t[n]=t[n]||{};var r={};o.each(e,(function(e){o.augment(t,e);var l=e[n];l&&o.merge(r,l)})),t[n]=o.merge(r,t[n])}}}),t.exports=o},function(t,e,n){var r=n(25),o=n(4);t.exports=function(t,e){if(t)if(o(t))for(var i=0,n=t.length;i<n&&!1!==e(t[i],i);i++);else if(r(t))for(var l in t)if(t.hasOwnProperty(l)&&!1===e(t[l],l))break}},function(t,e,n){var r=n(20),o=n(126),l=o.mix({assign:o.mix,isFinite:isFinite,isNaN:isNaN,Group:r.Group,Event:r.Event},o);t.exports=l},function(t,e,n){var r=n(12),o=Array.isArray?Array.isArray:function(t){return r(t,"Array")};t.exports=o},function(t,e){t.exports=function(t){return null==t}},function(t,e,n){var r=n(1),o=n(190),l=n(102),c=n(55),h=function t(e){t.superclass.constructor.call(this,e)};h.ATTRS={},r.extend(h,l);var f={matrix:"matrix",path:"path",points:"points",lineDash:"lineDash"};r.augment(h,o,{isShape:!0,drawInner:function(t){var e=this._attrs;this.createPath(t);var n=t.globalAlpha;if(this.hasFill()){var o=e.fillOpacity;r.isNil(o)||1===o?t.fill():(t.globalAlpha=o,t.fill(),t.globalAlpha=n)}if(this.hasStroke()&&this._attrs.lineWidth>0){var l=e.strokeOpacity;r.isNil(l)||1===l||(t.globalAlpha=l),t.stroke()}this.afterPath(t)},afterPath:function(){},isHitBox:function(){return!0},isHit:function(t,e){var n=[t,e,1];if(this.invert(n),this.isHitBox()){var r=this.getBBox();if(r&&!c.box(r.minX,r.maxX,r.minY,r.maxY,n[0],n[1]))return!1}var o=this._attrs.clip;return o?(o.invert(n,this.get("canvas")),!!o.isPointInPath(n[0],n[1])&&this.isPointInPath(n[0],n[1])):this.isPointInPath(n[0],n[1])},calculateBox:function(){return null},getHitLineWidth:function(){var t=this._attrs,e=t.lineAppendWidth||0;return(t.lineWidth||0)+e},clearTotalMatrix:function(){this._cfg.totalMatrix=null,this._cfg.region=null},clearBBox:function(){this._cfg.box=null,this._cfg.region=null},getBBox:function(){var t=this._cfg.box;return t||((t=this.calculateBox())&&(t.x=t.minX,t.y=t.minY,t.width=t.maxX-t.minX,t.height=t.maxY-t.minY),this._cfg.box=t),t},clone:function(){var t=null,e=this._attrs,n={};return r.each(e,(function(i,t){f[t]&&r.isArray(e[t])?n[t]=function(t){for(var e=[],i=0;i<t.length;i++)r.isArray(t[i])?e.push([].concat(t[i])):e.push(t[i]);return e}(e[t]):n[t]=e[t]})),t=new this.constructor({attrs:n}),t._cfg.zIndex=this._cfg.zIndex,t}}),t.exports=h},function(t,e,n){var r=n(0),o=n(150),l={version:"3.5.12",renderer:"canvas",trackingInfo:{},animate:!0,widthRatio:{column:.5,rose:.9999999,multiplePie:1/1.3},showSinglePoint:!1,connectNulls:!1,scales:{},registerTheme:function(t,e){o[t]=e},setTheme:function(t){var e={};e=r.isObject(t)?t:-1!==r.indexOf(Object.keys(o),t)?o[t]:o.default,r.deepMix(l,e)}};l.setTheme("default"),t.exports=l},function(t,e){function n(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}t.exports=function(t,e,r,o){return e&&n(t,e),r&&n(t,r),o&&n(t,o),t}},function(t,e,n){var r=n(12);t.exports=function(t){return r(t,"Number")}},function(t,e,n){var r=n(12);t.exports=function(t){return r(t,"String")}},function(t,e,n){var r=n(12);t.exports=function(t){return r(t,"Function")}},function(t,e){var n={}.toString;t.exports=function(t,e){return n.call(t)==="[object "+e+"]"}},function(t,e){t.exports=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)}},function(t,e){t.exports={FONT_FAMILY:'"-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"'}},function(t,e,n){var r=n(3),o=n(155),l=n(32),c=["min","max","median","start","end"],h=function(t){var e,n;function l(){return t.apply(this,arguments)||this}n=t,(e=l).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var h=l.prototype;return h.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{xScales:null,yScales:null,el:null})},h.render=function(){},h.clear=function(){var t=this.get("el");t&&t.remove(),this.set("el",null)},h.destroy=function(){this.clear(),t.prototype.destroy.call(this)},h.changeVisible=function(t){this.set("visible",t);var e=this.get("el");e&&(e.set?e.set("visible",t):e.style.display=t?"":"none")},h.parsePoint=function(t,e){var n,l,c=this.get("xScales"),h=this.get("yScales");if(r.isFunction(e)&&(e=e(c,h)),r.isArray(e)&&r.isString(e[0])&&-1!==e[0].indexOf("%"))return this._parsePercentPoint(t,e);if(r.isArray(e))n=this._getNormalizedValue(e[0],o.getFirstScale(c)),l=this._getNormalizedValue(e[1],o.getFirstScale(h));else for(var f in e){var d=e[f];c[f]&&(n=this._getNormalizedValue(d,c[f])),h[f]&&(l=this._getNormalizedValue(d,h[f],"y"))}return r.isNil(n)||r.isNil(l)||isNaN(n)||isNaN(l)?null:t.convert({x:n,y:l})},h._getNormalizedValue=function(t,e){var n,o;return-1!==r.indexOf(c,t)?"start"===t?n=0:"end"===t?n=1:"median"===t?(o=e.isCategory?(e.values.length-1)/2:(e.min+e.max)/2,n=e.scale(o)):(o=e.isCategory?"min"===t?0:e.values.length-1:e[t],n=e.scale(o)):n=e.scale(t),n},h._parsePercentPoint=function(t,e){var n=parseFloat(e[0])/100,r=parseFloat(e[1])/100,o=t.start,l=t.end,c=Math.min(o.x,l.x),h=Math.min(o.y,l.y);return{x:t.width*n+c,y:t.height*r+h}},l}(l);t.exports=h},function(t,e,n){var r=n(20);t.exports=r},function(t,e,n){"use strict";var r=n(61);n.d(e,"a",(function(){return r.e})),n.d(e,"f",(function(){return r.g})),n.d(e,"d",(function(){return r.f}));var o=n(205);n.d(e,"e",(function(){return o.a})),n.d(e,"c",(function(){return o.b}));var l=n(206);n.d(e,"b",(function(){return l.a}))},function(t,e,n){var r=n(8),o=n(2),l=n(25),c=n(5),h=function(){var t=e.prototype;function e(t){this._initDefaultCfg(),r(this,t),this.init()}return t._initDefaultCfg=function(){this.type="base",this.formatter=null,this.range=[0,1],this.ticks=null,this.values=[]},t.init=function(){},t.getTicks=function(){var t=this,e=t.ticks,n=[];return o(e,(function(e){var r;r=l(e)?e:{text:t.getText(e),tickValue:e,value:t.scale(e)},n.push(r)})),n},t.getText=function(t,e){var n=this.formatter;return t=n?n(t,e):t,!c(t)&&t.toString||(t=""),t.toString()},t.rangeMin=function(){return this.range[0]},t.rangeMax=function(){var t=this.range;return t[t.length-1]},t.invert=function(t){return t},t.translate=function(t){return t},t.scale=function(t){return t},t.clone=function(){var t=this,e=t.constructor,n={};return o(t,(function(e,r){n[r]=t[r]})),new e(n)},t.change=function(t){return this.ticks=null,r(this,t),this.init(),this},e}();t.exports=h},function(t,e,n){var r=n(0),o=n(23),l=r.PathUtil,c={},h={_coord:null,draw:function(t,e){return this.drawShape?this.drawShape(t,e):null},setCoord:function(t){this._coord=t},parsePath:function(path,t){var e=this._coord;return path=l.parsePathString(path),path=e.isPolar&&!1!==t?o.convertPolarPath(e,path):o.convertNormalPath(e,path)},parsePoint:function(t){return this._coord.convertPoint(t)},parsePoints:function(t){var e=this._coord,n=[];return r.each(t,(function(t){n.push(e.convertPoint(t))})),n}},f={defaultShapeType:null,setCoord:function(t){this._coord=t},getShape:function(t){r.isArray(t)&&(t=t[0]);var e=this[t]||this[this.defaultShapeType];return e._coord=this._coord,e},getShapePoints:function(t,e){var n=this.getShape(t);return(n.getPoints||n.getShapePoints||this.getDefaultPoints)(e)},getDefaultPoints:function(){return[]},getMarkerCfg:function(t,e){var n=this.getShape(t);if(!n.getMarkerCfg){var r=this.defaultShapeType;n=this.getShape(r)}return n.getMarkerCfg(e)},getSelectedCfg:function(){return{}},drawShape:function(t,e,n){var r=this.getShape(t).draw(e,n);return r&&(r.setSilent("origin",e.origin),r._id=e.yIndex?e._id+e.yIndex:e._id,r.name=this.name),r}};c.registerFactory=function(t,e){var n=r.upperFirst(t),o=r.assign({},f,e);return c[n]=o,o.name=t,o},c.registerShape=function(t,e,n){var o=r.upperFirst(t),l=c[o],f=r.assign({},h,n);return l[e]=f,f},c.getShapeFactory=function(t){return t=t||"point",this[r.upperFirst(t)]},t.exports=c},function(t,e,n){t.exports={Canvas:n(182),Group:n(101),Shape:n(6),Arc:n(105),Circle:n(106),Dom:n(107),Ellipse:n(108),Fan:n(109),Image:n(110),Line:n(111),Marker:n(57),Path:n(112),Polygon:n(113),Polyline:n(114),Rect:n(115),Text:n(116),PathSegment:n(39),PathUtil:n(58),Event:n(100),version:"3.3.6"}},function(t,e,n){var r=n(73),o=n(299),l=n(147),c=n(0),h=n(7),f=n(307),d=n(19),v=n(339),y=n(340),m=n(341),x=n(342),_=["color","shape","size"];function w(t){return(c.isString(t)||c.isPlainObject(t))&&(t=[t]),c.each(t,(function(e,n){c.isObject(e)||(t[n]={type:e})})),t}var S=function(t){var e,n;n=t,(e=S).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var l=S.prototype;function S(e){var n;return(n=t.call(this,e)||this).viewTheme=n.get("viewTheme"),c.assign(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n),v,y,m),n.get("container")&&n._initContainer(),n._initOptions(),n}return l.getDefaultCfg=function(){return{_id:null,type:"base",coord:null,attrs:{},view:null,data:[],scales:{},container:null,labelContainer:null,shapeContainer:null,attrOptions:{},styleOptions:null,selectedOptions:null,activedOptions:null,hasDefaultAdjust:!1,adjusts:null,shapeType:null,generatePoints:!1,sortable:!1,labelCfg:null,shareTooltip:!0,tooltipCfg:null,animate:!0,animateCfg:null,visible:!0}},l._initOptions=function(){var t=this.get("adjusts");t&&(t=w(t),this.set("adjusts",t))},l._createScale=function(t,data){var e=this.get("scales"),n=e[t];return n||(n=this.get("view").createScale(t,data),e[t]=n),n},l._setAttrOptions=function(t,e){this.get("attrOptions")[t]=e},l._createAttrOption=function(t,e,n,r){var o={};o.field=e,n?c.isFunction(n)?o.callback=n:o.values=n:"color"!==t&&(o.values=r),this._setAttrOptions(t,o)},l.position=function(t){return this._setAttrOptions("position",{field:t}),this},l.color=function(t,e){var n=this.viewTheme||h;return this._createAttrOption("color",t,e,n.colors),this},l.size=function(t,e){var n=this.viewTheme||h;return this._createAttrOption("size",t,e,n.sizes),this},l.shape=function(t,e){var n=this.viewTheme||h,r=this.get("type"),o=n.shapes[r]||[];return this._createAttrOption("shape",t,e,o),this},l.opacity=function(t,e){var n=this.viewTheme||h;return this._createAttrOption("opacity",t,e,n.opacities),this},l.style=function(t,e){var n,r=this.get("styleOptions");return r||(r={},this.set("styleOptions",r)),c.isObject(t)&&(e=t,t=null),t&&(n=x(t)),r.fields=n,r.style=e,this},l.label=function(t,e,n){var r,o=this.get("labelCfg");return o||(o={},this.set("labelCfg",o)),t&&(r=x(t)),o.fields=r,c.isFunction(e)?(n||(n={}),o.callback=e):c.isObject(e)&&(n=e),o.globalCfg=n,this},l.tooltip=function(t,e){var n,r=this.get("tooltipCfg");return r||(r={}),!1===t?this.set("tooltipCfg",!1):(t&&(n=x(t)),r.fields=n,r.cfg=e),this.set("tooltipCfg",r),this},l.animate=function(t){return this.set("animateCfg",t),this},l.active=function(t,e){return!1===t?this.set("allowActive",!1):c.isObject(t)?(this.set("allowActive",!0),this.set("activedOptions",t)):(this.set("allowActive",!0),this.set("activedOptions",e)),this},l.adjust=function(t){return this.get("hasDefaultAdjust")||(t&&(t=w(t)),this.set("adjusts",t)),this},l.select=function(t,e){return!1===t?this.set("allowSelect",!1):c.isObject(t)?(this.set("allowSelect",!0),this.set("selectedOptions",t)):(this.set("allowSelect",!0),this.set("selectedOptions",e)),this},l.hasAdjust=function(t){var e=this.get("adjusts");if(!t)return!1;var n=!1;return c.each(e,(function(e){if(e.type===t)return n=!0,!1})),n},l.hasStack=function(){var t=this.get("isStacked");return c.isNil(t)&&(t=this.hasAdjust("stack"),this.set("isStacked",t)),t},l.isInCircle=function(){var t=this.get("coord");return t&&t.isPolar},l._initContainer=function(){var t=this.get("shapeContainer");if(!t){var e=this.get("container"),view=this.get("view"),n=view&&view.get("_id");t=e.addGroup({viewId:n,visible:this.get("visible")}),this.set("shapeContainer",t)}},l.init=function(){var t=this;if(t._initContainer(),t._initAttrs(),t.get("tooltipCfg")&&t.get("tooltipCfg").fields){var e=t.get("tooltipCfg").fields;c.each(e,(function(e){t._createScale(e)}))}var n=t._processData();t.get("adjusts")&&t._adjust(n),t.set("dataArray",n)},l._initAttrs=function(){var t=this.get("attrs"),e=this.get("attrOptions"),n=this.get("coord"),o=this.viewTheme||h,l=!1;for(var f in e)if(e.hasOwnProperty(f)){var option=e[f],d=c.upperFirst(f),v=x(option.field);"position"===f&&(option.coord=n,1===v.length&&"theta"===n.type&&(v.unshift("1"),l=!0));for(var y=[],i=0;i<v.length;i++){var m=v[i],_=this._createScale(m);"color"===f&&c.isNil(option.values)&&(_.values.length<=8?option.values=l?o.colors_pie:o.colors:_.values.length<=16?option.values=l?o.colors_pie_16:o.colors_16:option.values=o.colors_24,c.isNil(option.values)&&(option.values=o.colors)),y.push(_)}if("theta"===n.type&&"position"===f&&y.length>1){var w=y[1],S=Math.max.apply(null,w.values);isFinite(S)||(S=1),w.change({nice:!1,min:0,max:S})}option.scales=y;var M=new r[d](option);t[f]=M}},l._processData=function(){for(var data=this.get("data"),t=[],e=this._groupData(data),i=0;i<e.length;i++){var n=e[i],r=this._saveOrigin(n);t.push(this._numberic(r))}return t},l._groupData=function(data){var t=this._getGroupScales().map((function(t){return t.field}));return c.Array.group(data,t)},l._saveOrigin=function(data){for(var t=[],i=0;i<data.length;i++){var e=data[i],n={};for(var r in e)n[r]=e[r];n._origin=e,t.push(n)}return t},l._numberic=function(data){for(var t=this.getAttr("position").scales,e=[],n=0;n<data.length;n++){for(var r=data[n],o=!0,i=0;i<Math.min(2,t.length);i++){var l=t[i];if(l.isCategory){var c=l.field;r[c]=l.translate(r[c]),Number.isNaN(r[c])&&(o=!1)}}o&&e.push(r)}return e},l._getGroupScales=function(){var t=this.get("groupScales");if(!t){t=[];var e=this.get("attrs");c.each(e,(function(e){if(_.includes(e.type)){var n=e.scales;c.each(n,(function(e){e.isCategory&&-1===c.indexOf(t,e)&&t.push(e)}))}})),this.set("groupScales",t)}return t},l._updateStackRange=function(t,e,n){for(var r=c.Array.merge(n),o=e.min,l=e.max,i=0;i<r.length;i++){var h=r[i];if(c.isArray(h[t])){var f=Math.min.apply(null,h[t]),d=Math.max.apply(null,h[t]);f<o&&(o=f),d>l&&(l=d)}}(o<e.min||l>e.max)&&e.change({min:o,max:l})},l._adjust=function(t){if(t&&t.length){var e=this,n=e.get("adjusts"),r=this.viewTheme||h,l=e.getYScale(),f=e.getXScale(),d=f.field,v=l?l.field:null;c.each(n,(function(n){var h=c.mix({xField:d,yField:v},n),y=c.upperFirst(n.type);if("Dodge"===y){var m=[];if(f.isCategory||f.isIdentity)m.push("x");else{if(l)throw new Error("dodge is not support linear attribute, please use category attribute!");m.push("y")}h.adjustNames=m,h.dodgeRatio=h.dodgeRatio||r.widthRatio.column}else if("Stack"===y){var x=e.get("coord");if(!l){h.height=x.getHeight();var _=e.getDefaultValue("size")||3;h.size=_}!x.isTransposed&&c.isNil(h.reverseOrder)&&(h.reverseOrder=!0)}new o[y](h).processAdjust(t),"Stack"===y&&l&&e._updateStackRange(v,l,t)}))}},l.setCoord=function(t){this.set("coord",t);var e=this.getAttr("position");this.get("shapeContainer").setMatrix(t.matrix),e&&(e.coord=t)},l.paint=function(){var t=this.get("dataArray"),e=[],n=this.getShapeFactory();n.setCoord(this.get("coord")),this.set("shapeFactory",n);var r=this.get("shapeContainer");this._beforeMapping(t);for(var i=0;i<t.length;i++){var data=t[i],o=i;data=this._mapping(data),e.push(data),this.draw(data,r,n,o)}this.get("labelCfg")&&this._addLabels(c.union.apply(null,e),r.get("children")),this.get("sortable")?this.set("dataArray",e):this._sort(e)},l._sort=function(t){var e=this.getXScale(),n=e.field;c.each(t,(function(t){t.sort((function(t,r){return e.translate(t._origin[n])-e.translate(r._origin[n])}))})),this.set("dataArray",t)},l._beforeMapping=function(t){var e=this;if(e.get("sortable")){var n=e.getXScale(),r=n.field;c.each(t,(function(data){data.sort((function(t,e){return n.translate(t[r])-n.translate(e[r])}))}))}e.get("generatePoints")&&(c.each(t,(function(data){e._generatePoints(data)})),c.each(t,(function(data,e){var n=t[e+1];n&&(data[0].nextPoints=n[0].points)})))},l._addLabels=function(t,e){var n=this,r=n.get("type"),o=n.get("viewTheme")||h,l=n.get("coord"),d=f.getLabelsClass(l.type,r),v=n.get("container"),y=c.map(n.get("labelCfg").fields,(function(t){return n._createScale(t)})),m=v.addGroup(d,{_id:this.get("_id"),labelCfg:c.mix({scales:y},n.get("labelCfg")),coord:l,geom:n,geomType:r,yScale:n.getYScale(),viewTheme:o,visible:n.get("visible")});m.showLabels(t,e),n.set("labelContainer",m)},l.getShapeFactory=function(){var t=this.get("shapeFactory");if(!t){var e=this.get("shapeType");t=d.getShapeFactory(e),this.set("shapeFactory",t)}return t},l._generatePoints=function(data){for(var t=this.getShapeFactory(),e=this.getAttr("shape"),i=0;i<data.length;i++){var n=data[i],r=this.createShapePointsCfg(n),o=e?this._getAttrValues(e,n):null,l=t.getShapePoints(o,r);n.points=l}},l.createShapePointsCfg=function(t){var e=this.getXScale(),n=this.getYScale();return{x:this._normalizeValues(t[e.field],e),y:n?this._normalizeValues(t[n.field],n):t.y?t.y:.1,y0:n?n.scale(this.getYMinValue()):void 0}},l.getYMinValue=function(){var t=this.getYScale(),e=t.min,n=t.max;return e>=0?e:n<=0?n:0},l._normalizeValues=function(t,e){var n=[];if(c.isArray(t))for(var i=0;i<t.length;i++){var r=t[i];n.push(e.scale(r))}else n=e.scale(t);return n},l._mapping=function(data){for(var t=this.get("attrs"),e=[],i=0;i<data.length;i++){var n=data[i],r={};for(var o in r._origin=n._origin,r.points=n.points,r.nextPoints=n.nextPoints,t)if(t.hasOwnProperty(o)){var l=t[o],h=l.names,f=this._getAttrValues(l,n);if(h.length>1)for(var d=0;d<f.length;d++){var v=f[d];r[h[d]]=c.isArray(v)&&1===v.length?v[0]:v}else r[h[0]]=1===f.length?f[0]:f}e.push(r)}return e},l._getAttrValues=function(t,e){for(var n=t.scales,r=[],i=0;i<n.length;i++){var o=n[i],l=o.field;"identity"===o.type?r.push(o.value):r.push(e[l])}return t.mapping.apply(t,r)},l.getAttrValue=function(t,e){var n=this.getAttr(t),r=null;return n&&(r=this._getAttrValues(n,e)[0]),r},l.getDefaultValue=function(t){var e=this.get(t),n=this.getAttr(t);if(n){var r=n.getScale(t);"identity"===r.type&&(e=r.value)}return e},l.draw=function(data,t,e,n){for(var i=0;i<data.length;i++){var r=data[i];this.drawPoint(r,t,e,n+i)}},l.getCallbackCfg=function(t,e,n){if(!t)return e;var r={},o=t.map((function(t){return n[t]}));return c.each(e,(function(t,e){c.isFunction(t)?r[e]=t.apply(null,o):r[e]=t})),r},l._getShapeId=function(t){var e=this.get("_id"),n=this.get("keyFields");if(n&&n.length>0)c.each(n,(function(n){e+="-"+t[n]}));else{var r,o=this.get("type"),l=this.getXScale(),h=this.getYScale(),f=l.field||"x",d=h.field||"y",v=t[d];r=l.isIdentity?l.value:t[f],e+="interval"===o||"schema"===o?"-"+r:"line"===o||"area"===o||"path"===o?"-"+o:"-"+r+"-"+v;var y=this._getGroupScales();c.isEmpty(y)||c.each(y,(function(n){var r=n.field;"identity"!==n.type&&(e+="-"+t[r])}))}return e},l.getDrawCfg=function(t){var e={origin:t,x:t.x,y:t.y,color:t.color,size:t.size,shape:t.shape,isInCircle:this.isInCircle(),opacity:t.opacity},n=this.get("styleOptions");return n&&n.style&&(e.style=this.getCallbackCfg(n.fields,n.style,t._origin)),this.get("generatePoints")&&(e.points=t.points,e.nextPoints=t.nextPoints),this.get("animate")&&(e._id=this._getShapeId(t._origin)),e},l.appendShapeInfo=function(t,e){t&&(t.setSilent("index",e),t.setSilent("coord",this.get("coord")),this.get("animate")&&this.get("animateCfg")&&t.setSilent("animateCfg",this.get("animateCfg")))},l._applyViewThemeShapeStyle=function(t,e,n){var r=this.viewTheme||h,o=n.name;e?e&&(e.indexOf("hollow")>-1||e.indexOf("liquid")>-1)&&(o="hollow"+c.upperFirst(o)):n.defaultShapeType.indexOf("hollow")>-1&&(o="hollow"+c.upperFirst(o));var l=r.shape[o]||{};t.style=c.mix({},l,t.style)},l.drawPoint=function(t,e,n,r){var o=t.shape,l=this.getDrawCfg(t);this._applyViewThemeShapeStyle(l,o,n);var c=n.drawShape(o,l,e);this.appendShapeInfo(c,r)},l.getAttr=function(t){return this.get("attrs")[t]},l.getXScale=function(){return this.getAttr("position").scales[0]},l.getYScale=function(){return this.getAttr("position").scales[1]},l.getShapes=function(){var t=[],e=this.get("shapeContainer").get("children");return c.each(e,(function(e){e.get("origin")&&t.push(e)})),t},l.getAttrsForLegend=function(){var t=this.get("attrs"),e=[];return c.each(t,(function(t){_.includes(t.type)&&e.push(t)})),e},l.getFieldsForLegend=function(){var t=[],e=this.get("attrOptions");return c.each(_,(function(n){var r=e[n];r&&r.field&&c.isString(r.field)&&(t=t.concat(r.field.split("*")))})),c.uniq(t)},l.changeVisible=function(t,e){this.set("visible",t);var n=this.get("shapeContainer");n&&n.set("visible",t);var r=this.get("labelContainer");r&&r.set("visible",t),!e&&n&&n.get("canvas").draw()},l.reset=function(){this.set("attrOptions",{}),this.clearInner()},l.clearInner=function(){this.clearActivedShapes(),this.clearSelected();var t=this.get("shapeContainer");t&&t.clear();var e=this.get("labelContainer");e&&e.remove(),this.set("attrs",{}),this.set("groupScales",null),this.set("labelContainer",null),this.set("xDistance",null),this.set("isStacked",null)},l.clear=function(){this.clearInner(),this.set("scales",{})},l.destroy=function(){this.clear();var e=this.get("shapeContainer");e&&e.remove(),this.offEvents(),t.prototype.destroy.call(this)},l.bindEvents=function(){this.get("view")&&(this._bindActiveAction(),this._bindSelectedAction())},l.offEvents=function(){this.get("view")&&(this._offActiveAction(),this._offSelectedAction())},S}(l);t.exports=S},function(t,e,n){t.exports={Axis:n(308),Component:n(67),Guide:n(316),Label:n(325),Legend:n(326),Tooltip:n(332)}},function(t,e,n){var r=n(0),o=n(336);function l(t,e){var n=t.getCenter();return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function c(t,e){for(var n=t.length,r=[t[0]],i=1;i<n;i+=2){var o=e.convertPoint({x:t[i],y:t[i+1]});r.push(o.x,o.y)}return r}var h={getLinePath:function(t,e){return function(t,e){if(!t.length)return[];for(var path=[],i=0,n=t.length;i<n;i++){var r=t[i];0===i?path.push(["M",r.x,r.y]):path.push(["L",r.x,r.y])}return e&&path.push(["Z"]),path}(t,e)},getSplinePath:function(t,e,n){var data=[],l=t[0],c=null;if(t.length<=2)return h.getLinePath(t,e);r.each(t,(function(t){c&&c.x===t.x&&c.y===t.y||(data.push(t.x),data.push(t.y),c=t)})),n=n||[[0,0],[1,1]];var f=o.catmullRom2bezier(data,e,n);return f.unshift(["M",l.x,l.y]),f},getPointRadius:function(t,e){return l(t,e)},getPointAngle:function(t,e){var n=t.getCenter();return Math.atan2(e.y-n.y,e.x-n.x)},convertNormalPath:function(t,path){var e=[];return r.each(path,(function(n){switch(n[0].toLowerCase()){case"m":case"l":case"c":e.push(c(n,t));break;case"z":default:e.push(n)}})),e},convertPolarPath:function(t,path){var pre,e,n=[];return r.each(path,(function(r,o){switch(r[0].toLowerCase()){case"m":case"c":case"q":n.push(c(r,t));break;case"l":pre=path[o-1],e=r,(t.isTransposed?pre[pre.length-2]===e[1]:pre[pre.length-1]===e[2])?n=n.concat(function(pre,t,e){var n=e.isTransposed,r=e.startAngle,o=e.endAngle,c={x:pre[1],y:pre[2]},h={x:t[1],y:t[2]},f=[],d=n?"y":"x",v=Math.abs(h[d]-c[d])*(o-r),y=h[d]>=c[d]?1:0,m=v>Math.PI?1:0,x=e.convertPoint(h),_=l(e,x);if(_>=.5)if(v===2*Math.PI){var w={x:(h.x+c.x)/2,y:(h.y+c.y)/2},S=e.convertPoint(w);f.push(["A",_,_,0,m,y,S.x,S.y]),f.push(["A",_,_,0,m,y,x.x,x.y])}else f.push(["A",_,_,0,m,y,x.x,x.y]);return f}(pre,e,t)):n.push(c(r,t));break;case"z":default:n.push(r)}})),function(path){r.each(path,(function(t,e){if("a"===t[0].toLowerCase()){var pre=path[e-1],n=path[e+1];n&&"a"===n[0].toLowerCase()?pre&&"l"===pre[0].toLowerCase()&&(pre[0]="M"):pre&&"a"===pre[0].toLowerCase()&&n&&"l"===n[0].toLowerCase()&&(n[0]="M")}}))}(n),n}};t.exports=h},function(t,e,n){var r=n(5);t.exports=function(t){return r(t)?"":t.toString()}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var e=void 0===t?"undefined":n(t);return null!==t&&"object"===e||"function"===e}},function(t,e,n){var r=n(49),o=n(12);t.exports=function(t){if(!r(t)||!o(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}},function(t,e,n){var r=n(1),o=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,l=/[^\s\,]+/gi,c={};t.exports={parseRadius:function(t){var e=0,n=0,o=0,l=0;return r.isArray(t)?1===t.length?e=n=o=l=t[0]:2===t.length?(e=o=t[0],n=l=t[1]):3===t.length?(e=t[0],n=l=t[1],o=t[2]):(e=t[0],n=t[1],o=t[2],l=t[3]):e=n=o=l=t,{r1:e,r2:n,r3:o,r4:l}},parsePath:function(path){return path=path||[],r.isArray(path)?path:r.isString(path)?(path=path.match(o),r.each(path,(function(t,e){if((t=t.match(l))[0].length>1){var n=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=n}r.each(t,(function(sub,i){isNaN(sub)||(t[i]=+sub)})),path[e]=t})),path):void 0},numberToColor:function(t){var e=c[t];if(!e){for(var n=t.toString(16),i=n.length;i<6;i++)n="0"+n;e="#"+n,c[t]=e}return e}}},function(t,e,n){"use strict";e.c=function(a,b){var t=b-a;return t?o(a,t>180||t<-180?t-360*Math.round(t/360):t):Object(r.a)(isNaN(a)?b:a)},e.b=function(t){return 1==(t=+t)?l:function(a,b){return b-a?function(a,b,t){return a=Math.pow(a,t),b=Math.pow(b,t)-a,t=1/t,function(e){return Math.pow(a+e*b,t)}}(a,b,t):Object(r.a)(isNaN(a)?b:a)}},e.a=l;var r=n(120);function o(a,t){return function(e){return a+e*t}}function l(a,b){var t=b-a;return t?o(a,t):Object(r.a)(isNaN(a)?b:a)}},function(t,e,n){var r=n(10),o=n(4),l=n(5),c=n(8),h=n(2);function f(t,e){return r(e)?e:t.invert(t.scale(e))}var d=function(){function t(t){var e=this;this.type="base",this.name=null,this.method=null,this.values=[],this.scales=[],this.linear=null;var n=null,r=this.callback;if(t.callback){var o=t.callback;n=function(){for(var t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];var h=o.apply(void 0,n);return l(h)&&(h=r.apply(e,n)),h}}c(this,t),n&&c(this,{callback:n})}var e=t.prototype;return e._getAttrValue=function(t,e){var n=this.values;if(t.isCategory&&!this.linear)return n[t.translate(e)%n.length];var r=t.scale(e);return this.getLinearValue(r)},e.getLinearValue=function(t){var e=this.values,n=e.length-1,r=Math.floor(n*t),o=n*t-r,l=e[r];return l+((r===n?l:e[r+1])-l)*o},e.callback=function(t){var e=this.scales[0];return"identity"===e.type?e.value:this._getAttrValue(e,t)},e.getNames=function(){for(var t=this.scales,e=this.names,n=Math.min(t.length,e.length),r=[],i=0;i<n;i++)r.push(e[i]);return r},e.getFields=function(){var t=this.scales,e=[];return h(t,(function(t){e.push(t.field)})),e},e.getScale=function(t){return this.scales[this.names.indexOf(t)]},e.mapping=function(){for(var t=this.scales,e=this.callback,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var l=r;if(e){for(var i=0,c=r.length;i<c;i++)r[i]=this._toOriginParam(r[i],t[i]);l=e.apply(this,r)}return l=[].concat(l)},e._toOriginParam=function(param,t){var e=param;if(!t.isLinear)if(o(param)){e=[];for(var i=0,n=param.length;i<n;i++)e.push(f(t,param[i]))}else e=f(t,param);return e},t}();t.exports=d},function(t,e,n){var r=n(8),o=function(){var t=e.prototype;function e(t){this._initDefaultCfg(),r(this,t)}return t._initDefaultCfg=function(){this.adjustNames=["x","y"]},t.processAdjust=function(){},e}();t.exports=o},function(t,e,n){var r=n(32),o=n(3),l=n(152),c=n(153),h=n(14).FONT_FAMILY,f=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var f=r.prototype;return f.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return o.mix({},e,{_id:null,zIndex:4,ticks:null,line:null,tickLine:null,subTickCount:0,subTickLine:null,grid:null,label:{offset:0,offsetX:0,offsetY:0,textStyle:{},autoRotate:!0,autoHide:!1,formatter:null},labelItems:[],title:{autoRotate:!0,textStyle:{}},autoPaint:!0})},f.beforeRender=function(){var title=this.get("title"),label=this.get("label"),t=this.get("grid");title&&this.set("title",o.deepMix({autoRotate:!0,textStyle:{fontSize:12,fill:"#ccc",textBaseline:"middle",fontFamily:h,textAlign:"center"},offset:48},title)),label&&this.set("label",o.deepMix({autoRotate:!0,autoHide:!0,textStyle:{fontSize:12,fill:"#ccc",textBaseline:"middle",fontFamily:h},offset:10},label)),t&&this.set("grid",o.deepMix({lineStyle:{lineWidth:1,stroke:"#C0D0E0"}},t))},f.render=function(){this.beforeRender(),this.get("label")&&this.renderLabels(),this.get("autoPaint")&&this.paint(),o.isNil(this.get("title"))||this.renderTitle(),this.get("group").sort()},f.renderLabels=function(){var t=this.get("group"),e=this.get("label"),n=new c({name:"axis-label"});this.set("labelRenderer",n),n.set("labelCfg",e),o.each(["formatter","htmlTemplate","labelLine","textStyle","useHtml"],(function(t){e[t]&&n.set(t,e[t])})),n.set("coord",this.get("coord")),n.set("group",t.addGroup()),n.set("canvas",this.get("canvas"))},f._parseTicks=function(t){for(var e=(t=t||[]).length,i=0;i<e;i++){var n=t[i];o.isObject(n)||(t[i]=this.parseTick(n,i,e))}return this.set("ticks",t),t},f._addTickItem=function(t,e,n,r){void 0===r&&(r="");var o=this.get("tickItems"),l=this.get("subTickItems"),c=this.getTickEnd(e,n,t),h={x1:e.x,y1:e.y,x2:c.x,y2:c.y};o||(o=[]),l||(l=[]),"sub"===r?l.push(h):o.push(h),this.set("tickItems",o),this.set("subTickItems",l)},f._renderLine=function(){var path,t=this.get("line");if(t){path=this.getLinePath(),t=o.mix({path:path},t);var e=this.get("group").addShape("path",{attrs:t});e.name="axis-line",this.get("appendInfo")&&e.setSilent("appendInfo",this.get("appendInfo")),this.set("lineShape",e)}},f._processCatTicks=function(){var t=this.get("label"),e=this.get("tickLine"),n=this.get("ticks");n=this._parseTicks(n);for(var r=this._getNormalizedTicks(n),i=0;i<r.length;i+=3){var p=this.getTickPoint(r[i]),o=this.getTickPoint(r[i+1]),l=this.getTickPoint(r[i+2]),c=Math.floor(i/3),h=n[c];e&&(0===c&&this._addTickItem(c,o,e.length),this._addTickItem(c,l,e.length)),t&&this.addLabel(h,p,c)}},f._getNormalizedTicks=function(t){var e=0;t.length>1&&(e=(t[1].value-t[0].value)/2);for(var n=[],i=0;i<t.length;i++){var r=t[i],p=r.value,l=r.value-e,c=r.value+e;n.push(p,l,c)}var h=o.arrayUtil.getRange(n);return n.map((function(p){return(p-h.min)/(h.max-h.min)}))},f.addLabel=function(t,e,n){var r=this.get("labelItems"),l=this.get("labelRenderer"),label=o.deepMix({},this.get("label"));if(l){var c=this.get("_labelOffset");o.isNil(this.get("label").offset)||(c=this.get("label").offset);var h=this.getSideVector(c,e,n);e={x:e.x+h[0]+label.offsetX,y:e.y+h[1]+label.offsetY},label.text=t.text,label.x=e.x,label.y=e.y,label.point=e,label.textAlign=this.getTextAnchor(h),e.rotate&&(label.rotate=e.rotate),r.push(label)}},f._processTicks=function(){var t=this,e=t.get("label"),n=t.get("subTickCount"),r=t.get("tickLine"),l=t.get("ticks");if(l=t._parseTicks(l),o.each(l,(function(n,o){var l=t.getTickPoint(n.value,o);r&&t._addTickItem(o,l,r.length),e&&t.addLabel(n,l,o)})),n){var c=t.get("subTickLine");o.each(l,(function(e,o){if(o>0){var h=e.value-l[o-1].value;h/=t.get("subTickCount")+1;for(var i=1;i<=n;i++){var f={text:"",value:o?l[o-1].value+i*h:i*h},d=t.getTickPoint(f.value),v=void 0;v=c&&c.length?c.length:parseInt(.6*r.length,10),t._addTickItem(i-1,d,v,"sub")}}}))}},f._addTickLine=function(t,e){var n=o.mix({},e),path=[];o.each(t,(function(t){path.push(["M",t.x1,t.y1]),path.push(["L",t.x2,t.y2])})),delete n.length,n.path=path;var r=this.get("group").addShape("path",{attrs:n});r.name="axis-ticks",r._id=this.get("_id")+"-ticks",r.set("coord",this.get("coord")),this.get("appendInfo")&&r.setSilent("appendInfo",this.get("appendInfo"))},f._renderTicks=function(){var t=this.get("tickItems"),e=this.get("subTickItems");if(!o.isEmpty(t)){var n=this.get("tickLine");this._addTickLine(t,n)}if(!o.isEmpty(e)){var r=this.get("subTickLine")||this.get("tickLine");this._addTickLine(e,r)}},f._renderGrid=function(){var t=this.get("grid");if(t){t.coord=this.get("coord"),t.appendInfo=this.get("appendInfo");var e=this.get("group");this.set("gridGroup",e.addGroup(l,t))}},f._renderLabels=function(){var t=this.get("labelRenderer"),e=this.get("labelItems");t&&(t.set("items",e),t._dryDraw())},f.paint=function(){var t=this.get("tickLine"),e=!0;t&&t.hasOwnProperty("alignWithLabel")&&(e=t.alignWithLabel),this._renderLine();var n=this.get("type");"cat"!==n&&"timeCat"!==n||!1!==e?this._processTicks():this._processCatTicks(),this._renderTicks(),this._renderGrid(),this._renderLabels();var r=this.get("label");r&&r.autoRotate&&this.autoRotateLabels(),r&&r.autoHide&&this.autoHideLabels()},f.parseTick=function(t,e,n){return{text:t,value:e/(n-1)}},f.getTextAnchor=function(t){return Math.abs(t[1]/t[0])>=1?"center":t[0]>0?"start":"end"},f.getMaxLabelWidth=function(t){var e=t.getLabels(),n=0;return o.each(e,(function(label){var t=label.getBBox().width;n<t&&(n=t)})),n},f.getMaxLabelHeight=function(t){var e=t.getLabels(),n=0;return o.each(e,(function(label){var t=label.getBBox().height;n<t&&(n=t)})),n},f.destroy=function(){if(!this.destroyed){var e=this.get("gridGroup");e&&e.remove();var n=this.get("labelRenderer");n&&n.destroy(),this.get("group").destroy(),t.prototype.destroy.call(this)}},f.clear=function(){var t=this.get("group");if(!t.get("destroyed")&&t.get("children").length){var e=this.get("gridGroup");e&&e.clear();var n=this.get("labelRenderer");n&&n.clear(),this.get("group").clear()}},f.autoRotateLabels=function(){},f.autoHideLabels=function(){},f.renderTitle=function(){},f.getLinePath=function(){},f.getTickPoint=function(){},f.getTickEnd=function(){},f.getSideVector=function(){},r}(r);t.exports=f},function(t,e,n){var r=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getDefaultCfg=function(){return{_id:null,canvas:null,container:null,group:null,capture:!1,coord:null,offset:[0,0],plotRange:null,position:[0,0],visible:!0,zIndex:1}},o._init=function(){},o.clear=function(){},o.destroy=function(){t.prototype.destroy.call(this)},o.beforeRender=function(){},o.render=function(){},o.afterRender=function(){},o.beforeDraw=function(){},o.draw=function(){},o.afterDraw=function(){},o.show=function(){},o.hide=function(){},o.setOffset=function(){},o.setPosition=function(){},o.setVisible=function(){},o.setZIndex=function(){},r}(n(67));t.exports=r},function(t,e,n){var r=n(5),o=n(2),l=n(18),c=n(175),h=function(t){var e,n;function l(){return t.apply(this,arguments)||this}n=t,(e=l).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var h=l.prototype;return h._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="linear",this.isLinear=!0,this.nice=!1,this.min=null,this.minLimit=null,this.max=null,this.maxLimit=null,this.tickCount=null,this.tickInterval=null,this.minTickInterval=null,this.snapArray=null},h.init=function(){if(this.ticks){var t=this.ticks,e=this.translate(t[0]),n=this.translate(t[t.length-1]);(r(this.min)||this.min>e)&&(this.min=e),(r(this.max)||this.max<n)&&(this.max=n)}else this.min=this.translate(this.min),this.max=this.translate(this.max),this.initTicks()},h.calculateTicks=function(){var t=this.min,e=this.max,n=this.minLimit,r=this.maxLimit,o=this.tickCount,l=this.tickInterval,h=this.minTickInterval,f=this.snapArray;if(1===o)throw new Error("linear scale'tickCount should not be 1");if(e<t)throw new Error("max: "+e+" should not be less than min: "+t);return c({min:t,max:e,minLimit:n,maxLimit:r,minCount:o,maxCount:o,interval:l,minTickInterval:h,snapArray:f}).ticks},h.initTicks=function(){var t=this,e=t.calculateTicks();if(t.nice)t.ticks=e,t.min=e[0],t.max=e[e.length-1];else{var n=[];o(e,(function(e){e>=t.min&&e<=t.max&&n.push(e)})),n.length||(n.push(t.min),n.push(t.max)),t.ticks=n}},h.scale=function(t){if(r(t))return NaN;var e=this.max,n=this.min;if(e===n)return 0;var o=(t-n)/(e-n),l=this.rangeMin();return l+o*(this.rangeMax()-l)},h.invert=function(t){var e=(t-this.rangeMin())/(this.rangeMax()-this.rangeMin());return this.min+e*(this.max-this.min)},l}(l);l.Linear=h,t.exports=h},function(t,e,n){var r=n(13);t.exports=function(t){return r(t)?Array.prototype.slice.call(t):[]}},function(t,e){t.exports=function(a,b){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-5;return Math.abs(a-b)<t}},function(t,e,n){var r=n(1).vec2;t.exports={at:function(t,e,n){return(e-t)*n+t},pointDistance:function(t,e,n,o,l,c){var h=[n-t,o-e];if(r.exactEquals(h,[0,0]))return NaN;var u=[-h[1],h[0]];r.normalize(u,u);var a=[l-t,c-e];return Math.abs(r.dot(a,u))},box:function(t,e,n,r,o){var l=o/2,c=Math.min(t,n),h=Math.max(t,n);return{minX:c-l,minY:Math.min(e,r)-l,maxX:h+l,maxY:Math.max(e,r)+l}},len:function(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))}}},function(t,e,n){var r=n(1);function o(t,e,n,r){return{x:Math.cos(r)*n+t,y:Math.sin(r)*n+e}}function l(t,e,n,r){var o,l;return r?t<e?(o=e-t,l=2*Math.PI-n+t):t>n&&(o=2*Math.PI-t+e,l=t-n):(o=t-e,l=n-t),o>l?n:e}function c(t,e,n,o){var c=0;return n-e>=2*Math.PI&&(c=2*Math.PI),e=r.mod(e,2*Math.PI),n=r.mod(n,2*Math.PI)+c,t=r.mod(t,2*Math.PI),o?e>=n?t>n&&t<e?t:l(t,n,e,!0):t<e||t>n?t:l(t,e,n):e<=n?e<t&&t<n?t:l(t,e,n,!0):t>e||t<n?t:l(t,n,e)}function h(t,e,n,o,l,h,f,d,v){var y=[f,d],m=[t,e],x=r.vec2.subtract([],y,m),_=r.vec2.angleTo([1,0],x);_=c(_,o,l,h);var w=[n*Math.cos(_)+t,n*Math.sin(_)+e];return v&&(v.x=w[0],v.y=w[1]),r.vec2.distance(w,y)}t.exports={nearAngle:c,projectPoint:function(t,e,n,r,o,l,c,f){var d={};return h(t,e,n,r,o,l,c,f,d),d},pointDistance:h,box:function(t,e,n,l,h,f){var d=Math.PI/2,v=Math.PI,y=3*Math.PI/2,m=[],x=c(0,l,h,f);0===x&&m.push(o(t,e,n,0)),(x=c(d,l,h,f))===d&&m.push(o(t,e,n,d)),(x=c(v,l,h,f))===v&&m.push(o(t,e,n,v)),(x=c(y,l,h,f))===y&&m.push(o(t,e,n,y)),m.push(o(t,e,n,l)),m.push(o(t,e,n,h));var _=1/0,w=-1/0,S=1/0,M=-1/0;return r.each(m,(function(t){_>t.x&&(_=t.x),w<t.x&&(w=t.x),S>t.y&&(S=t.y),M<t.y&&(M=t.y)})),{minX:_,minY:S,maxX:w,maxY:M}}}},function(t,e,n){var r=n(27),o=n(39),l=Math.PI,c=Math.sin,h=Math.cos,f=Math.atan2,d=l/3;function v(t,e,n,r,o,v,y){var m,x,_,w,S,M,C;if(!e.fill){var A=e.arrowLength||10,k=e.arrowAngle?e.arrowAngle*l/180:d;C=f(r-v,n-o),S=Math.abs(e.lineWidth*h(C))/2,M=Math.abs(e.lineWidth*c(C))/2,y&&(S=-S,M=-M),m=o+A*h(C+k/2),x=v+A*c(C+k/2),_=o+A*h(C-k/2),w=v+A*c(C-k/2),t.beginPath(),t.moveTo(m-S,x-M),t.lineTo(o-S,v-M),t.lineTo(_-S,w-M),t.moveTo(o-S,v-M),t.lineTo(o+S,v+M),t.moveTo(o,v),t.stroke()}}function y(t,e,n,l,c,h,f){var d=f?e.startArrow:e.endArrow,v=d.d,y=0,m=c-n,x=h-l,_=Math.atan(m/x);0===x&&m<0?y=Math.PI:m>0&&x>0?y=Math.PI/2-_:m<0&&x<0?y=-Math.PI/2-_:m>=0&&x<0?y=-_-Math.PI/2:m<=0&&x>0&&(y=Math.PI/2-_);var path=function(t){var e,n=[],l=r.parsePath(t.path);if(!Array.isArray(l)||0===l.length||"M"!==l[0][0]&&"m"!==l[0][0])return!1;for(var c=l.length,i=0;i<l.length;i++){var h=l[i];e=new o(h,e,i===c-1),n.push(e)}return n}(d);if(path){v&&(f?(c+=Math.sin(Math.abs(_))*v,h=h+Math.cos(Math.abs(_))*v-.5*t.lineWidth):(c-=Math.sin(Math.abs(_))*v,h=h-Math.cos(Math.abs(_))*v+.5*t.lineWidth)),t.save(),t.beginPath(),t.translate(c,h),t.rotate(y);for(var i=0;i<path.length;i++)path[i].draw(t);t.setTransform(1,0,0,1,0,0),t.fillStyle=t.strokeStyle,t.fill(),t.restore()}}t.exports={addStartArrow:function(t,e,n,r,o,l){"object"==typeof e.startArrow?y(t,e,n,r,o,l,!0):e.startArrow&&v(t,e,n,r,o,l,!0)},addEndArrow:function(t,e,n,r,o,l){"object"==typeof e.endArrow?y(t,e,n,r,o,l,!1):e.endArrow&&v(t,e,n,r,o,l,!1)}}},function(t,e,n){var r=n(1),o=n(55),l=n(56),c=n(103),h=n(104),f=r.vec3,d=r.mat3,v=["m","l","c","a","q","h","v","t","s","z"];function y(t,e,n){return{x:n.x+t,y:n.y+e}}function m(t,e){return{x:e.x+(e.x-t.x),y:e.y+(e.y-t.y)}}function x(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function _(u,t){return(u[0]*t[0]+u[1]*t[1])/(x(u)*x(t))}function w(u,t){return(u[0]*t[1]<u[1]*t[0]?-1:1)*Math.acos(_(u,t))}var S=function(t,e,n){this.preSegment=e,this.isLast=n,this.init(t,e)};r.augment(S,{init:function(t,e){var n=t[0];e=e||{endPoint:{x:0,y:0}};var o,l,c,h,f=v.indexOf(n)>=0,d=f?n.toUpperCase():n,p=t,x=e.endPoint,S=p[1],M=p[2];switch(d){default:break;case"M":h=f?y(S,M,x):{x:S,y:M},this.command="M",this.params=[x,h],this.subStart=h,this.endPoint=h;break;case"L":h=f?y(S,M,x):{x:S,y:M},this.command="L",this.params=[x,h],this.subStart=e.subStart,this.endPoint=h,this.endTangent=function(){return[h.x-x.x,h.y-x.y]},this.startTangent=function(){return[x.x-h.x,x.y-h.y]};break;case"H":h=f?y(S,0,x):{x:S,y:x.y},this.command="L",this.params=[x,h],this.subStart=e.subStart,this.endPoint=h,this.endTangent=function(){return[h.x-x.x,h.y-x.y]},this.startTangent=function(){return[x.x-h.x,x.y-h.y]};break;case"V":h=f?y(0,S,x):{x:x.x,y:S},this.command="L",this.params=[x,h],this.subStart=e.subStart,this.endPoint=h,this.endTangent=function(){return[h.x-x.x,h.y-x.y]},this.startTangent=function(){return[x.x-h.x,x.y-h.y]};break;case"Q":f?(o=y(S,M,x),l=y(p[3],p[4],x)):(o={x:S,y:M},l={x:p[3],y:p[4]}),this.command="Q",this.params=[x,o,l],this.subStart=e.subStart,this.endPoint=l,this.endTangent=function(){return[l.x-o.x,l.y-o.y]},this.startTangent=function(){return[x.x-o.x,x.y-o.y]};break;case"T":l=f?y(S,M,x):{x:S,y:M},"Q"===e.command?(o=m(e.params[1],x),this.command="Q",this.params=[x,o,l],this.subStart=e.subStart,this.endPoint=l,this.endTangent=function(){return[l.x-o.x,l.y-o.y]},this.startTangent=function(){return[x.x-o.x,x.y-o.y]}):(this.command="TL",this.params=[x,l],this.subStart=e.subStart,this.endPoint=l,this.endTangent=function(){return[l.x-x.x,l.y-x.y]},this.startTangent=function(){return[x.x-l.x,x.y-l.y]});break;case"C":f?(o=y(S,M,x),l=y(p[3],p[4],x),c=y(p[5],p[6],x)):(o={x:S,y:M},l={x:p[3],y:p[4]},c={x:p[5],y:p[6]}),this.command="C",this.params=[x,o,l,c],this.subStart=e.subStart,this.endPoint=c,this.endTangent=function(){return[c.x-l.x,c.y-l.y]},this.startTangent=function(){return[x.x-o.x,x.y-o.y]};break;case"S":f?(l=y(S,M,x),c=y(p[3],p[4],x)):(l={x:S,y:M},c={x:p[3],y:p[4]}),"C"===e.command?(o=m(e.params[2],x),this.command="C",this.params=[x,o,l,c],this.subStart=e.subStart,this.endPoint=c,this.endTangent=function(){return[c.x-l.x,c.y-l.y]},this.startTangent=function(){return[x.x-o.x,x.y-o.y]}):(this.command="SQ",this.params=[x,l,c],this.subStart=e.subStart,this.endPoint=c,this.endTangent=function(){return[c.x-l.x,c.y-l.y]},this.startTangent=function(){return[x.x-l.x,x.y-l.y]});break;case"A":var C=S,A=M,k=p[3],P=p[4],T=p[5];h=f?y(p[6],p[7],x):{x:p[6],y:p[7]},this.command="A";var I=function(t,e,n,o,l,c,h){var f=r.mod(r.toRadian(h),2*Math.PI),d=t.x,v=t.y,y=e.x,m=e.y,x=Math.cos(f)*(d-y)/2+Math.sin(f)*(v-m)/2,S=-1*Math.sin(f)*(d-y)/2+Math.cos(f)*(v-m)/2,M=x*x/(l*l)+S*S/(c*c);M>1&&(l*=Math.sqrt(M),c*=Math.sqrt(M));var C=l*l*(S*S)+c*c*(x*x),A=Math.sqrt((l*l*(c*c)-C)/C);n===o&&(A*=-1),isNaN(A)&&(A=0);var k=A*l*S/c,P=A*-c*x/l,T=(d+y)/2+Math.cos(f)*k-Math.sin(f)*P,I=(v+m)/2+Math.sin(f)*k+Math.cos(f)*P,O=w([1,0],[(x-k)/l,(S-P)/c]),u=[(x-k)/l,(S-P)/c],L=[(-1*x-k)/l,(-1*S-P)/c],E=w(u,L);return _(u,L)<=-1&&(E=Math.PI),_(u,L)>=1&&(E=0),0===o&&E>0&&(E-=2*Math.PI),1===o&&E<0&&(E+=2*Math.PI),[t,T,I,l,c,O,E,f,o]}(x,h,P,T,C,A,k);this.params=I;var O=e.subStart;this.subStart=O,this.endPoint=h;var L=I[5]%(2*Math.PI);r.isNumberEqual(L,2*Math.PI)&&(L=0);var E=I[6]%(2*Math.PI);r.isNumberEqual(E,2*Math.PI)&&(E=0);var D=.001;this.startTangent=function(){0===T&&(D*=-1);var t=I[3]*Math.cos(L-D)+I[1],e=I[4]*Math.sin(L-D)+I[2];return[t-O.x,e-O.y]},this.endTangent=function(){var t=I[6];t-2*Math.PI<1e-4&&(t=0);var e=I[3]*Math.cos(L+t+D)+I[1],n=I[4]*Math.sin(L+t-D)+I[2];return[x.x-e,x.y-n]};break;case"Z":this.command="Z",this.params=[x,e.subStart],this.subStart=e.subStart,this.endPoint=e.subStart}},isInside:function(t,e,n){var r=this.command,l=this.params,c=this.box;if(c&&!o.box(c.minX,c.maxX,c.minY,c.maxY,t,e))return!1;switch(r){default:break;case"M":return!1;case"TL":case"L":case"Z":return o.line(l[0].x,l[0].y,l[1].x,l[1].y,n,t,e);case"SQ":case"Q":return o.quadraticline(l[0].x,l[0].y,l[1].x,l[1].y,l[2].x,l[2].y,n,t,e);case"C":return o.cubicline(l[0].x,l[0].y,l[1].x,l[1].y,l[2].x,l[2].y,l[3].x,l[3].y,n,t,e);case"A":var p=l,h=p[1],v=p[2],y=p[3],m=p[4],x=p[5],_=p[6],w=p[7],S=p[8],M=y>m?y:m,C=y>m?1:y/m,A=y>m?m/y:1;p=[t,e,1];var k=[1,0,0,0,1,0,0,0,1];return d.translate(k,k,[-h,-v]),d.rotate(k,k,-w),d.scale(k,k,[1/C,1/A]),f.transformMat3(p,p,k),o.arcline(0,0,M,x,x+_,1-S,n,p[0],p[1])}return!1},draw:function(t){var e,n,r,o=this.command,l=this.params;switch(o){default:break;case"M":t.moveTo(l[1].x,l[1].y);break;case"TL":case"L":t.lineTo(l[1].x,l[1].y);break;case"SQ":case"Q":e=l[1],n=l[2],t.quadraticCurveTo(e.x,e.y,n.x,n.y);break;case"C":e=l[1],n=l[2],r=l[3],t.bezierCurveTo(e.x,e.y,n.x,n.y,r.x,r.y);break;case"A":var p=l,c=p[1],h=p[2],f=p[3],d=p[4],v=p[5],y=p[6],m=p[7],x=p[8],_=f>d?f:d,w=f>d?1:f/d,S=f>d?d/f:1;t.translate(c,h),t.rotate(m),t.scale(w,S),t.arc(0,0,_,v,v+y,1-x),t.scale(1/w,1/S),t.rotate(-m),t.translate(-c,-h);break;case"Z":t.closePath()}},getBBox:function(t){var e,n,i,r,o=t/2,f=this.params;switch(this.command){default:case"M":case"Z":break;case"TL":case"L":this.box={minX:Math.min(f[0].x,f[1].x)-o,maxX:Math.max(f[0].x,f[1].x)+o,minY:Math.min(f[0].y,f[1].y)-o,maxY:Math.max(f[0].y,f[1].y)+o};break;case"SQ":case"Q":for(i=0,r=(n=c.extrema(f[0].x,f[1].x,f[2].x)).length;i<r;i++)n[i]=c.at(f[0].x,f[1].x,f[2].x,n[i]);for(n.push(f[0].x,f[2].x),i=0,r=(e=c.extrema(f[0].y,f[1].y,f[2].y)).length;i<r;i++)e[i]=c.at(f[0].y,f[1].y,f[2].y,e);e.push(f[0].y,f[2].y),this.box={minX:Math.min.apply(Math,n)-o,maxX:Math.max.apply(Math,n)+o,minY:Math.min.apply(Math,e)-o,maxY:Math.max.apply(Math,e)+o};break;case"C":for(i=0,r=(n=l.extrema(f[0].x,f[1].x,f[2].x,f[3].x)).length;i<r;i++)n[i]=l.at(f[0].x,f[1].x,f[2].x,f[3].x,n[i]);for(i=0,r=(e=l.extrema(f[0].y,f[1].y,f[2].y,f[3].y)).length;i<r;i++)e[i]=l.at(f[0].y,f[1].y,f[2].y,f[3].y,e[i]);n.push(f[0].x,f[3].x),e.push(f[0].y,f[3].y),this.box={minX:Math.min.apply(Math,n)-o,maxX:Math.max.apply(Math,n)+o,minY:Math.min.apply(Math,e)-o,maxY:Math.max.apply(Math,e)+o};break;case"A":var p=f,d=p[1],v=p[2],y=p[3],m=p[4],x=p[5],_=p[6],w=p[7],S=p[8],M=x,C=x+_,A=h.xExtrema(w,y,m),k=1/0,P=-1/0,T=[M,C];for(i=2*-Math.PI;i<=2*Math.PI;i+=Math.PI){var I=A+i;1===S?M<I&&I<C&&T.push(I):C<I&&I<M&&T.push(I)}for(i=0,r=T.length;i<r;i++){var O=h.xAt(w,y,m,d,T[i]);O<k&&(k=O),O>P&&(P=O)}var L=h.yExtrema(w,y,m),E=1/0,D=-1/0,F=[M,C];for(i=2*-Math.PI;i<=2*Math.PI;i+=Math.PI){var B=L+i;1===S?M<B&&B<C&&F.push(B):C<B&&B<M&&F.push(B)}for(i=0,r=F.length;i<r;i++){var R=h.yAt(w,y,m,v,F[i]);R<E&&(E=R),R>D&&(D=R)}this.box={minX:k-o,maxX:P+o,minY:E-o,maxY:D+o}}}}),t.exports=S},function(t,e,n){"use strict";e.a=function(a,b){return b-=a=+a,function(t){return a+b*t}}},function(t,e,n){var r=n(13),o=Array.prototype.indexOf;t.exports=function(t,e){return!!r(t)&&o.call(t,e)>-1}},function(t,e){t.exports=function(t){for(var e=[],i=0;i<t.length;i++)e=e.concat(t[i]);return e}},function(t,e,n){t.exports={mat3:n(52),vec2:n(97),vec3:n(98),transform:n(99)}},function(t,e,n){"use strict";function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}var l=n(43),c=n(8),h=l.mat3,f=l.vec3,d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=this.getDefaultCfg();c(this,n,e),this.init()}return o(t,[{key:"getDefaultCfg",value:function(){return{isTransposed:!1,matrix:[1,0,0,0,1,0,0,0,1]}}}]),o(t,[{key:"init",value:function(){var t=this.start,e=this.end,n={x:(t.x+e.x)/2,y:(t.y+e.y)/2};this.center=n,this.width=Math.abs(e.x-t.x),this.height=Math.abs(e.y-t.y)}},{key:"_swapDim",value:function(t){var e=this[t];if(e){var n=e.start;e.start=e.end,e.end=n}}},{key:"getCenter",value:function(){return this.center}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"convertDim",value:function(t,e){var n=this[e],r=n.start;return r+t*(n.end-r)}},{key:"invertDim",value:function(t,e){var n=this[e],r=n.start;return(t-r)/(n.end-r)}},{key:"convertPoint",value:function(t){return t}},{key:"invertPoint",value:function(t){return t}},{key:"applyMatrix",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.matrix,o=[t,e,n];return f.transformMat3(o,o,r),o}},{key:"invertMatrix",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.matrix,o=h.invert([],r),l=[t,e,n];return f.transformMat3(l,l,o),l}},{key:"convert",value:function(t){var e=this.convertPoint(t),n=e.x,r=e.y,o=this.applyMatrix(n,r,1);return{x:o[0],y:o[1]}}},{key:"invert",value:function(t){var e=this.invertMatrix(t.x,t.y,1);return this.invertPoint({x:e[0],y:e[1]})}},{key:"rotate",value:function(t){var e=this.matrix,n=this.center;return h.translate(e,e,[-n.x,-n.y]),h.rotate(e,e,t),h.translate(e,e,[n.x,n.y]),this}},{key:"reflect",value:function(t){switch(t){case"x":this._swapDim("x");break;case"y":this._swapDim("y");break;default:this._swapDim("y")}return this}},{key:"scale",value:function(t,e){var n=this.matrix,r=this.center;return h.translate(n,n,[-r.x,-r.y]),h.scale(n,n,[t,e]),h.translate(n,n,[r.x,r.y]),this}},{key:"translate",value:function(t,e){var n=this.matrix;return h.translate(n,n,[t,e]),this}},{key:"transpose",value:function(){return this.isTransposed=!this.isTransposed,this}}]),t}();t.exports=d},function(t,e,n){var r=n(0),o={splitPoints:function(t){var e=[],n=t.x,o=t.y;return o=r.isArray(o)?o:[o],r.each(o,(function(t,o){var l={x:r.isArray(n)?n[o]:n,y:t};e.push(l)})),e},addFillAttrs:function(t,e){e.color&&(t.fill=e.color),r.isNumber(e.opacity)&&(t.opacity=t.fillOpacity=e.opacity)},addStrokeAttrs:function(t,e){e.color&&(t.stroke=e.color),r.isNumber(e.opacity)&&(t.opacity=t.strokeOpacity=e.opacity)}};t.exports=o},function(t,e,n){"use strict";n.d(e,"c",(function(){return h})),n.d(e,"d",(function(){return f})),n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return v})),e.g=function(t,e){var n=y(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n},e.h=function(t,e){var n=y(t,e);if(n.state>3)throw new Error("too late; already running");return n},e.f=y;var r=n(453),o=n(170),l=Object(r.a)("start","end","cancel","interrupt"),c=[],h=1,f=2,d=5,v=6;function y(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}e.e=function(t,e,n,r,y,m){var x=t.__transition;if(x){if(n in x)return}else t.__transition={};!function(t,e,n){var r,l=t.__transition;function c(d){var i,x,_,w;if(n.state!==h)return m();for(i in l)if((w=l[i]).name===n.name){if(3===w.state)return Object(o.timeout)(c);4===w.state?(w.state=v,w.timer.stop(),w.on.call("interrupt",t,t.__data__,w.index,w.group),delete l[i]):+i<e&&(w.state=v,w.timer.stop(),w.on.call("cancel",t,t.__data__,w.index,w.group),delete l[i])}if(Object(o.timeout)((function(){3===n.state&&(n.state=4,n.timer.restart(y,n.delay,n.time),y(d))})),n.state=f,n.on.call("start",t,t.__data__,n.index,n.group),n.state===f){for(n.state=3,r=new Array(_=n.tween.length),i=0,x=-1;i<_;++i)(w=n.tween[i].value.call(t,t.__data__,n.index,n.group))&&(r[++x]=w);r.length=x+1}}function y(e){for(var o=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(m),n.state=d,1),i=-1,l=r.length;++i<l;)r[i].call(t,o);n.state===d&&(n.on.call("end",t,t.__data__,n.index,n.group),m())}function m(){for(var i in n.state=v,n.timer.stop(),delete l[e],l)return;delete t.__transition}l[e]=n,n.timer=Object(o.timer)((function(t){n.state=h,n.timer.restart(c,n.delay,n.time),n.delay<=t&&c(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:y,on:l,tween:c,time:m.time,delay:m.delay,duration:m.duration,ease:m.ease,timer:null,state:0})}},function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(4);t.exports=function t(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return e;var n=void 0;if(o(e)){n=[];for(var i=0,l=e.length;i<l;i++)"object"===r(e[i])&&null!=e[i]?n[i]=t(e[i]):n[i]=e[i]}else for(var c in n={},e)"object"===r(e[c])&&null!=e[c]?n[c]=t(e[c]):n[c]=e[c];return n}},function(t,e,n){var r=n(26),o=n(4);function l(t,e,n,c){for(var h in n=n||0,c=c||5,e)if(e.hasOwnProperty(h)){var f=e[h];null!==f&&r(f)?(r(t[h])||(t[h]={}),n<c?l(t[h],f,n+1,c):t[h]=e[h]):o(f)?(t[h]=[],t[h]=t[h].concat(f)):void 0!==f&&(t[h]=f)}}t.exports=function(){for(var t=new Array(arguments.length),e=t.length,i=0;i<e;i++)t[i]=arguments[i];for(var n=t[0],r=1;r<e;r++)l(n,t[r]);return n}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return"object"===(void 0===t?"undefined":n(t))&&null!==t}},function(t,e,n){var r=n(49),o=n(13),l=n(10);t.exports=function t(e,n){if(e===n)return!0;if(!e||!n)return!1;if(l(e)||l(n))return!1;if(o(e)||o(n)){if(e.length!==n.length)return!1;for(var c=!0,i=0;i<e.length&&(c=t(e[i],n[i]));i++);return c}if(r(e)||r(n)){var h=Object.keys(e),f=Object.keys(n);if(h.length!==f.length)return!1;for(var d=!0,v=0;v<h.length&&(d=t(e[h[v]],n[h[v]]));v++);return d}return!1}},function(t,e){t.exports=function(a,t,e){return a<t?t:a>e?e:a}},function(t,e,n){var r=n(183);r.translate=function(t,a,e){var n=new Array(9);return r.fromTranslation(n,e),r.multiply(t,n,a)},r.rotate=function(t,a,e){var n=new Array(9);return r.fromRotation(n,e),r.multiply(t,n,a)},r.scale=function(t,a,e){var n=new Array(9);return r.fromScaling(n,e),r.multiply(t,n,a)},t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=function(t){e.ARRAY_TYPE=t},e.toRadian=function(a){return a*o},e.equals=function(a,b){return Math.abs(a-b)<=r*Math.max(1,Math.abs(a),Math.abs(b))};var r=e.EPSILON=1e-6;e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,e.RANDOM=Math.random;var o=Math.PI/180},function(t,e,n){var r;!function(e){"use strict";function o(){}var l=o.prototype,c=e.EventEmitter;function h(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function f(t){return function(){return this[t].apply(this,arguments)}}l.getListeners=function(t){var e,n,r=this._getEvents();if(t instanceof RegExp)for(n in e={},r)r.hasOwnProperty(n)&&t.test(n)&&(e[n]=r[n]);else e=r[t]||(r[t]=[]);return e},l.flattenListeners=function(t){var i,e=[];for(i=0;i<t.length;i+=1)e.push(t[i].listener);return e},l.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&((e={})[t]=n),e||n},l.addListener=function(t,e){if(!function t(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&t(e.listener)}(e))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(t),o="object"==typeof e;for(n in r)r.hasOwnProperty(n)&&-1===h(r[n],e)&&r[n].push(o?e:{listener:e,once:!1});return this},l.on=f("addListener"),l.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},l.once=f("addOnceListener"),l.defineEvent=function(t){return this.getListeners(t),this},l.defineEvents=function(t){for(var i=0;i<t.length;i+=1)this.defineEvent(t[i]);return this},l.removeListener=function(t,e){var n,r,o=this.getListenersAsObject(t);for(r in o)o.hasOwnProperty(r)&&-1!==(n=h(o[r],e))&&o[r].splice(n,1);return this},l.off=f("removeListener"),l.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},l.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},l.manipulateListeners=function(t,e,n){var i,r,o=t?this.removeListener:this.addListener,l=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(i=n.length;i--;)o.call(this,e,n[i]);else for(i in e)e.hasOwnProperty(i)&&(r=e[i])&&("function"==typeof r?o.call(this,i,r):l.call(this,i,r));return this},l.removeEvent=function(t){var e,n=typeof t,r=this._getEvents();if("string"===n)delete r[t];else if(t instanceof RegExp)for(e in r)r.hasOwnProperty(e)&&t.test(e)&&delete r[e];else delete this._events;return this},l.removeAllListeners=f("removeEvent"),l.emitEvent=function(t,e){var n,r,i,o,l=this.getListenersAsObject(t);for(o in l)if(l.hasOwnProperty(o))for(n=l[o].slice(0),i=0;i<n.length;i++)!0===(r=n[i]).once&&this.removeListener(t,r.listener),r.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,r.listener);return this},l.trigger=f("emitEvent"),l.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},l.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},l._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},l._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return e.EventEmitter=c,o},void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)}(this||{})},function(t,e,n){var r=n(36),o=n(103),l=n(56),c=n(37);t.exports={line:function(t,e,n,o,l,c,h){var f=r.box(t,e,n,o,l);if(!this.box(f.minX,f.maxX,f.minY,f.maxY,c,h))return!1;var d=r.pointDistance(t,e,n,o,c,h);return!isNaN(d)&&d<=l/2},polyline:function(t,e,n,r){var o=t.length-1;if(o<1)return!1;for(var i=0;i<o;i++){var l=t[i][0],c=t[i][1],h=t[i+1][0],f=t[i+1][1];if(this.line(l,c,h,f,e,n,r))return!0}return!1},cubicline:function(t,e,n,r,o,c,h,f,d,v,y){return l.pointDistance(t,e,n,r,o,c,h,f,v,y)<=d/2},quadraticline:function(t,e,n,r,l,c,h,f,d){return o.pointDistance(t,e,n,r,l,c,f,d)<=h/2},arcline:function(t,e,n,r,o,l,h,f,d){return c.pointDistance(t,e,n,r,o,l,f,d)<=h/2},rect:function(t,e,n,r,o,l){return t<=o&&o<=t+n&&e<=l&&l<=e+r},circle:function(t,e,n,r,o){return Math.pow(r-t,2)+Math.pow(o-e,2)<=Math.pow(n,2)},box:function(t,e,n,r,o,l){return t<=o&&o<=e&&n<=l&&l<=r}}},function(t,e,n){var r=n(1),o=r.vec2;function l(t,e,n,r,o){var l=1-o;return l*l*(l*r+3*o*n)+o*o*(o*t+3*l*e)}function c(t,e,n,r,c,h,f,d,v,y,m){var x,_,w,S,M,C,A,k,P=.005,T=1/0,I=[v,y];for(_=0;_<1;_+=.05)w=[l(t,n,c,f,_),l(e,r,h,d,_)],(S=o.squaredDistance(I,w))<T&&(x=_,T=S);T=1/0;for(var i=0;i<32&&!(P<1e-4);i++)k=x+P,w=[l(t,n,c,f,A=x-P),l(e,r,h,d,A)],S=o.squaredDistance(I,w),A>=0&&S<T?(x=A,T=S):(C=[l(t,n,c,f,k),l(e,r,h,d,k)],M=o.squaredDistance(I,C),k<=1&&M<T?(x=k,T=M):P*=.5);return m&&(m.x=l(t,n,c,f,x),m.y=l(e,r,h,d,x)),Math.sqrt(T)}function h(t,e,n,r,o){return t*(t*(-3*e+9*n-9*r+3*o)+6*e-12*n+6*r)-3*e+3*n}t.exports={at:l,derivativeAt:function(t,e,n,r,o){var l=1-o;return 3*(((e-t)*l+2*(n-e)*o)*l+(r-n)*o*o)},projectPoint:function(t,e,n,r,o,l,h,f,d,v){var y={};return c(t,e,n,r,o,l,h,f,d,v,y),y},pointDistance:c,extrema:function(t,e,n,o){var l,c,h,a=3*t-9*e+9*n-3*o,b=6*e-12*n+6*o,f=3*n-3*o,d=[];if(r.isNumberEqual(a,0))r.isNumberEqual(b,0)||(l=-f/b)>=0&&l<=1&&d.push(l);else{var v=b*b-4*a*f;r.isNumberEqual(v,0)?d.push(-b/(2*a)):v>0&&(c=(-b-(h=Math.sqrt(v)))/(2*a),(l=(-b+h)/(2*a))>=0&&l<=1&&d.push(l),c>=0&&c<=1&&d.push(c))}return d},len:function(t,e,n,o,l,c,f,d,v){r.isNil(v)&&(v=1);for(var y=(v=v>1?1:v<0?0:v)/2,m=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],x=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],_=0,i=0;i<12;i++){var w=y*m[i]+y,S=h(w,t,n,l,f),M=h(w,e,o,c,d),C=S*S+M*M;_+=x[i]*Math.sqrt(C)}return y*_}}},function(t,e,n){var r=n(1),o=n(6),l=n(27),c=n(39),h=function t(e){t.superclass.constructor.call(this,e)};h.Symbols={circle:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["z"]]},"triangle-down":function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},h.ATTRS={path:null,lineWidth:1},r.extend(h,o),r.augment(h,{type:"marker",canFill:!0,canStroke:!0,getDefaultAttrs:function(){return{x:0,y:0,lineWidth:1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.radius,o=this.getHitLineWidth()/2+r;return{minX:e-o,minY:n-o,maxX:e+o,maxY:n+o}},_getPath:function(){var t,e=this._attrs,n=e.x,o=e.y,l=e.radius||e.r,symbol=e.symbol||"circle";return(t=r.isFunction(symbol)?symbol:h.Symbols[symbol])?t(n,o,l):(console.warn(symbol+" marker is not supported."),null)},createPath:function(t){var e=this._cfg.segments;if(!e||this._cfg.hasUpdate){var n,path=l.parsePath(this._getPath());t.beginPath(),e=[];for(var r=0;r<path.length;r++){var o=path[r];n=new c(o,n,r===path.length-1),e.push(n),n.draw(t)}this._cfg.segments=e,this._cfg.hasUpdate=!1}else{t.beginPath();for(var i=0;i<e.length;i++)e[i].draw(t)}}}),t.exports=h},function(t,e,n){var r=n(81),o="\t\n\v\f\r   ᠎             　\u2028\u2029",l=new RegExp("([a-z])["+o+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+o+"]*,?["+o+"]*)+)","ig"),c=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+o+"]*,?["+o+"]*","ig"),h=function(t){if(!t)return null;if(typeof t==typeof[])return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},data=[];return String(t).replace(l,(function(a,b,t){var n=[],r=b.toLowerCase();if(t.replace(c,(function(a,b){b&&n.push(+b)})),"m"===r&&n.length>2&&(data.push([b].concat(n.splice(0,2))),r="l",b="m"===b?"l":"L"),"o"===r&&1===n.length&&data.push([b,n[0]]),"r"===r)data.push([b].concat(n));else for(;n.length>=e[r]&&(data.push([b].concat(n.splice(0,e[r]))),e[r]););})),data},f=function(t,e){for(var n=[],i=0,r=t.length;r-2*!e>i;i+=2){var p=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?r-4===i?p[3]={x:+t[0],y:+t[1]}:r-2===i&&(p[2]={x:+t[0],y:+t[1]},p[3]={x:+t[2],y:+t[3]}):p[0]={x:+t[r-2],y:+t[r-1]}:r-4===i?p[3]=p[2]:i||(p[0]={x:+t[i],y:+t[i+1]}),n.push(["C",(-p[0].x+6*p[1].x+p[2].x)/6,(-p[0].y+6*p[1].y+p[2].y)/6,(p[1].x+6*p[2].x-p[3].x)/6,(p[1].y+6*p[2].y-p[3].y)/6,p[2].x,p[2].y])}return n},d=function(t,e,n,r,a){var o=[];if(null===a&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==a){var l=Math.PI/180,c=t+n*Math.cos(-r*l),h=t+n*Math.cos(-a*l);o=[["M",c,e+n*Math.sin(-r*l)],["A",n,n,0,+(a-r>180),0,h,e+n*Math.sin(-a*l)]]}else o=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return o},v=function(t){if(!(t=h(t))||!t.length)return[["M",0,0]];var e,n,r=[],o=0,l=0,c=0,v=0,y=0;"M"===t[0][0]&&(c=o=+t[0][1],v=l=+t[0][2],y++,r[0]=["M",o,l]);for(var m,x,_=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),i=y,w=t.length;i<w;i++){if(r.push(m=[]),(e=(x=t[i])[0])!==e.toUpperCase())switch(m[0]=e.toUpperCase(),m[0]){case"A":m[1]=x[1],m[2]=x[2],m[3]=x[3],m[4]=x[4],m[5]=x[5],m[6]=+x[6]+o,m[7]=+x[7]+l;break;case"V":m[1]=+x[1]+l;break;case"H":m[1]=+x[1]+o;break;case"R":for(var S=2,M=(n=[o,l].concat(x.slice(1))).length;S<M;S++)n[S]=+n[S]+o,n[++S]=+n[S]+l;r.pop(),r=r.concat(f(n,_));break;case"O":r.pop(),(n=d(o,l,x[1],x[2])).push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(d(o,l,x[1],x[2],x[3])),m=["U"].concat(r[r.length-1].slice(-2));break;case"M":c=+x[1]+o,v=+x[2]+l;break;default:for(var C=1,A=x.length;C<A;C++)m[C]=+x[C]+(C%2?o:l)}else if("R"===e)n=[o,l].concat(x.slice(1)),r.pop(),r=r.concat(f(n,_)),m=["R"].concat(x.slice(-2));else if("O"===e)r.pop(),(n=d(o,l,x[1],x[2])).push(n[0]),r=r.concat(n);else if("U"===e)r.pop(),r=r.concat(d(o,l,x[1],x[2],x[3])),m=["U"].concat(r[r.length-1].slice(-2));else for(var k=0,P=x.length;k<P;k++)m[k]=x[k];if("O"!==(e=e.toUpperCase()))switch(m[0]){case"Z":o=+c,l=+v;break;case"H":o=m[1];break;case"V":l=m[1];break;case"M":c=m[m.length-2],v=m[m.length-1];break;default:o=m[m.length-2],l=m[m.length-1]}}return r},y=function(t,e,n,r){return[t,e,n,r,n,r]},m=function(t,e,n,r,o,l){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*o+2/3*n,1/3*l+2/3*r,o,l]},x=function t(e,n,r,o,l,c,h,f,d,v){r===o&&(r+=1);var y,m,x,_,w,S=120*Math.PI/180,M=Math.PI/180*(+l||0),C=[],A=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}};if(v)m=v[0],x=v[1],_=v[2],w=v[3];else{e=(y=A(e,n,-M)).x,n=y.y,f=(y=A(f,d,-M)).x,d=y.y,e===f&&n===d&&(f+=1,d+=1);var k=(e-f)/2,P=(n-d)/2,T=k*k/(r*r)+P*P/(o*o);T>1&&(r*=T=Math.sqrt(T),o*=T);var I=r*r,O=o*o,L=(c===h?-1:1)*Math.sqrt(Math.abs((I*O-I*P*P-O*k*k)/(I*P*P+O*k*k)));_=L*r*P/o+(e+f)/2,w=L*-o*k/r+(n+d)/2,m=Math.asin(((n-w)/o).toFixed(9)),x=Math.asin(((d-w)/o).toFixed(9)),m=e<_?Math.PI-m:m,x=f<_?Math.PI-x:x,m<0&&(m=2*Math.PI+m),x<0&&(x=2*Math.PI+x),h&&m>x&&(m-=2*Math.PI),!h&&x>m&&(x-=2*Math.PI)}var E=x-m;if(Math.abs(E)>S){var D=x,F=f,B=d;x=m+S*(h&&x>m?1:-1),C=t(f=_+r*Math.cos(x),d=w+o*Math.sin(x),r,o,l,0,h,F,B,[x,D,_,w])}E=x-m;var R=Math.cos(m),j=Math.sin(m),N=Math.cos(x),z=Math.sin(x),Y=Math.tan(E/4),V=4/3*r*Y,X=4/3*o*Y,H=[e,n],W=[e+V*j,n-X*R],G=[f+V*z,d-X*N],U=[f,d];if(W[0]=2*H[0]-W[0],W[1]=2*H[1]-W[1],v)return[W,G,U].concat(C);for(var Z=[],i=0,Q=(C=[W,G,U].concat(C).join().split(",")).length;i<Q;i++)Z[i]=i%2?A(C[i-1],C[i],M).y:A(C[i],C[i+1],M).x;return Z},_=function(path,t){var e,p=v(path),n=t&&v(t),r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l=[],c=[],h="",f="",d=function(path,t,e){var n,r;if(!path)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(path[0]in{T:1,Q:1})&&(t.qx=t.qy=null),path[0]){case"M":t.X=path[1],t.Y=path[2];break;case"A":path=["C"].concat(x.apply(0,[t.x,t.y].concat(path.slice(1))));break;case"S":"C"===e||"S"===e?(n=2*t.x-t.bx,r=2*t.y-t.by):(n=t.x,r=t.y),path=["C",n,r].concat(path.slice(1));break;case"T":"Q"===e||"T"===e?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),path=["C"].concat(m(t.x,t.y,t.qx,t.qy,path[1],path[2]));break;case"Q":t.qx=path[1],t.qy=path[2],path=["C"].concat(m(t.x,t.y,path[1],path[2],path[3],path[4]));break;case"L":path=["C"].concat(y(t.x,t.y,path[1],path[2]));break;case"H":path=["C"].concat(y(t.x,t.y,path[1],t.y));break;case"V":path=["C"].concat(y(t.x,t.y,t.x,path[1]));break;case"Z":path=["C"].concat(y(t.x,t.y,t.X,t.Y))}return path},_=function(t,i){if(t[i].length>7){t[i].shift();for(var r=t[i];r.length;)l[i]="A",n&&(c[i]="A"),t.splice(i++,0,["C"].concat(r.splice(0,6)));t.splice(i,1),e=Math.max(p.length,n&&n.length||0)}},w=function(t,r,o,l,i){t&&r&&"M"===t[i][0]&&"M"!==r[i][0]&&(r.splice(i,0,["M",l.x,l.y]),o.bx=0,o.by=0,o.x=t[i][1],o.y=t[i][2],e=Math.max(p.length,n&&n.length||0))};e=Math.max(p.length,n&&n.length||0);for(var i=0;i<e;i++){p[i]&&(h=p[i][0]),"C"!==h&&(l[i]=h,i&&(f=l[i-1])),p[i]=d(p[i],r,f),"A"!==l[i]&&"C"===h&&(l[i]="C"),_(p,i),n&&(n[i]&&(h=n[i][0]),"C"!==h&&(c[i]=h,i&&(f=c[i-1])),n[i]=d(n[i],o,f),"A"!==c[i]&&"C"===h&&(c[i]="C"),_(n,i)),w(p,n,r,o,i),w(n,p,o,r,i);var S=p[i],M=n&&n[i],C=S.length,A=n&&M.length;r.x=S[C-2],r.y=S[C-1],r.bx=parseFloat(S[C-4])||r.x,r.by=parseFloat(S[C-3])||r.y,o.bx=n&&(parseFloat(M[A-4])||o.x),o.by=n&&(parseFloat(M[A-3])||o.y),o.x=n&&M[A-2],o.y=n&&M[A-1]}return n?[p,n]:p},w=/,?([a-z]),?/gi,S=function(path){return path.join(",").replace(w,"$1")},M=function(t,e,n,r,o){return t*(t*(-3*e+9*n-9*r+3*o)+6*e-12*n+6*r)-3*e+3*n},C=function(t,e,n,r,o,l,c,h,f){null===f&&(f=1);for(var d=(f=f>1?1:f<0?0:f)/2,v=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],y=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],m=0,i=0;i<12;i++){var x=d*v[i]+d,_=M(x,t,n,o,c),w=M(x,e,r,l,h),S=_*_+w*w;m+=y[i]*Math.sqrt(S)}return d*m},A=function(t,e,n,r,o,l,c,h){for(var a,b,f,d,v=[],y=[[],[]],i=0;i<2;++i)if(0===i?(b=6*t-12*n+6*o,a=-3*t+9*n-9*o+3*c,f=3*n-3*t):(b=6*e-12*r+6*l,a=-3*e+9*r-9*l+3*h,f=3*r-3*e),Math.abs(a)<1e-12){if(Math.abs(b)<1e-12)continue;(d=-f/b)>0&&d<1&&v.push(d)}else{var m=b*b-4*f*a,x=Math.sqrt(m);if(!(m<0)){var _=(-b+x)/(2*a);_>0&&_<1&&v.push(_);var w=(-b-x)/(2*a);w>0&&w<1&&v.push(w)}}for(var S,M=v.length,C=M;M--;)S=1-(d=v[M]),y[0][M]=S*S*S*t+3*S*S*d*n+3*S*d*d*o+d*d*d*c,y[1][M]=S*S*S*e+3*S*S*d*r+3*S*d*d*l+d*d*d*h;return y[0][C]=t,y[1][C]=e,y[0][C+1]=c,y[1][C+1]=h,y[0].length=y[1].length=C+2,{min:{x:Math.min.apply(0,y[0]),y:Math.min.apply(0,y[1])},max:{x:Math.max.apply(0,y[0]),y:Math.max.apply(0,y[1])}}},k=function(t,e,n,r,o,l,c,h){if(!(Math.max(t,n)<Math.min(o,c)||Math.min(t,n)>Math.max(o,c)||Math.max(e,r)<Math.min(l,h)||Math.min(e,r)>Math.max(l,h))){var f=(t-n)*(l-h)-(e-r)*(o-c);if(f){var d=((t*r-e*n)*(o-c)-(t-n)*(o*h-l*c))/f,v=((t*r-e*n)*(l-h)-(e-r)*(o*h-l*c))/f,y=+d.toFixed(2),m=+v.toFixed(2);if(!(y<+Math.min(t,n).toFixed(2)||y>+Math.max(t,n).toFixed(2)||y<+Math.min(o,c).toFixed(2)||y>+Math.max(o,c).toFixed(2)||m<+Math.min(e,r).toFixed(2)||m>+Math.max(e,r).toFixed(2)||m<+Math.min(l,h).toFixed(2)||m>+Math.max(l,h).toFixed(2)))return{x:d,y:v}}}},P=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},T=function(t,e,n,r,o){if(o)return[["M",+t+ +o,e],["l",n-2*o,0],["a",o,o,0,0,1,o,o],["l",0,r-2*o],["a",o,o,0,0,1,-o,o],["l",2*o-n,0],["a",o,o,0,0,1,-o,-o],["l",0,2*o-r],["a",o,o,0,0,1,o,-o],["z"]];var l=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return l.parsePathArray=S,l},I=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:T(t,e,n,r),vb:[t,e,n,r].join(" ")}},O=function(t,e,n,o,l,c,h,f){r.isArray(t)||(t=[t,e,n,o,l,c,h,f]);var d=A.apply(null,t);return I(d.min.x,d.min.y,d.max.x-d.min.x,d.max.y-d.min.y)},L=function(t,e,n,r,o,l,c,h,f){var d=1-f,v=Math.pow(d,3),y=Math.pow(d,2),m=f*f,x=m*f,_=t+2*f*(n-t)+m*(o-2*n+t),w=e+2*f*(r-e)+m*(l-2*r+e),S=n+2*f*(o-n)+m*(c-2*o+n),M=r+2*f*(l-r)+m*(h-2*l+r);return{x:v*t+3*y*f*n+3*d*f*f*o+x*c,y:v*e+3*y*f*r+3*d*f*f*l+x*h,m:{x:_,y:w},n:{x:S,y:M},start:{x:d*t+f*n,y:d*e+f*r},end:{x:d*o+f*c,y:d*l+f*h},alpha:90-180*Math.atan2(_-S,w-M)/Math.PI}},E=function(t,e,n){if(!function(t,e){return t=I(t),e=I(e),P(e,t.x,t.y)||P(e,t.x2,t.y)||P(e,t.x,t.y2)||P(e,t.x2,t.y2)||P(t,e.x,e.y)||P(t,e.x2,e.y)||P(t,e.x,e.y2)||P(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(O(t),O(e)))return n?0:[];for(var r=~~(C.apply(0,t)/8),o=~~(C.apply(0,e)/8),l=[],c=[],h={},f=n?0:[],i=0;i<r+1;i++){var d=L.apply(0,t.concat(i/r));l.push({x:d.x,y:d.y,t:i/r})}for(var v=0;v<o+1;v++){var y=L.apply(0,e.concat(v/o));c.push({x:y.x,y:y.y,t:v/o})}for(var m=0;m<r;m++)for(var x=0;x<o;x++){var _=l[m],w=l[m+1],S=c[x],M=c[x+1],A=Math.abs(w.x-_.x)<.001?"y":"x",T=Math.abs(M.x-S.x)<.001?"y":"x",E=k(_.x,_.y,w.x,w.y,S.x,S.y,M.x,M.y);if(E){if(h[E.x.toFixed(4)]===E.y.toFixed(4))continue;h[E.x.toFixed(4)]=E.y.toFixed(4);var D=_.t+Math.abs((E[A]-_[A])/(w[A]-_[A]))*(w.t-_.t),F=S.t+Math.abs((E[T]-S[T])/(M[T]-S[T]))*(M.t-S.t);D>=0&&D<=1&&F>=0&&F<=1&&(n?f++:f.push({x:E.x,y:E.y,t1:D,t2:F}))}}return f};function D(t,e){var n=[],r=[];return t.length&&function t(e,o){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var l=[],i=0;i<e.length-1;i++)0===i&&n.push(e[0]),i===e.length-2&&r.push(e[i+1]),l[i]=[(1-o)*e[i][0]+o*e[i+1][0],(1-o)*e[i][1]+o*e[i+1][1]];t(l,o)}}(t,e),{left:n,right:r.reverse()}}var F=function(t,e,n){if(1===n)return[[].concat(t)];var r=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])r=r.concat(function(t,e,n){var r=[[t[1],t[2]]];n=n||2;var o=[];"A"===e[0]?(r.push(e[6]),r.push(e[7])):"C"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var l=r,c=1/n,i=0;i<n-1;i++){var h=D(l,c/(1-c*i));o.push(h.left),l=h.right}return o.push(l),o.map((function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1])}))}(t,e,n));else{var o=[].concat(t);"M"===o[0]&&(o[0]="L");for(var i=0;i<=n-1;i++)r.push(o)}return r},B=function(t,e){if(t.length!==e.length)return!1;var n=!0;return r.each(t,(function(t,i){if(t!==e[i])return n=!1,!1})),n};function R(del,t,e){var n=null,r=e;return t<r&&(r=t,n="add"),del<r&&(r=del,n="del"),{type:n,min:r}}function j(t,e,n){for(var r,o=[].concat(t),l=1/(n+1),c=N(e)[0],i=1;i<=n;i++)l*=i,0===(r=Math.floor(t.length*l))?o.unshift([c[0]*l+t[r][0]*(1-l),c[1]*l+t[r][1]*(1-l)]):o.splice(r,0,[c[0]*l+t[r][0]*(1-l),c[1]*l+t[r][1]*(1-l)]);return o}function N(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}t.exports={parsePathString:h,parsePathArray:S,pathTocurve:_,pathToAbsolute:v,catmullRomToBezier:f,rectPath:T,fillPath:function(source,t){if(1===source.length)return source;var e=source.length-1,n=t.length-1,r=e/n,o=[];if(1===source.length&&"M"===source[0][0]){for(var i=0;i<n-e;i++)source.push(source[0]);return source}for(var l=0;l<n;l++){var c=Math.floor(r*l);o[c]=(o[c]||0)+1}var h=o.reduce((function(t,n,i){return i===e?t.concat(source[e]):t.concat(F(source[i],source[i+1],n))}),[]);return h.unshift(source[0]),"Z"!==t[n]&&"z"!==t[n]||h.push("Z"),h},fillPathByDiff:function(source,t){var e=function(source,t){var e,n,r=source.length,o=t.length,l=0;if(0===r||0===o)return null;for(var c=[],i=0;i<=r;i++)c[i]=[],c[i][0]={min:i};for(var h=0;h<=o;h++)c[0][h]={min:h};for(var f=1;f<=r;f++){e=source[f-1];for(var d=1;d<=o;d++){n=t[d-1],l=B(e,n)?0:1;var del=c[f-1][d].min+1,v=c[f][d-1].min+1,y=c[f-1][d-1].min+l;c[f][d]=R(del,v,y)}}return c}(source,t),n=source.length,r=t.length,o=[],l=1,c=1;if(e[n][r]!==n){for(var i=1;i<=n;i++){var h=e[i][i].min;c=i;for(var f=l;f<=r;f++)e[i][f].min<h&&(h=e[i][f].min,c=f);l=c,e[i][l].type&&o.push({index:i-1,type:e[i][l].type})}for(var d=o.length-1;d>=0;d--)l=o[d].index,"add"===o[d].type?source.splice(l,0,[].concat(source[l])):source.splice(l,1)}var v=r-(n=source.length);if(n<r)for(var y=0;y<v;y++)"z"===source[n-1][0]||"Z"===source[n-1][0]?source.splice(n-2,0,source[n-2]):source.push(source[n-1]),n+=1;return source},formatPath:function(t,e){if(t.length<=1)return t;for(var n,i=0;i<e.length;i++)if(t[i][0]!==e[i][0])switch(n=N(t[i]),e[i][0]){case"M":t[i]=["M"].concat(n[0]);break;case"L":t[i]=["L"].concat(n[0]);break;case"A":t[i]=[].concat(e[i]),t[i][6]=n[0][0],t[i][7]=n[0][1];break;case"Q":if(n.length<2){if(!(i>0)){t[i]=e[i];break}n=j(n,t[i-1],1)}t[i]=["Q"].concat(n.reduce((function(t,i){return t.concat(i)}),[]));break;case"T":t[i]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(i>0)){t[i]=e[i];break}n=j(n,t[i-1],2)}t[i]=["C"].concat(n.reduce((function(t,i){return t.concat(i)}),[]));break;case"S":if(n.length<2){if(!(i>0)){t[i]=e[i];break}n=j(n,t[i-1],1)}t[i]=["S"].concat(n.reduce((function(t,i){return t.concat(i)}),[]));break;default:t[i]=e[i]}return t},intersection:function(t,e){return function(t,e,n){var r,o,l,c,h,f,d,v,y,m;t=_(t),e=_(e);for(var x=n?0:[],i=0,w=t.length;i<w;i++){var S=t[i];if("M"===S[0])r=h=S[1],o=f=S[2];else{"C"===S[0]?(y=[r,o].concat(S.slice(1)),r=y[6],o=y[7]):(y=[r,o,r,o,h,f,h,f],r=h,o=f);for(var M=0,C=e.length;M<C;M++){var A=e[M];if("M"===A[0])l=d=A[1],c=v=A[2];else{"C"===A[0]?(m=[l,c].concat(A.slice(1)),l=m[6],c=m[7]):(m=[l,c,l,c,d,v,d,v],l=d,c=v);var k=E(y,m,n);if(n)x+=k;else{for(var P=0,T=k.length;P<T;P++)k[P].segment1=i,k[P].segment2=M,k[P].bez1=y,k[P].bez2=m;x=x.concat(k)}}}}}return x}(t,e)}}},function(t,e,n){"use strict";e.b=x,e.a=w,e.c=S,e.d=M;var r,o,l=0,c=0,h=0,f=0,d=0,v=0,y="object"==typeof performance&&performance.now?performance:Date,m="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function x(){return d||(m(_),d=y.now()+v)}function _(){d=0}function w(){this._call=this._time=this._next=null}function S(t,e,time){var n=new w;return n.restart(t,e,time),n}function M(){x(),++l;for(var t,e=r;e;)(t=d-e._time)>=0&&e._call.call(null,t),e=e._next;--l}function C(){d=(f=y.now())+v,l=c=0;try{M()}finally{l=0,function(){for(var t,e,n=r,time=1/0;n;)n._call?(time>n._time&&(time=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:r=e);o=t,k(time)}(),d=0}}function A(){var t=y.now(),e=t-f;e>1e3&&(v-=e,f=t)}function k(time){l||(c&&(c=clearTimeout(c)),time-d>24?(time<1/0&&(c=setTimeout(C,time-y.now()-v)),h&&(h=clearInterval(h))):(h||(f=y.now(),h=setInterval(A,1e3)),l=1,m(C)))}w.prototype=S.prototype={constructor:w,restart:function(t,e,time){if("function"!=typeof t)throw new TypeError("callback is not a function");time=(null==time?x():+time)+(null==e?0:+e),this._next||o===this||(o?o._next=this:r=this,o=this),this._call=t,this._time=time,k()},stop:function(){this._call&&(this._call=null,this._time=1/0,k())}}},function(t,e,n){"use strict";var r=n(17),o=n(118),l=n(121),c=n(122),h=n(40),f=n(123),d=n(124),v=n(120);e.a=function(a,b){var t,e=typeof b;return null==b||"boolean"===e?Object(v.a)(b):("number"===e?h.a:"string"===e?(t=Object(r.a)(b))?(b=t,o.a):d.a:b instanceof r.a?o.a:b instanceof Date?c.a:Array.isArray(b)?l.a:"function"!=typeof b.valueOf&&"function"!=typeof b.toString||isNaN(b)?f.a:h.a)(a,b)}},function(t,e,n){"use strict";e.a=o,n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return c})),e.e=k,e.h=I,e.g=O,e.b=L,e.f=j;var r=n(62);function o(){}var l=.7,c=1/l,h="\\s*([+-]?\\d+)\\s*",f="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",d="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",v=/^#([0-9a-f]{3,8})$/,y=new RegExp("^rgb\\("+[h,h,h]+"\\)$"),m=new RegExp("^rgb\\("+[d,d,d]+"\\)$"),x=new RegExp("^rgba\\("+[h,h,h,f]+"\\)$"),_=new RegExp("^rgba\\("+[d,d,d,f]+"\\)$"),w=new RegExp("^hsl\\("+[f,d,d]+"\\)$"),S=new RegExp("^hsla\\("+[f,d,d,f]+"\\)$"),M={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function C(){return this.rgb().formatHex()}function A(){return this.rgb().formatRgb()}function k(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=v.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?P(e):3===n?new L(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?new L(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?new L(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=y.exec(t))?new L(e[1],e[2],e[3],1):(e=m.exec(t))?new L(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=x.exec(t))?T(e[1],e[2],e[3],e[4]):(e=_.exec(t))?T(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=w.exec(t))?B(e[1],e[2]/100,e[3]/100,1):(e=S.exec(t))?B(e[1],e[2]/100,e[3]/100,e[4]):M.hasOwnProperty(t)?P(M[t]):"transparent"===t?new L(NaN,NaN,NaN,0):null}function P(t){return new L(t>>16&255,t>>8&255,255&t,1)}function T(t,g,b,a){return a<=0&&(t=g=b=NaN),new L(t,g,b,a)}function I(t){return t instanceof o||(t=k(t)),t?new L((t=t.rgb()).r,t.g,t.b,t.opacity):new L}function O(t,g,b,e){return 1===arguments.length?I(t):new L(t,g,b,null==e?1:e)}function L(t,g,b,e){this.r=+t,this.g=+g,this.b=+b,this.opacity=+e}function E(){return"#"+F(this.r)+F(this.g)+F(this.b)}function D(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}function F(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function B(t,s,e,a){return a<=0?t=s=e=NaN:e<=0||e>=1?t=s=NaN:s<=0&&(t=NaN),new N(t,s,e,a)}function R(t){if(t instanceof N)return new N(t.h,t.s,t.l,t.opacity);if(t instanceof o||(t=k(t)),!t)return new N;if(t instanceof N)return t;var e=(t=t.rgb()).r/255,g=t.g/255,b=t.b/255,n=Math.min(e,g,b),r=Math.max(e,g,b),l=NaN,s=r-n,c=(r+n)/2;return s?(l=e===r?(g-b)/s+6*(g<b):g===r?(b-e)/s+2:(e-g)/s+4,s/=c<.5?r+n:2-r-n,l*=60):s=c>0&&c<1?0:l,new N(l,s,c,t.opacity)}function j(t,s,e,n){return 1===arguments.length?R(t):new N(t,s,e,null==n?1:n)}function N(t,s,e,n){this.h=+t,this.s=+s,this.l=+e,this.opacity=+n}function z(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Object(r.a)(o,k,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:C,formatHex:C,formatHsl:function(){return R(this).formatHsl()},formatRgb:A,toString:A}),Object(r.a)(L,O,Object(r.b)(o,{brighter:function(t){return t=null==t?c:Math.pow(c,t),new L(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?l:Math.pow(l,t),new L(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:E,formatHex:E,formatRgb:D,toString:D})),Object(r.a)(N,j,Object(r.b)(o,{brighter:function(t){return t=null==t?c:Math.pow(c,t),new N(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?l:Math.pow(l,t),new N(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),s=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,n=e+(e<.5?e:1-e)*s,r=2*e-n;return new L(z(t>=240?t-240:t+120,r,n),z(t,r,n),z(t<120?t+240:t-120,r,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===a?")":", "+a+")")}}))},function(t,e,n){"use strict";e.b=function(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n},e.a=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t}},function(t,e,n){"use strict";function r(t,e,n,r,o){var l=t*t,c=l*t;return((1-3*t+3*l-c)*e+(4-6*l+3*c)*n+(1+3*t+3*l-3*c)*r+c*o)/6}e.a=r,e.b=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[i],l=t[i+1],c=i>0?t[i-1]:2*o-l,h=i<e-1?t[i+2]:2*l-o;return r((n-i/e)*e,c,o,l,h)}}},function(t,e,n){var r=n(2),o=n(13);t.exports=function(t,e){if(!o(t))return t;var n=[];return r(t,(function(t,r){e(t,r)&&n.push(t)})),n}},function(t,e,n){var r=n(5),o=n(4),l=n(2);t.exports=function(data,t){for(var e=[],n={},i=0;i<data.length;i++){var c=data[i][t];r(c)||(o(c)||(c=[c]),l(c,(function(t){n[t]||(e.push(t),n[t]=!0)})))}return e}},function(t,e,n){var r=n(16).Group,o=n(22).Label,l=n(7),c=n(0),h=["line","point","path"],f=function t(e){t.superclass.constructor.call(this,e)};c.extend(f,r),c.augment(f,{getDefaultCfg:function(){return{label:l.label,labelCfg:null,coord:null,geomType:null,zIndex:6}},_renderUI:function(){f.superclass._renderUI.call(this),this.initLabelsCfg();var t=this.addGroup(),e=this.addGroup({elCls:"x-line-group"}),n=this.get("labelRenderer");this.set("labelsGroup",t),this.set("lineGroup",e),this.get("labelRenderer").set("group",t),n.set("group",t),n.set("lineGroup",e)},initLabelsCfg:function(){var t=new o,e=this.getDefaultLabelCfg(),n=this.get("labelCfg");c.deepMix(e,n.globalCfg||n.cfg),t.set("config",!1),e.labelLine&&t.set("labelLine",e.labelLine),t.set("coord",this.get("coord")),this.set("labelRenderer",t),this.set("label",e)},getDefaultLabelCfg:function(){var t=this.get("labelCfg").cfg||this.get("labelCfg").globalCfg,e=this.get("geomType"),n=this.get("viewTheme")||l;return"polygon"===e||t&&t.offset<0&&-1===c.indexOf(h,e)?c.deepMix({},this.get("label"),n.innerLabels,t):c.deepMix({},this.get("label"),n.label,t)},getLabelsItems:function(t,e){var n=this,r=[],o=n.get("geom"),l=n.get("coord");n._getLabelCfgs(t,e);var h=n.get("labelItemCfgs");return c.each(t,(function(t,i){var e=t._origin,label=h[i];if(label){c.isArray(label.text)||(label.text=[label.text]);var f=label.text.length;c.each(label.text,(function(sub,h){if(c.isNil(sub)||""===sub)r.push(null);else{var d=n.getLabelPoint(label,t,h);(d=c.mix({},label,d)).textAlign||(d.textAlign=n.getLabelAlign(d,h,f)),o&&(d._id=o._getShapeId(e)+"-glabel-"+h+"-"+d.text),d.coord=l,r.push(d)}}))}else r.push(null)})),r},adjustItems:function(t){return c.each(t,(function(t){t&&(t.offsetX&&(t.x+=t.offsetX),t.offsetY&&(t.y+=t.offsetY))})),t},drawLines:function(t){var e=this;c.each(t,(function(t){t&&t.offset>0&&e.lineToLabel(t)}))},lineToLabel:function(){},getLabelPoint:function(t,e,n){var r=this.get("coord"),o=t.text.length;function l(e,n){var r,o;return c.isArray(e)&&(1===t.text.length?e.length<=2?e=e[e.length-1]:(r=e,o=0,c.each(r,(function(t){o+=t})),e=o/r.length):e=e[n]),e}var label={text:t.text[n]};if(e&&"polygon"===this.get("geomType")){var h=function(t,e){if(c.isNumber(t)&&c.isNumber(e))return[t,e];for(var n,r,i=-1,o=0,l=0,h=t.length-1,f=0;++i<t.length;)n=h,h=i,f+=r=t[n]*e[h]-t[h]*e[n],o+=(t[n]+t[h])*r,l+=(e[n]+e[h])*r;return[o/(f*=3),l/f]}(e.x,e.y);label.x=h[0],label.y=h[1]}else label.x=l(e.x,n),label.y=l(e.y,n);if(e&&e.nextPoints&&("funnel"===e.shape||"pyramid"===e.shape)){var f=-1/0;e.nextPoints.forEach((function(p){(p=r.convert(p)).x>f&&(f=p.x)})),label.x=(label.x+f)/2}"pyramid"===e.shape&&!e.nextPoints&&e.points&&e.points.forEach((function(p){p=r.convert(p),(c.isArray(p.x)&&!e.x.includes(p.x)||c.isNumber(p.x)&&e.x!==p.x)&&(label.x=(label.x+p.x)/2)})),t.position&&this.setLabelPosition(label,e,n,t.position);var d=this.getLabelOffset(t,n,o);return t.offsetX&&(d.x+=t.offsetX),t.offsetY&&(d.y+=t.offsetY),this.transLabelPoint(label),label.start={x:label.x,y:label.y},label.x+=d.x,label.y+=d.y,label.color=e.color,label},setLabelPosition:function(){},transLabelPoint:function(t){var e=this.get("coord").applyMatrix(t.x,t.y,1);t.x=e[0],t.y=e[1]},getOffsetVector:function(t){var e=t.offset||0,n=this.get("coord");return n.isTransposed?n.applyMatrix(e,0):n.applyMatrix(0,e)},getDefaultOffset:function(t){var e=0,n=this.get("coord"),r=this.getOffsetVector(t);e=n.isTransposed?r[0]:r[1];var o=this.get("yScale");return o&&t.point&&t.point[o.field]<0&&(e*=-1),e},getLabelOffset:function(t,e,n){var r=this.getDefaultOffset(t),o=this.get("coord").isTransposed,l=o?"x":"y",c=o?1:-1,h={x:0,y:0};return h[l]=e>0||1===n?r*c:r*c*-1,h},getLabelAlign:function(t,e,n){var r="center";if(this.get("coord").isTransposed){var o=this.getDefaultOffset(t);r=o<0?"right":0===o?"center":"left",n>1&&0===e&&("right"===r?r="left":"left"===r&&(r="right"))}return r},_getLabelValue:function(t,e){c.isArray(e)||(e=[e]);var text=[];return c.each(e,(function(e){var n=t[e.field];if(c.isArray(n)){var r=[];c.each(n,(function(t){r.push(e.getText(t))})),n=r}else n=e.getText(n);(c.isNil(n)||""===n)&&text.push(null),text.push(n)})),text},_getLabelCfgs:function(t){var e=this,n=this.get("labelCfg"),r=n.scales,o=this.get("label"),h=e.get("viewTheme")||l,f=[];n.globalCfg&&n.globalCfg.type&&e.set("type",n.globalCfg.type),c.each(t,(function(t,i){var l={},d=t._origin,v=e._getLabelValue(d,r);if(n.callback){var y=r.map((function(t){return d[t.field]}));l=n.callback.apply(null,[].concat(y,[t,i]))}if(l||0===l){if(c.isString(l)||c.isNumber(l)?l={text:l}:(l.text=l.content||v[0],delete l.content),l=c.mix({},o,n.globalCfg||{},l),t.point=d,l.point=d,l.htmlTemplate&&(l.useHtml=!0,l.text=l.htmlTemplate.call(null,l.text,t,i),delete l.htmlTemplate),l.formatter&&(l.text=l.formatter.call(null,l.text,t,i),delete l.formatter),l.label){var label=l.label;delete l.label,l=c.mix(l,label)}if(l.textStyle){delete l.textStyle.offset;var m=l.textStyle;c.isFunction(m)&&(l.textStyle=m.call(null,l.text,t,i))}l.labelLine&&(l.labelLine=c.mix({},o.labelLine,l.labelLine)),l.textStyle=c.mix({},o.textStyle,h.label.textStyle,l.textStyle),delete l.items,f.push(l)}else f.push(null)})),this.set("labelItemCfgs",f)},showLabels:function(t,e){var n=this.get("labelRenderer"),r=this.getLabelsItems(t,e);e=[].concat(e);var o=this.get("type");r=this.adjustItems(r,e),this.drawLines(r),n.set("items",r.filter((function(t,i){return!!t||(e.splice(i,1),!1)}))),o&&(n.set("shapes",e),n.set("type",o),n.set("points",t)),n.set("canvas",this.get("canvas")),n.draw()},destroy:function(){this.get("labelRenderer").destroy(),f.superclass.destroy.call(this)}}),t.exports=f},function(t,e,n){var r=n(54),o=n(3),l=function(t){var e,n;n=t,(e=l).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=l.prototype;function l(e){var n,r=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n=t.call(this)||this),l={visible:!0},c=r.getDefaultCfg();return r._attrs=l,o.deepMix(l,c,e),n}return r.getDefaultCfg=function(){return{}},r.get=function(t){return this._attrs[t]},r.set=function(t,e){this._attrs[t]=e},r.changeVisible=function(){},r.destroy=function(){this._attrs={},this.removeAllListeners(),this.destroyed=!0},l}(r);t.exports=l},function(t,e,n){var r=n(3),o=n(157),l=n(329),c=n(14).FONT_FAMILY,h=r.Event,f=r.Group,d=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var d=o.prototype;return d.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"continuous-legend",items:null,layout:"vertical",width:20,height:156,textStyle:{fill:"#333",textAlign:"center",textBaseline:"middle",stroke:"#fff",lineWidth:5,fontFamily:c},hoverTextStyle:{fill:"rgba(0,0,0,0.25)"},slidable:!0,triggerAttr:{fill:"#fff",shadowBlur:10,shadowColor:"rgba(0,0,0,0.65)",radius:2},_range:[0,100],middleBackgroundStyle:{fill:"#D9D9D9"},textOffset:4,lineStyle:{lineWidth:1,stroke:"#fff"},pointerStyle:{fill:"rgb(230, 230, 230)"}})},d._calStartPoint=function(){var t={x:10,y:this.get("titleGap")-8},e=this.get("titleShape");if(e){var n=e.getBBox();t.y+=n.height}return t},d.beforeRender=function(){var e=this.get("items");r.isArray(e)&&!r.isEmpty(e)&&(t.prototype.beforeRender.call(this),this.set("firstItem",e[0]),this.set("lastItem",e[e.length-1]))},d._formatItemValue=function(t){var e=this.get("formatter")||this.get("itemFormatter");return e&&(t=e.call(this,t)),t},d.render=function(){t.prototype.render.call(this),this.get("slidable")?this._renderSlider():this._renderUnslidable()},d._renderSlider=function(){var t=new f,e=new f,n=new f,r=this._calStartPoint(),o=this.get("group").addGroup(l,{minHandleElement:t,maxHandleElement:e,backgroundElement:n,layout:this.get("layout"),range:this.get("_range"),width:this.get("width"),height:this.get("height")});o.translate(r.x,r.y),this.set("slider",o),this._renderSliderShape().attr("clip",o.get("middleHandleElement")),this._renderTrigger()},d._addMiddleBar=function(t,e,n){return t.addShape(e,{attrs:r.mix({},n,this.get("middleBackgroundStyle"))}),t.addShape(e,{attrs:n})},d._renderTrigger=function(){var t=this.get("firstItem"),e=this.get("lastItem"),n=this.get("layout"),o=this.get("textStyle"),l=this.get("triggerAttr"),c=r.mix({},l),h=r.mix({},l),f=r.mix({text:this._formatItemValue(t.value)+""},o),d=r.mix({text:this._formatItemValue(e.value)+""},o);"vertical"===n?(this._addVerticalTrigger("min",c,f),this._addVerticalTrigger("max",h,d)):(this._addHorizontalTrigger("min",c,f),this._addHorizontalTrigger("max",h,d))},d._addVerticalTrigger=function(t,e,n){var o=this.get("slider").get(t+"HandleElement"),l=this.get("width"),button=o.addShape("rect",{attrs:r.mix({x:l/2-8-2,y:"min"===t?0:-8,width:18,height:8},e)}),text=o.addShape("text",{attrs:r.mix(n,{x:l+this.get("textOffset"),y:"max"===t?-4:4,textAlign:"start",lineHeight:1,textBaseline:"middle"})}),c="vertical"===this.get("layout")?"ns-resize":"ew-resize";button.attr("cursor",c),text.attr("cursor",c),this.set(t+"ButtonElement",button),this.set(t+"TextElement",text)},d._addHorizontalTrigger=function(t,e,n){var o=this.get("slider").get(t+"HandleElement"),button=o.addShape("rect",{attrs:r.mix({x:"min"===t?-8:0,y:-8-this.get("height")/2,width:8,height:16},e)}),text=o.addShape("text",{attrs:r.mix(n,{x:"min"===t?-12:12,y:4+this.get("textOffset")+10,textAlign:"min"===t?"end":"start",textBaseline:"middle"})}),l="vertical"===this.get("layout")?"ns-resize":"ew-resize";button.attr("cursor",l),text.attr("cursor",l),this.set(t+"ButtonElement",button),this.set(t+"TextElement",text)},d._bindEvents=function(){var t=this;this.get("slidable")&&this.get("slider").on("sliderchange",(function(e){var n=e.range,r=t.get("firstItem").value,o=t.get("lastItem").value,l=r+n[0]/100*(o-r),c=r+n[1]/100*(o-r);t._updateElement(l,c);var f=new h("itemfilter",e,!0,!0);f.range=[l,c],t.emit("itemfilter",f)})),this.get("hoverable")&&(this.get("group").on("mousemove",r.wrapBehavior(this,"_onMouseMove")),this.get("group").on("mouseleave",r.wrapBehavior(this,"_onMouseLeave")))},d._updateElement=function(t,e){var n=this.get("minTextElement"),r=this.get("maxTextElement");e>1&&(t=parseInt(t,10),e=parseInt(e,10)),n.attr("text",this._formatItemValue(t)+""),r.attr("text",this._formatItemValue(e)+"")},d._onMouseLeave=function(){var t=this.get("group").findById("hoverPointer");t&&t.destroy();var e=this.get("group").findById("hoverText");e&&e.destroy(),this.get("canvas").draw()},d._onMouseMove=function(t){var e,n=this.get("height"),r=this.get("width"),o=this.get("items"),l=this.get("canvas").get("el").getBoundingClientRect(),c=this.get("group").getBBox();if("vertical"===this.get("layout")){var h=5;"color-legend"===this.get("type")&&(h=30);var f=this.get("titleGap"),d=this.get("titleShape");d&&(f+=d.getBBox().maxY-d.getBBox().minY);var v=t.clientY||t.event.clientY;v=v-l.y-this.get("group").attr("matrix")[7]+c.y-h+f,e=o[0].value+(1-v/n)*(o[o.length-1].value-o[0].value)}else{var y=t.clientX||t.event.clientX;y=y-l.x-this.get("group").attr("matrix")[6],e=o[0].value+y/r*(o[o.length-1].value-o[0].value)}e=e.toFixed(2),this.activate(e),this.emit("mousehover",{value:e})},d.activate=function(t){if(t){var e=this.get("group").findById("hoverPointer"),n=this.get("group").findById("hoverText"),o=this.get("items");if(!(t<o[0].value||t>o[o.length-1].value)){var l,c=this.get("height"),h=this.get("width"),f=this.get("titleShape"),d=this.get("titleGap"),v=[],y=(t-o[0].value)/(o[o.length-1].value-o[0].value);if("vertical"===this.get("layout")){var m=0,x=0;"color-legend"===this.get("type")&&(m=d,f&&(m+=f.getBBox().height)),this.get("slidable")&&("color-legend"===this.get("type")?m-=13:(m=d-15,f&&(m+=f.getBBox().height)),x+=10),v=[[x,(y=(1-y)*c)+m],[x-10,y+m-5],[x-10,y+m+5]],l=r.mix({},{x:h+this.get("textOffset")/2+x,y:y+m,text:this._formatItemValue(t)+""},this.get("textStyle"),{textAlign:"start"})}else{var _=0,w=0;"color-legend"===this.get("type")&&(_=d,f&&(_+=f.getBBox().height)),this.get("slidable")&&("color-legend"===this.get("type")?_-=7:(_=d,f||(_-=7)),w+=10),v=[[(y*=h)+w,_],[y+w-5,_-10],[y+w+5,_-10]],l=r.mix({},{x:y-5,y:c+this.get("textOffset")+_,text:this._formatItemValue(t)+""},this.get("textStyle"))}var S=r.mix(l,this.get("hoverTextStyle"));n?n.attr(S):(n=this.get("group").addShape("text",{attrs:S})).set("id","hoverText"),e?e.attr(r.mix({points:v},this.get("pointerStyle"))):(e=this.get("group").addShape("Polygon",{attrs:r.mix({points:v},this.get("pointerStyle"))})).set("id","hoverPointer"),this.get("canvas").draw()}}},d.deactivate=function(){var t=this.get("group").findById("hoverPointer");t&&t.destroy();var e=this.get("group").findById("hoverText");e&&e.destroy(),this.get("canvas").draw()},o}(o);t.exports=d},function(t,e,n){var r=n(67),o=n(3),l=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var l=r.prototype;return l.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return o.mix({},e,{x:0,y:0,items:null,titleContent:null,showTitle:!0,plotRange:null,offset:10,timeStamp:0,inPlot:!0,crosshairs:null})},l.isContentChange=function(title,t){var e=this.get("titleContent"),n=this.get("items"),r=!(title===e&&n.length===t.length);return r||o.each(t,(function(t,e){var l=n[e];for(var c in t)if(t.hasOwnProperty(c)&&!o.isObject(t[c])&&t[c]!==l[c]){r=!0;break}if(r)return!1})),r},l.setContent=function(title,t){var e=(new Date).valueOf();return this.set("items",t),this.set("titleContent",title),this.set("timeStamp",e),this.render(),this},l.setPosition=function(t,e){this.set("x",t),this.set("y",e)},l.render=function(){},l.clear=function(){},l.show=function(){this.set("visible",!0)},l.hide=function(){this.set("visible",!1)},r}(r);t.exports=l},function(t,e,n){"use strict";n.d(e,"c",(function(){return Y})),e.a=V;var r=n(416),o=n(417),l=n(418),c=n(419),h=n(389),f=n(421),d=n(422),v=n(423),y=n(424),m=n(425),x=n(426),_=n(427),w=n(428),S=n(429),M=n(430),C=n(431),A=n(432),k=n(391),P=n(433),T=n(434),I=n(435),O=n(436),L=n(437),E=n(438),D=n(439),F=n(440),B=n(441),R=n(442),j=n(443),N=n(377),z=n(444),Y=[null];function V(t,e){this._groups=t,this._parents=e}function X(){return new V([[document.documentElement]],Y)}V.prototype=X.prototype={constructor:V,select:r.a,selectAll:o.a,filter:l.a,data:c.a,enter:h.b,exit:f.a,join:d.a,merge:v.a,order:y.a,sort:m.a,call:x.a,nodes:_.a,node:w.a,size:S.a,empty:M.a,each:C.a,attr:A.a,style:k.a,property:P.a,classed:T.a,text:I.a,html:O.a,raise:L.a,lower:E.a,append:D.a,insert:F.a,remove:B.a,clone:R.a,datum:j.a,on:N.b,dispatch:z.a},e.b=X},function(t,e,n){var r=n(10),o=n(80);t.exports={toTimeStamp:function(t){return r(t)&&(t=t.indexOf("T")>0?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),o(t)&&(t=t.getTime()),t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(415);n.d(e,"create",(function(){return r.a}));var o=n(362);n.d(e,"creator",(function(){return o.a}));var l=n(445);n.d(e,"local",(function(){return l.a}));var c=n(388);n.d(e,"matcher",(function(){return c.a}));var h=n(446);n.d(e,"mouse",(function(){return h.a}));var f=n(373);n.d(e,"namespace",(function(){return f.a}));var d=n(374);n.d(e,"namespaces",(function(){return d.a}));var v=n(363);n.d(e,"clientPoint",(function(){return v.a}));var y=n(386);n.d(e,"select",(function(){return y.a}));var m=n(447);n.d(e,"selectAll",(function(){return m.a}));var x=n(70);n.d(e,"selection",(function(){return x.b}));var _=n(375);n.d(e,"selector",(function(){return _.a}));var w=n(387);n.d(e,"selectorAll",(function(){return w.a}));var S=n(391);n.d(e,"style",(function(){return S.b}));var M=n(448);n.d(e,"touch",(function(){return M.a}));var C=n(449);n.d(e,"touches",(function(){return C.a}));var A=n(376);n.d(e,"window",(function(){return A.a}));var k=n(377);n.d(e,"event",(function(){return k.c})),n.d(e,"customEvent",(function(){return k.a}))},function(t,e,n){t.exports={Position:n(294),Color:n(295),Shape:n(296),Size:n(297),Opacity:n(298),ColorUtil:n(148)}},function(t,e,n){var r=n(75),o=n(18);o.Linear=n(33),o.Identity=n(176),o.Cat=n(77),o.Time=n(177),o.TimeCat=n(179),o.Log=n(180),o.Pow=n(181);var l=function(t){if(o.hasOwnProperty(t)){var e=r(t);o[e]=function(e){return new o[t](e)}}};for(var c in o)l(c);var h=["cat","timeCat"];o.isCategory=function(t){return h.indexOf(t)>=0},t.exports=o},function(t,e,n){var r=n(24);t.exports=function(t){var e=r(t);return e.charAt(0).toLowerCase()+e.substring(1)}},function(t,e){function n(t,e){var n=t.length;if(0===n)return NaN;var pre=t[0];if(e<t[0])return NaN;if(e>=t[n-1])return t[n-1];for(var i=1;i<t.length&&!(e<t[i]);i++)pre=t[i];return pre}function r(t,e){var n,r=t.length;if(0===r)return NaN;if(e>t[r-1])return NaN;if(e<t[0])return t[0];for(var i=1;i<t.length;i++)if(e<=t[i]){n=t[i];break}return n}var o={snapFactorTo:function(t,e,n){if(isNaN(t))return NaN;var r=1;if(0!==t){t<0&&(r=-1);var l=function(t){var e=1;if(t===1/0||t===-1/0)throw new Error("Not support Infinity!");if(t<1){for(var n=0;t<1;)e/=10,t*=10,n++;e.toString().length>12&&(e=parseFloat(e.toFixed(n)))}else for(;t>10;)e*=10,t/=10;return e}(t*=r);r*=l,t/=l}t="floor"===n?o.snapFloor(e,t):"ceil"===n?o.snapCeiling(e,t):o.snapTo(e,t);var c=parseFloat((t*r).toPrecision(12));return Math.abs(r)<1&&c.toString().length>12&&(c=t/parseInt(1/r)*(r>0?1:-1)),c},snapMultiple:function(t,base,e){return("ceil"===e?Math.ceil(t/base):"floor"===e?Math.floor(t/base):Math.round(t/base))*base},snapTo:function(t,e){var o=n(t,e),l=r(t,e);if(isNaN(o)||isNaN(l)){if(t[0]>=e)return t[0];var c=t[t.length-1];if(c<=e)return c}return Math.abs(e-o)<Math.abs(l-e)?o:l},snapFloor:function(t,e){return n(t,e)},snapCeiling:function(t,e){return r(t,e)},fixedBase:function(t,base){var e=base.toString(),n=e.indexOf("."),r=e.indexOf("e-");if(n<0&&r<0)return Math.round(t);var o=r>=0?parseInt(e.substr(r+2),10):e.substr(n+1).length;return o>20&&(o=20),parseFloat(t.toFixed(o))}};t.exports=o},function(t,e,n){var r=n(18),o=n(78),l=n(2),c=n(9),h=n(10),f=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var f=r.prototype;return f._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="cat",this.isCategory=!0,this.isRounding=!0},f.init=function(){var t=this.values,e=this.tickCount;if(l(t,(function(e,i){t[i]=e.toString()})),!this.ticks){var n=t;e&&(n=o({maxCount:e,data:t,isRounding:this.isRounding}).ticks),this.ticks=n}},f.getText=function(e){return-1===this.values.indexOf(e)&&c(e)&&(e=this.values[Math.round(e)]),t.prototype.getText.call(this,e)},f.translate=function(t){var e=this.values.indexOf(t);return-1===e&&c(t)?e=t:-1===e&&(e=NaN),e},f.scale=function(t){var e=this.rangeMin(),n=this.rangeMax();return(h(t)||-1!==this.values.indexOf(t))&&(t=this.translate(t)),e+(this.values.length>1?t/(this.values.length-1):t)*(n-e)},f.invert=function(t){if(h(t))return t;var e=this.rangeMin(),n=this.rangeMax();t<e&&(t=e),t>n&&(t=n);var r=(t-e)/(n-e),o=Math.round(r*(this.values.length-1))%this.values.length;return o=o||0,this.values[o]},r}(r);r.Cat=f,t.exports=f},function(t,e,n){var r=n(2);t.exports=function(t){var data,e,n,o={},l=[],c=t.isRounding,h=(data=t.data,e=[],r(data,(function(sub){e=e.concat(sub)})),e),f=h.length,d=t.maxCount||8;if(c?2===(n=function(t,e){var i;for(i=e;i>0&&t%i!=0;i--);if(1===i)for(i=e;i>0&&(t-1)%i!=0;i--);return i}(f-1,d-1)+1)?n=d:n<d-4&&(n=d-4):n=d,!c&&f<=n+n/2)l=[].concat(h);else{for(var v=parseInt(f/(n-1),10),y=h.map((function(t,i){return i%v==0?h.slice(i,i+v):null})).filter((function(t){return t})),i=1,m=y.length;i<m&&(c?i*v<f-v:i<n-1);i++)l.push(y[i][0]);if(h.length){l.unshift(h[0]);var x=h[f-1];-1===l.indexOf(x)&&l.push(x)}}return o.categories=h,o.ticks=l,o}},function(t,e,n){var r;!function(main){"use strict";var o={},l=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,c=/\d\d?/,h=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,f=/\[([^]*?)\]/gm,d=function(){};function v(t,e){for(var n=[],i=0,r=t.length;i<r;i++)n.push(t[i].substr(0,e));return n}function y(t){return function(e,n,r){var o=r[t].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~o&&(e.month=o)}}function m(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}var x=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],_=["January","February","March","April","May","June","July","August","September","October","November","December"],w=v(_,3),S=v(x,3);o.i18n={dayNamesShort:S,dayNames:x,monthNamesShort:w,monthNames:_,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!=10)*t%10]}};var M={D:function(t){return t.getDate()},DD:function(t){return m(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return t.getDay()},dd:function(t){return m(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return m(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return String(t.getFullYear()).substr(2)},YYYY:function(t){return m(t.getFullYear(),4)},h:function(t){return t.getHours()%12||12},hh:function(t){return m(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return m(t.getHours())},m:function(t){return t.getMinutes()},mm:function(t){return m(t.getMinutes())},s:function(t){return t.getSeconds()},ss:function(t){return m(t.getSeconds())},S:function(t){return Math.round(t.getMilliseconds()/100)},SS:function(t){return m(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return m(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+m(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}},C={D:[c,function(t,e){t.day=e}],Do:[new RegExp(c.source+h.source),function(t,e){t.day=parseInt(e,10)}],M:[c,function(t,e){t.month=e-1}],YY:[c,function(t,e){var n=+(""+(new Date).getFullYear()).substr(0,2);t.year=""+(e>68?n-1:n)+e}],h:[c,function(t,e){t.hour=e}],m:[c,function(t,e){t.minute=e}],s:[c,function(t,e){t.second=e}],YYYY:[/\d{4}/,function(t,e){t.year=e}],S:[/\d/,function(t,e){t.millisecond=100*e}],SS:[/\d{2}/,function(t,e){t.millisecond=10*e}],SSS:[/\d{3}/,function(t,e){t.millisecond=e}],d:[c,d],ddd:[h,d],MMM:[h,y("monthNamesShort")],MMMM:[h,y("monthNames")],a:[h,function(t,e,n){var r=e.toLowerCase();r===n.amPm[0]?t.isPm=!1:r===n.amPm[1]&&(t.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(t,e){"Z"===e&&(e="+00:00");var n,r=(e+"").match(/([\+\-]|\d\d)/gi);r&&(n=60*r[1]+parseInt(r[2],10),t.timezoneOffset="+"===r[0]?n:-n)}]};C.dd=C.d,C.dddd=C.ddd,C.DD=C.D,C.mm=C.m,C.hh=C.H=C.HH=C.h,C.MM=C.M,C.ss=C.s,C.A=C.a,o.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},o.format=function(t,mask,e){var n=e||o.i18n;if("number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date in fecha.format");mask=o.masks[mask]||mask||o.masks.default;var r=[];return(mask=(mask=mask.replace(f,(function(t,e){return r.push(e),"??"}))).replace(l,(function(e){return e in M?M[e](t,n):e.slice(1,e.length-1)}))).replace(/\?\?/g,(function(){return r.shift()}))},o.parse=function(t,e,n){var r=n||o.i18n;if("string"!=typeof e)throw new Error("Invalid format in fecha.parse");if(e=o.masks[e]||e,t.length>1e3)return!1;var c=!0,h={};if(e.replace(l,(function(e){if(C[e]){var n=C[e],o=t.search(n[0]);~o?t.replace(n[0],(function(e){return n[1](h,e,r),t=t.substr(o+e.length),e})):c=!1}return C[e]?"":e.slice(1,e.length-1)})),!c)return!1;var f,d=new Date;return!0===h.isPm&&null!=h.hour&&12!=+h.hour?h.hour=+h.hour+12:!1===h.isPm&&12==+h.hour&&(h.hour=0),null!=h.timezoneOffset?(h.minute=+(h.minute||0)-+h.timezoneOffset,f=new Date(Date.UTC(h.year||d.getFullYear(),h.month||0,h.day||1,h.hour||0,h.minute||0,h.second||0,h.millisecond||0))):f=new Date(h.year||d.getFullYear(),h.month||0,h.day||1,h.hour||0,h.minute||0,h.second||0,h.millisecond||0),f},void 0!==t&&t.exports?t.exports=o:void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)}()},function(t,e,n){var r=n(12);t.exports=function(t){return r(t,"Date")}},function(t,e,n){t.exports={isFunction:n(11),isObject:n(25),isBoolean:n(82),isNil:n(5),isString:n(10),isArray:n(4),isNumber:n(9),isEmpty:n(83),uniqueId:n(86),clone:n(47),deepMix:n(48),assign:n(8),merge:n(48),upperFirst:n(87),each:n(2),isEqual:n(50),toArray:n(34),extend:n(88),augment:n(89),remove:n(90),isNumberEqual:n(35),toRadian:n(91),toDegree:n(92),mod:n(93),clamp:n(51),createDom:n(94),modifyCSS:n(95),requestAnimationFrame:n(96),getRatio:function(){return window.devicePixelRatio?window.devicePixelRatio:2},mat3:n(52),vec2:n(97),vec3:n(98),transform:n(99)}},function(t,e,n){var r=n(12);t.exports=function(t){return r(t,"Boolean")}},function(t,e,n){var r=n(5),o=n(13),l=n(84),c=n(85),h=Object.prototype.hasOwnProperty;t.exports=function(t){if(r(t))return!0;if(o(t))return!t.length;var e=l(t);if("Map"===e||"Set"===e)return!t.size;if(c(t))return!Object.keys(t).length;for(var n in t)if(h.call(t,n))return!1;return!0}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).replace(/^\[object /,"").replace(/\]$/,"")}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e){var map,n=(map={},function(t){return map[t=t||"g"]?map[t]+=1:map[t]=1,t+map[t]});t.exports=n},function(t,e,n){var r=n(24);t.exports=function(t){var e=r(t);return e.charAt(0).toUpperCase()+e.substring(1)}},function(t,e,n){var r=n(11),o=n(8);t.exports=function(t,e,n,l){r(e)||(n=e,e=t,t=function(){});var c=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var r=new n;return r.constructor=e,r},h=c(e.prototype,t);return t.prototype=o(h,t.prototype),t.superclass=c(e.prototype,e),o(h,n),o(t,l),t}},function(t,e,n){var r=n(11),o=n(34),l=n(8);t.exports=function(t){for(var e=o(arguments),i=1;i<e.length;i++){var n=e[i];r(n)&&(n=n.prototype),l(t.prototype,n)}}},function(t,e){var n=Array.prototype,r=n.splice,o=n.indexOf,l=n.slice;t.exports=function(t){for(var e=l.call(arguments,1),i=0;i<e.length;i++)for(var n=e[i],c=-1;(c=o.call(t,n))>-1;)r.call(t,c,1);return t}},function(t,e){var n=Math.PI/180;t.exports=function(t){return n*t}},function(t,e){var n=180/Math.PI;t.exports=function(t){return n*t}},function(t,e){t.exports=function(t,e){return(t%e+e)%e}},function(t,e){var n=document.createElement("table"),r=document.createElement("tr"),o=/^\s*<(\w+|!)[^>]*>/,l={tr:document.createElement("tbody"),tbody:n,thead:n,tfoot:n,td:r,th:r,"*":document.createElement("div")};t.exports=function(t){var e=o.test(t)&&RegExp.$1;e in l||(e="*");var n=l[e];t=t.replace(/(^\s*)|(\s*$)/g,""),n.innerHTML=""+t;var r=n.childNodes[0];return n.removeChild(r),r}},function(t,e){t.exports=function(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}},function(t,e){t.exports=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}},function(t,e,n){var r=n(184),o=n(51);r.angle=function(t,e){var n=r.dot(t,e)/(r.length(t)*r.length(e));return Math.acos(o(n,-1,1))},r.direction=function(t,e){return t[0]*e[1]-e[0]*t[1]},r.angleTo=function(t,e,n){var o=r.angle(t,e),l=r.direction(t,e)>=0;return n?l?2*Math.PI-o:o:l?o:2*Math.PI-o},r.vertical=function(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t},t.exports=r},function(t,e,n){var r=n(185);t.exports=r},function(t,e,n){var r=n(47),o=n(2),l=n(52);t.exports=function(t,e){return t=r(t),o(e,(function(e){switch(e[0]){case"t":l.translate(t,t,[e[1],e[2]]);break;case"s":l.scale(t,t,[e[1],e[2]]);break;case"r":l.rotate(t,t,e[1]);break;case"m":l.multiply(t,t,e[1]);break;default:return!1}})),t}},function(t,e,n){var r=n(1),o=function(t,e,n,r){this.type=t,this.target=null,this.currentTarget=null,this.bubbles=n,this.cancelable=r,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.removed=!1,this.event=e};r.augment(o,{preventDefault:function(){this.defaultPrevented=this.cancelable&&!0},stopPropagation:function(){this.propagationStopped=!0},remove:function(){this.remove=!0},clone:function(){return r.clone(this)},toString:function(){return"[Event (type="+this.type+")]"}}),t.exports=o},function(t,e,n){var r=n(1),o=n(102),l=n(189),c={};function h(t,e,n){for(var r,i=t.length-1;i>=0;i--){var o=t[i];if(o._cfg.visible&&o._cfg.capture&&(o.isGroup?r=o.getShape(e,n):o.isHit(e,n)&&(r=o)),r)break}return r}var f=function t(e){t.superclass.constructor.call(this,e),this.set("children",[]),this.set("tobeRemoved",[]),this._beforeRenderUI(),this._renderUI(),this._bindUI()};r.extend(f,o),r.augment(f,{isGroup:!0,type:"group",canFill:!0,canStroke:!0,getDefaultCfg:function(){return function t(e){if(!e._cfg&&e!==f){var n=e.superclass.constructor;n&&!n._cfg&&t(n),e._cfg={},r.merge(e._cfg,n._cfg),r.merge(e._cfg,e.CFG)}}(this.constructor),r.merge({},this.constructor._cfg)},_beforeRenderUI:function(){},_renderUI:function(){},_bindUI:function(){},addShape:function(t,e){var canvas=this.get("canvas");e=e||{};var n=c[t];if(n||(n=r.upperFirst(t),c[t]=n),e.attrs&&canvas){var o=e.attrs;if("text"===t){var h=canvas.get("fontFamily");h&&(o.fontFamily=o.fontFamily?o.fontFamily:h)}}e.canvas=canvas,e.type=t;var f=new l[n](e);return this.add(f),f},addGroup:function(param,t){var e,canvas=this.get("canvas");if(t=r.merge({},t),r.isFunction(param))t?(t.canvas=canvas,t.parent=this,e=new param(t)):e=new param({canvas:canvas,parent:this}),this.add(e);else if(r.isObject(param))param.canvas=canvas,e=new f(param),this.add(e);else{if(void 0!==param)return!1;e=new f,this.add(e)}return e},renderBack:function(t,e){var n=this.get("backShape"),o=this.getBBox();return r.merge(e,{x:o.minX-t[3],y:o.minY-t[0],width:o.width+t[1]+t[3],height:o.height+t[0]+t[2]}),n?n.attr(e):n=this.addShape("rect",{zIndex:-1,attrs:e}),this.set("backShape",n),this.sort(),n},removeChild:function(t,e){if(arguments.length>=2)this.contain(t)&&t.remove(e);else{if(1===arguments.length){if(!r.isBoolean(t))return this.contain(t)&&t.remove(!0),this;e=t}0===arguments.length&&(e=!0),f.superclass.remove.call(this,e)}return this},add:function(t){var e=this,n=e.get("children");if(r.isArray(t))r.each(t,(function(t){var n=t.get("parent");n&&n.removeChild(t,!1),e._setCfgProperty(t)})),e._cfg.children=n.concat(t);else{var o=t,l=o.get("parent");l&&l.removeChild(o,!1),e._setCfgProperty(o),n.push(o)}return e},_setCfgProperty:function(t){var e=this._cfg;t.set("parent",this),t.set("canvas",e.canvas),e.timeline&&t.set("timeline",e.timeline)},contain:function(t){return this.get("children").indexOf(t)>-1},getChildByIndex:function(t){return this.get("children")[t]},getFirst:function(){return this.getChildByIndex(0)},getLast:function(){var t=this.get("children").length-1;return this.getChildByIndex(t)},getBBox:function(){var t=1/0,e=-1/0,n=1/0,o=-1/0,l=this.get("children");l.length>0?r.each(l,(function(r){if(r.get("visible")){if(r.isGroup&&0===r.get("children").length)return;var l=r.getBBox();if(!l)return!0;var c=[l.minX,l.minY,1],h=[l.minX,l.maxY,1],f=[l.maxX,l.minY,1],d=[l.maxX,l.maxY,1];r.apply(c),r.apply(h),r.apply(f),r.apply(d);var v=Math.min(c[0],h[0],f[0],d[0]),y=Math.max(c[0],h[0],f[0],d[0]),m=Math.min(c[1],h[1],f[1],d[1]),x=Math.max(c[1],h[1],f[1],d[1]);v<t&&(t=v),y>e&&(e=y),m<n&&(n=m),x>o&&(o=x)}})):(t=0,e=0,n=0,o=0);var c={minX:t,minY:n,maxX:e,maxY:o};return c.x=c.minX,c.y=c.minY,c.width=c.maxX-c.minX,c.height=c.maxY-c.minY,c},getCount:function(){return this.get("children").length},sort:function(){var t,e=this.get("children");return r.each(e,(function(t,e){return t._INDEX=e,t})),e.sort((t=function(t,e){return t.get("zIndex")-e.get("zIndex")},function(e,n){var r=t(e,n);return 0===r?e._INDEX-n._INDEX:r})),this},findById:function(t){return this.find((function(e){return e.get("id")===t}))},find:function(t){if(r.isString(t))return this.findById(t);var e=this.get("children"),n=null;return r.each(e,(function(e){if(t(e)?n=e:e.find&&(n=e.find(t)),n)return!1})),n},findAll:function(t){var e=this.get("children"),n=[],o=[];return r.each(e,(function(e){t(e)&&n.push(e),e.findAllBy&&(o=e.findAllBy(t),n=n.concat(o))})),n},findBy:function(t){var e=this.get("children"),n=null;return r.each(e,(function(e){if(t(e)?n=e:e.findBy&&(n=e.findBy(t)),n)return!1})),n},findAllBy:function(t){var e=this.get("children"),n=[],o=[];return r.each(e,(function(e){t(e)&&n.push(e),e.findAllBy&&(o=e.findAllBy(t),n=n.concat(o))})),n},getShape:function(t,e){var n,r=this._attrs.clip,o=this._cfg.children;if(r){var l=[t,e,1];r.invert(l,this.get("canvas")),r.isPointInPath(l[0],l[1])&&(n=h(o,t,e))}else n=h(o,t,e);return n},clearTotalMatrix:function(){if(this.get("totalMatrix")){this.setSilent("totalMatrix",null);for(var t=this._cfg.children,i=0;i<t.length;i++)t[i].clearTotalMatrix()}},clear:function(t){for(var e=this._cfg.children,i=e.length-1;i>=0;i--)e[i].remove(!0,t);return this._cfg.children=[],this},destroy:function(){this.get("destroyed")||(this.clear(),f.superclass.destroy.call(this))},clone:function(){var t=this._cfg.children,e=new f;return r.each(t,(function(t){e.add(t.clone())})),e}}),t.exports=f},function(t,e,n){var r=n(1),o=n(186),l=n(187),c=n(188),h=n(54),f=function(t){this._cfg={zIndex:0,capture:!0,visible:!0,destroyed:!1},r.assign(this._cfg,this.getDefaultCfg(),t),this.initAttrs(this._cfg.attrs),this._cfg.attrs={},this.initTransform(),this.init()};f.CFG={id:null,zIndex:0,canvas:null,parent:null,capture:!0,context:null,visible:!0,destroyed:!1},r.augment(f,o,l,h,c,{init:function(){this.setSilent("animable",!0),this.setSilent("animating",!1)},getParent:function(){return this._cfg.parent},getDefaultCfg:function(){return{}},set:function(t,e){return"zIndex"===t&&this._beforeSetZIndex&&this._beforeSetZIndex(e),"loading"===t&&this._beforeSetLoading&&this._beforeSetLoading(e),this._cfg[t]=e,this},setSilent:function(t,e){this._cfg[t]=e},get:function(t){return this._cfg[t]},show:function(){return this._cfg.visible=!0,this},hide:function(){return this._cfg.visible=!1,this},remove:function(t,e){var n=this._cfg,o=n.parent,l=n.el;return o&&r.remove(o.get("children"),this),l&&(e?o&&o._cfg.tobeRemoved.push(l):l.parentNode.removeChild(l)),(t||void 0===t)&&this.destroy(),this},destroy:function(){this.get("destroyed")||(this._attrs=null,this.removeEvent(),this._cfg={destroyed:!0})},toFront:function(){var t=this._cfg,e=t.parent;if(e){var n=e._cfg.children,r=t.el,o=n.indexOf(this);n.splice(o,1),n.push(this),r&&(r.parentNode.removeChild(r),t.el=null)}},toBack:function(){var t=this._cfg,e=t.parent;if(e){var n=e._cfg.children,r=t.el,o=n.indexOf(this);if(n.splice(o,1),n.unshift(this),r){var l=r.parentNode;l.removeChild(r),l.insertBefore(r,l.firstChild)}}},_beforeSetZIndex:function(t){var e=this._cfg.parent;this._cfg.zIndex=t,r.isNil(e)||e.sort();var n=this._cfg.el;if(n){var o=e._cfg.children,l=o.indexOf(this),c=n.parentNode;c.removeChild(n),l===o.length-1?c.appendChild(n):c.insertBefore(n,c.childNodes[l])}return t},_setAttrs:function(t){return this.attr(t),t},setZIndex:function(t){return this._cfg.zIndex=t,this._beforeSetZIndex(t)},clone:function(){return r.clone(this)},getBBox:function(){}}),t.exports=f},function(t,e,n){var r=n(1),o=r.vec2;function l(t,e,n,r){var o=1-r;return o*(o*t+2*r*e)+r*r*n}function c(t,e,n,r,c,h,f,d,v){var y,m,x,_,w,S,i,M=.005,C=1/0,A=[f,d];for(w=0;w<1;w+=.05)x=[l(t,n,c,w),l(e,r,h,w)],(m=o.squaredDistance(A,x))<C&&(y=w,C=m);for(C=1/0,i=0;i<32&&!(M<1e-4);i++){var k=y-M,P=y+M;x=[l(t,n,c,k),l(e,r,h,k)],m=o.squaredDistance(A,x),k>=0&&m<C?(y=k,C=m):(_=[l(t,n,c,P),l(e,r,h,P)],S=o.squaredDistance(A,_),P<=1&&S<C?(y=P,C=S):M*=.5)}return v&&(v.x=l(t,n,c,y),v.y=l(e,r,h,y)),Math.sqrt(C)}t.exports={at:l,projectPoint:function(t,e,n,r,o,l,h,f){var d={};return c(t,e,n,r,o,l,h,f,d),d},pointDistance:c,extrema:function(t,e,n){var a=t+n-2*e;if(r.isNumberEqual(a,0))return[.5];var o=(t-e)/a;return o<=1&&o>=0?[o]:[]}}},function(t,e){t.exports={xAt:function(t,e,n,r,o){return e*Math.cos(t)*Math.cos(o)-n*Math.sin(t)*Math.sin(o)+r},yAt:function(t,e,n,r,o){return e*Math.sin(t)*Math.cos(o)+n*Math.cos(t)*Math.sin(o)+r},xExtrema:function(t,e,n){return Math.atan(-n/e*Math.tan(t))},yExtrema:function(t,e,n){return Math.atan(n/(e*Math.tan(t)))}}},function(t,e,n){var r=n(1),o=n(6),l=n(37),c=n(38);function h(t,e,n){return t+e*Math.cos(n)}function f(t,e,n){return t+e*Math.sin(n)}var d=function t(e){t.superclass.constructor.call(this,e)};d.ATTRS={x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1},r.extend(d,o),r.augment(d,{canStroke:!0,type:"arc",getDefaultAttrs:function(){return{x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.r,o=t.startAngle,c=t.endAngle,h=t.clockwise,f=this.getHitLineWidth()/2,d=l.box(e,n,r,o,c,h);return d.minX-=f,d.minY-=f,d.maxX+=f,d.maxY+=f,d},getStartTangent:function(){var t=this._attrs,e=t.x,n=t.y,r=t.startAngle,o=t.r,l=t.clockwise,c=Math.PI/180;l&&(c*=-1);var d=[],v=h(e,o,r+c),y=f(n,o,r+c),m=h(e,o,r),x=f(n,o,r);return d.push([v,y]),d.push([m,x]),d},getEndTangent:function(){var t=this._attrs,e=t.x,n=t.y,r=t.endAngle,o=t.r,l=t.clockwise,c=Math.PI/180,d=[];l&&(c*=-1);var v=h(e,o,r+c),y=f(n,o,r+c),m=h(e,o,r),x=f(n,o,r);return d.push([m,x]),d.push([v,y]),d},createPath:function(t){var e=this._attrs,n=e.x,r=e.y,o=e.r,l=e.startAngle,c=e.endAngle,h=e.clockwise;(t=t||self.get("context")).beginPath(),t.arc(n,r,o,l,c,h)},afterPath:function(t){var e=this._attrs;if(t=t||this.get("context"),e.startArrow){var n=this.getStartTangent();c.addStartArrow(t,e,n[0][0],n[0][1],n[1][0],n[1][1])}if(e.endArrow){var r=this.getEndTangent();c.addEndArrow(t,e,r[0][0],r[0][1],r[1][0],r[1][1])}}}),t.exports=d},function(t,e,n){var r=n(1),o=n(6),l=function t(e){t.superclass.constructor.call(this,e)};l.ATTRS={x:0,y:0,r:0,lineWidth:1},r.extend(l,o),r.augment(l,{canFill:!0,canStroke:!0,type:"circle",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.r,o=this.getHitLineWidth()/2+r;return{minX:e-o,minY:n-o,maxX:e+o,maxY:n+o}},createPath:function(t){var e=this._attrs,n=e.x,r=e.y,o=e.r;t.beginPath(),t.arc(n,r,o,0,2*Math.PI,!1),t.closePath()}}),t.exports=l},function(t,e,n){var r=n(1),o=n(6),l=function t(e){t.superclass.constructor.call(this,e)};r.extend(l,o),r.augment(l,{canFill:!0,canStroke:!0,type:"dom",calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.width,o=t.height,l=this.getHitLineWidth()/2;return{minX:e-l,minY:n-l,maxX:e+r+l,maxY:n+o+l}}}),t.exports=l},function(t,e,n){var r=n(1),o=n(6),l=function t(e){t.superclass.constructor.call(this,e)};l.ATTRS={x:0,y:0,rx:1,ry:1,lineWidth:1},r.extend(l,o),r.augment(l,{canFill:!0,canStroke:!0,type:"ellipse",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.rx,o=t.ry,l=this.getHitLineWidth(),c=r+l/2,h=o+l/2;return{minX:e-c,minY:n-h,maxX:e+c,maxY:n+h}},createPath:function(t){var e=this._attrs,n=e.x,o=e.y,l=e.rx,c=e.ry;t=t||self.get("context");var h=l>c?l:c,f=l>c?1:l/c,d=l>c?c/l:1,v=[1,0,0,0,1,0,0,0,1];r.mat3.scale(v,v,[f,d]),r.mat3.translate(v,v,[n,o]),t.beginPath(),t.save(),t.transform(v[0],v[1],v[3],v[4],v[6],v[7]),t.arc(0,0,h,0,2*Math.PI),t.restore(),t.closePath()}}),t.exports=l},function(t,e,n){var r=n(1),o=n(6),l=n(37),c=function t(e){t.superclass.constructor.call(this,e)};c.ATTRS={x:0,y:0,rs:0,re:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1},r.extend(c,o),r.augment(c,{canFill:!0,canStroke:!0,type:"fan",getDefaultAttrs:function(){return{clockwise:!1,lineWidth:1,rs:0,re:0}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.rs,o=t.re,c=t.startAngle,h=t.endAngle,f=t.clockwise,d=this.getHitLineWidth(),v=l.box(e,n,r,c,h,f),y=l.box(e,n,o,c,h,f),m=d/2;return{minX:Math.min(v.minX,y.minX)-m,minY:Math.min(v.minY,y.minY)-m,maxX:Math.max(v.maxX,y.maxX)+m,maxY:Math.max(v.maxY,y.maxY)+m}},createPath:function(t){var e=this._attrs,n=e.x,r=e.y,o=e.rs,l=e.re,c=e.startAngle,h=e.endAngle,f=e.clockwise,d={x:Math.cos(c)*o+n,y:Math.sin(c)*o+r},v={x:Math.cos(c)*l+n,y:Math.sin(c)*l+r},y={x:Math.cos(h)*o+n,y:Math.sin(h)*o+r};(t=t||self.get("context")).beginPath(),t.moveTo(d.x,d.y),t.lineTo(v.x,v.y),t.arc(n,r,l,c,h,f),t.lineTo(y.x,y.y),t.arc(n,r,o,h,c,!f),t.closePath()}}),t.exports=c},function(t,e,n){var r=n(1),o=n(6),l=function t(e){t.superclass.constructor.call(this,e)};l.ATTRS={x:0,y:0,img:void 0,width:0,height:0,sx:null,sy:null,swidth:null,sheight:null},r.extend(l,o),r.augment(l,{type:"image",isHitBox:function(){return!1},calculateBox:function(){var t=this._attrs;this._cfg.attrs&&this._cfg.attrs.img===t.img||this._setAttrImg();var e=t.x,n=t.y;return{minX:e,minY:n,maxX:e+t.width,maxY:n+t.height}},_beforeSetLoading:function(t){var canvas=this.get("canvas");return!1===t&&!0===this.get("toDraw")&&(this._cfg.loading=!1,canvas.draw()),t},_setAttrImg:function(){var t=this,e=t._attrs,img=e.img;if(!r.isString(img))return img instanceof Image?(e.width||t.attr("width",img.width),e.height||t.attr("height",img.height),img):img instanceof HTMLElement&&r.isString(img.nodeName)&&"CANVAS"===img.nodeName.toUpperCase()?(e.width||t.attr("width",Number(img.getAttribute("width"))),e.height||t.attr("height",Number(img.getAttribute("height"))),img):img instanceof ImageData?(e.width||t.attr("width",img.width),e.height||t.attr("height",img.height),img):null;var image=new Image;image.onload=function(){if(t.get("destroyed"))return!1;t.attr("imgSrc",img),t.attr("img",image);var e=t.get("callback");e&&e.call(t),t.set("loading",!1)},image.src=img,image.crossOrigin="Anonymous",t.set("loading",!0)},drawInner:function(t){this._cfg.hasUpdate&&this._setAttrImg(),this.get("loading")?this.set("toDraw",!0):(this._drawImage(t),this._cfg.hasUpdate=!1)},_drawImage:function(t){var e=this._attrs,n=e.x,o=e.y,image=e.img,l=e.width,c=e.height,h=e.sx,f=e.sy,d=e.swidth,v=e.sheight;this.set("toDraw",!1);var img=image;if(img instanceof ImageData&&((img=new Image).src=image),img instanceof Image||img instanceof HTMLElement&&r.isString(img.nodeName)&&"CANVAS"===img.nodeName.toUpperCase()){if(r.isNil(h)||r.isNil(f)||r.isNil(d)||r.isNil(v))return void t.drawImage(img,n,o,l,c);if(!(r.isNil(h)||r.isNil(f)||r.isNil(d)||r.isNil(v)))return void t.drawImage(img,h,f,d,v,n,o,l,c)}}}),t.exports=l},function(t,e,n){var r=n(1),o=n(6),l=n(38),c=n(36),h=function t(e){t.superclass.constructor.call(this,e)};h.ATTRS={x1:0,y1:0,x2:0,y2:0,lineWidth:1,startArrow:!1,endArrow:!1},r.extend(h,o),r.augment(h,{canStroke:!0,type:"line",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this._attrs,e=t.x1,n=t.y1,r=t.x2,o=t.y2,l=this.getHitLineWidth();return c.box(e,n,r,o,l)},createPath:function(t){var e=this._attrs,n=e.x1,r=e.y1,o=e.x2,l=e.y2;(t=t||self.get("context")).beginPath(),t.moveTo(n,r),t.lineTo(o,l)},afterPath:function(t){var e=this._attrs,n=e.x1,r=e.y1,o=e.x2,c=e.y2;t=t||this.get("context"),e.startArrow&&l.addStartArrow(t,e,o,c,n,r),e.endArrow&&l.addEndArrow(t,e,n,r,o,c)},getPoint:function(t){var e=this._attrs;return{x:c.at(e.x1,e.x2,t),y:c.at(e.y1,e.y2,t)}}}),t.exports=h},function(t,e,n){var r=n(1),o=n(6),l=n(39),c=n(27),h=n(38),f=n(58),d=n(56),v=function t(e){t.superclass.constructor.call(this,e)};v.ATTRS={path:null,lineWidth:1,startArrow:!1,endArrow:!1},r.extend(v,o),r.augment(v,{canFill:!0,canStroke:!0,type:"path",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},_afterSetAttrPath:function(path){if(r.isNil(path))return this.setSilent("segments",null),void this.setSilent("box",void 0);var t,e=c.parsePath(path),n=[];if(r.isArray(e)&&0!==e.length&&("M"===e[0][0]||"m"===e[0][0])){for(var o=e.length,i=0;i<e.length;i++){var h=e[i];t=new l(h,t,i===o-1),n.push(t)}this.setSilent("segments",n),this.setSilent("tCache",null),this.setSilent("box",null)}},calculateBox:function(){var t=this.get("segments");if(!t)return null;var e=this.getHitLineWidth(),n=1/0,o=-1/0,l=1/0,c=-1/0;return r.each(t,(function(t){t.getBBox(e);var r=t.box;r&&(r.minX<n&&(n=r.minX),r.maxX>o&&(o=r.maxX),r.minY<l&&(l=r.minY),r.maxY>c&&(c=r.maxY))})),n===1/0||l===1/0?{minX:0,minY:0,maxX:0,maxY:0}:{minX:n,minY:l,maxX:o,maxY:c}},_setTcache:function(){var t,e,n,o,l=0,c=0,h=[],f=this._cfg.curve;f&&(r.each(f,(function(t,i){n=f[i+1],o=t.length,n&&(l+=d.len(t[o-2],t[o-1],n[1],n[2],n[3],n[4],n[5],n[6]))})),r.each(f,(function(r,i){n=f[i+1],o=r.length,n&&((t=[])[0]=c/l,e=d.len(r[o-2],r[o-1],n[1],n[2],n[3],n[4],n[5],n[6]),c+=e,t[1]=c/l,h.push(t))})),this._cfg.tCache=h)},_calculateCurve:function(){var path=this._attrs.path;this._cfg.curve=f.pathTocurve(path)},getStartTangent:function(){var t,e,n,o,l=this.get("segments");if(l.length>1)if(t=l[0].endPoint,e=l[1].endPoint,n=l[1].startTangent,o=[],r.isFunction(n)){var c=n();o.push([t.x-c[0],t.y-c[1]]),o.push([t.x,t.y])}else o.push([e.x,e.y]),o.push([t.x,t.y]);return o},getEndTangent:function(){var t,e,n,o,l=this.get("segments"),c=l.length;if(c>1)if(t=l[c-2].endPoint,e=l[c-1].endPoint,n=l[c-1].endTangent,o=[],r.isFunction(n)){var h=n();o.push([e.x-h[0],e.y-h[1]]),o.push([e.x,e.y])}else o.push([t.x,t.y]),o.push([e.x,e.y]);return o},getPoint:function(t){var e,n,o=this._cfg.tCache;o||(this._calculateCurve(),this._setTcache(),o=this._cfg.tCache);var l=this._cfg.curve;if(!o)return l?{x:l[0][1],y:l[0][2]}:null;r.each(o,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)}));var c=l[n];if(r.isNil(c)||r.isNil(n))return null;var h=c.length,f=l[n+1];return{x:d.at(c[h-2],f[1],f[3],f[5],1-e),y:d.at(c[h-1],f[2],f[4],f[6],1-e)}},createPath:function(t){var e=this.get("segments");if(r.isArray(e)){(t=t||this.get("context")).beginPath();for(var n=e.length,i=0;i<n;i++)e[i].draw(t)}},afterPath:function(t){var e=this._attrs,n=this.get("segments"),path=e.path;if(t=t||this.get("context"),r.isArray(n)&&1!==n.length&&(e.startArrow||e.endArrow)&&"z"!==path[path.length-1]&&"Z"!==path[path.length-1]&&!e.fill){var o=this.getStartTangent();h.addStartArrow(t,e,o[0][0],o[0][1],o[1][0],o[1][1]);var l=this.getEndTangent();h.addEndArrow(t,e,l[0][0],l[0][1],l[1][0],l[1][1])}}}),t.exports=v},function(t,e,n){var r=n(1),o=n(6),l=function t(e){t.superclass.constructor.call(this,e)};l.ATTRS={points:null,lineWidth:1},r.extend(l,o),r.augment(l,{canFill:!0,canStroke:!0,type:"polygon",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this._attrs.points,e=this.getHitLineWidth();if(!t||0===t.length)return null;var n=1/0,o=1/0,l=-1/0,c=-1/0;r.each(t,(function(t){var e=t[0],r=t[1];e<n&&(n=e),e>l&&(l=e),r<o&&(o=r),r>c&&(c=r)}));var h=e/2;return{minX:n-h,minY:o-h,maxX:l+h,maxY:c+h}},createPath:function(t){var e=this._attrs.points;e.length<2||((t=t||this.get("context")).beginPath(),r.each(e,(function(e,n){0===n?t.moveTo(e[0],e[1]):t.lineTo(e[0],e[1])})),t.closePath())}}),t.exports=l},function(t,e,n){var r=n(1),o=n(6),l=n(38),c=n(36),h=function t(e){t.superclass.constructor.call(this,e)};h.ATTRS={points:null,lineWidth:1,startArrow:!1,endArrow:!1,tCache:null},r.extend(h,o),r.augment(h,{canStroke:!0,type:"polyline",tCache:null,getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this._attrs,e=this.getHitLineWidth(),n=t.points;if(!n||0===n.length)return null;var o=1/0,l=1/0,c=-1/0,h=-1/0;r.each(n,(function(t){var e=t[0],n=t[1];e<o&&(o=e),e>c&&(c=e),n<l&&(l=n),n>h&&(h=n)}));var f=e/2;return{minX:o-f,minY:l-f,maxX:c+f,maxY:h+f}},_setTcache:function(){var t,e,n=this._attrs.points,o=0,l=0,h=[];n&&0!==n.length&&(r.each(n,(function(p,i){n[i+1]&&(o+=c.len(p[0],p[1],n[i+1][0],n[i+1][1]))})),o<=0||(r.each(n,(function(p,i){n[i+1]&&((t=[])[0]=l/o,e=c.len(p[0],p[1],n[i+1][0],n[i+1][1]),l+=e,t[1]=l/o,h.push(t))})),this.tCache=h))},createPath:function(t){var e,i,n=this._attrs.points;if(!(n.length<2)){for((t=t||this.get("context")).beginPath(),t.moveTo(n[0][0],n[0][1]),i=1,e=n.length-1;i<e;i++)t.lineTo(n[i][0],n[i][1]);t.lineTo(n[e][0],n[e][1])}},getStartTangent:function(){var t=this.__attrs.points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},getEndTangent:function(){var t=this.__attrs.points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},afterPath:function(t){var e=this._attrs,n=e.points,r=n.length-1;t=t||this.get("context"),e.startArrow&&l.addStartArrow(t,e,n[1][0],n[1][1],n[0][0],n[0][1]),e.endArrow&&l.addEndArrow(t,e,n[r-1][0],n[r-1][1],n[r][0],n[r][1])},getPoint:function(t){var e,n,o=this._attrs.points,l=this.tCache;return l||(this._setTcache(),l=this.tCache),r.each(l,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)})),{x:c.at(o[n][0],o[n+1][0],e),y:c.at(o[n][1],o[n+1][1],e)}}}),t.exports=h},function(t,e,n){var r=n(1),o=n(27).parseRadius,l=n(6),c=function t(e){t.superclass.constructor.call(this,e)};c.ATTRS={x:0,y:0,width:0,height:0,radius:0,lineWidth:1},r.extend(c,l),r.augment(c,{canFill:!0,canStroke:!0,type:"rect",getDefaultAttrs:function(){return{lineWidth:1,radius:0}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.width,o=t.height,l=this.getHitLineWidth()/2;return{minX:e-l,minY:n-l,maxX:e+r+l,maxY:n+o+l}},createPath:function(t){var e=this._attrs,n=e.x,r=e.y,l=e.width,c=e.height,h=e.radius;if((t=t||this.get("context")).beginPath(),0===h)t.rect(n,r,l,c);else{var f=o(h);t.moveTo(n+f.r1,r),t.lineTo(n+l-f.r2,r),0!==f.r2&&t.arc(n+l-f.r2,r+f.r2,f.r2,-Math.PI/2,0),t.lineTo(n+l,r+c-f.r3),0!==f.r3&&t.arc(n+l-f.r3,r+c-f.r3,f.r3,0,Math.PI/2),t.lineTo(n+f.r4,r+c),0!==f.r4&&t.arc(n+f.r4,r+c-f.r4,f.r4,Math.PI/2,Math.PI),t.lineTo(n,r+f.r1),0!==f.r1&&t.arc(n+f.r1,r+f.r1,f.r1,Math.PI,1.5*Math.PI),t.closePath()}}}),t.exports=c},function(t,e,n){var r=n(1),o=n(6),l=function t(e){t.superclass.constructor.call(this,e)};l.ATTRS={x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null},r.extend(l,o),r.augment(l,{canFill:!0,canStroke:!0,type:"text",getDefaultAttrs:function(){return{lineWidth:1,lineCount:1,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"}},initTransform:function(){var t=this._attrs.fontSize;t&&+t<12&&this.transform([["t",-1*this._attrs.x,-1*this._attrs.y],["s",+t/12,+t/12],["t",this._attrs.x,this._attrs.y]])},_assembleFont:function(){var t=this._attrs,e=t.fontSize,n=t.fontFamily,r=t.fontWeight,o=t.fontStyle,l=t.fontVariant;t.font=[o,l,r,e+"px",n].join(" ")},_setAttrText:function(){var t=this._attrs,text=t.text,e=null;if(r.isString(text)&&-1!==text.indexOf("\n")){var n=(e=text.split("\n")).length;t.lineCount=n}t.textArr=e},_getTextHeight:function(){var t=this._attrs,e=t.lineCount,n=1*t.fontSize;return e>1?n*e+this._getSpaceingY()*(e-1):n},isHitBox:function(){return!1},calculateBox:function(){var t=this._attrs,e=this._cfg;e.attrs&&!e.hasUpdate||(this._assembleFont(),this._setAttrText()),t.textArr||this._setAttrText();var n=t.x,r=t.y,o=this.measureText();if(!o)return{minX:n,minY:r,maxX:n,maxY:r};var l=this._getTextHeight(),c=t.textAlign,h=t.textBaseline,f=this.getHitLineWidth(),d={x:n,y:r-l};c&&("end"===c||"right"===c?d.x-=o:"center"===c&&(d.x-=o/2)),h&&("top"===h?d.y+=l:"middle"===h&&(d.y+=l/2)),this.set("startPoint",d);var v=f/2;return{minX:d.x-v,minY:d.y-v,maxX:d.x+o+v,maxY:d.y+l+v}},_getSpaceingY:function(){var t=this._attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},drawInner:function(t){var e=this._attrs,n=this._cfg;n.attrs&&!n.hasUpdate||(this._assembleFont(),this._setAttrText()),t.font=e.font;var text=e.text;if(text){var o=e.textArr,l=e.x,c=e.y;if(t.beginPath(),this.hasStroke()){var h=e.strokeOpacity;r.isNil(h)||1===h||(t.globalAlpha=h),o?this._drawTextArr(t,!1):t.strokeText(text,l,c),t.globalAlpha=1}if(this.hasFill()){var f=e.fillOpacity;r.isNil(f)||1===f||(t.globalAlpha=f),o?this._drawTextArr(t,!0):t.fillText(text,l,c)}n.hasUpdate=!1}},_drawTextArr:function(t,e){var n,o=this._attrs.textArr,l=this._attrs.textBaseline,c=1*this._attrs.fontSize,h=this._getSpaceingY(),f=this._attrs.x,d=this._attrs.y,v=this.getBBox(),y=v.maxY-v.minY;r.each(o,(function(r,o){n=d+o*(h+c)-y+c,"middle"===l&&(n+=y-c-(y-c)/2),"top"===l&&(n+=y-c),e?t.fillText(r,f,n):t.strokeText(r,f,n)}))},measureText:function(){var t,e=this._attrs,text=e.text,n=e.font,o=e.textArr,l=0;if(!r.isNil(text)){var c=document.createElement("canvas").getContext("2d");return c.save(),c.font=n,o?r.each(o,(function(e){t=c.measureText(e).width,l<t&&(l=t),c.restore()})):(l=c.measureText(text).width,c.restore()),l}}}),t.exports=l},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var r=Math.PI/180,o=180/Math.PI},function(t,e,n){"use strict";n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return d}));var r=n(17),o=n(63),l=n(119),c=n(28);function h(t){return function(e){var i,n,o=e.length,l=new Array(o),g=new Array(o),b=new Array(o);for(i=0;i<o;++i)n=Object(r.f)(e[i]),l[i]=n.r||0,g[i]=n.g||0,b[i]=n.b||0;return l=t(l),g=t(g),b=t(b),n.opacity=1,function(t){return n.r=l(t),n.g=g(t),n.b=b(t),n+""}}}e.a=function t(e){var n=Object(c.b)(e);function o(t,e){var o=n((t=Object(r.f)(t)).r,(e=Object(r.f)(e)).r),g=n(t.g,e.g),b=n(t.b,e.b),l=Object(c.a)(t.opacity,e.opacity);return function(e){return t.r=o(e),t.g=g(e),t.b=b(e),t.opacity=l(e),t+""}}return o.gamma=t,o}(1);var f=h(o.b),d=h(l.a)},function(t,e,n){"use strict";var r=n(63);e.a=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),o=t[(i+e-1)%e],l=t[i%e],c=t[(i+1)%e],h=t[(i+2)%e];return Object(r.a)((n-i/e)*e,o,l,c,h)}}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(60);e.a=function(a,b){var i,t=b?b.length:0,e=a?Math.min(t,a.length):0,n=new Array(e),o=new Array(t);for(i=0;i<e;++i)n[i]=Object(r.a)(a[i],b[i]);for(;i<t;++i)o[i]=b[i];return function(t){for(i=0;i<e;++i)o[i]=n[i](t);return o}}},function(t,e,n){"use strict";e.a=function(a,b){var t=new Date;return b-=a=+a,function(e){return t.setTime(a+b*e),t}}},function(t,e,n){"use strict";var r=n(60);e.a=function(a,b){var t,i={},e={};for(t in null!==a&&"object"==typeof a||(a={}),null!==b&&"object"==typeof b||(b={}),b)t in a?i[t]=Object(r.a)(a[t],b[t]):e[t]=b[t];return function(n){for(t in i)e[t]=i[t](n);return e}}},function(t,e,n){"use strict";var r=n(40),o=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,l=new RegExp(o.source,"g");e.a=function(a,b){var t,e,n,c=o.lastIndex=l.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(t=o.exec(a))&&(e=l.exec(b));)(n=e.index)>c&&(n=b.slice(c,n),s[i]?s[i]+=n:s[++i]=n),(t=t[0])===(e=e[0])?s[i]?s[i]+=e:s[++i]=e:(s[++i]=null,q.push({i:i,x:Object(r.a)(t,e)})),c=l.lastIndex;return c<b.length&&(n=b.slice(c),s[i]?s[i]+=n:s[++i]=n),s.length<2?q[0]?function(b){return function(t){return b(t)+""}}(q[0].x):function(b){return function(){return b}}(b):(b=q.length,function(t){for(var e,i=0;i<b;++i)s[(e=q[i]).i]=e.x(t);return s.join("")})}},function(t,e,n){var r=n(0),o=n(292),l={appear:{duration:450,easing:"easeQuadOut"},update:{duration:450,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut",delay:100},leave:{duration:350,easing:"easeQuadIn"}},c={line:{appear:function(){return o.appear.clipIn},enter:function(){return o.enter.clipIn},leave:function(){return o.leave.lineWidthOut}},path:{appear:function(){return o.appear.clipIn},enter:function(){return o.enter.clipIn},leave:function(){return o.leave.lineWidthOut}},area:{appear:function(){return o.appear.clipIn},enter:function(){return o.enter.fadeIn},leave:function(){return o.leave.fadeOut},cfg:{appear:{duration:500,easing:"easeQuadOut"},update:{duration:450,easing:"easeQuadInOut"},enter:{duration:600,delay:150,easing:"easeQuadInOut"},leave:{easing:"easeQuadOut",duration:350}}},polygon:{appear:function(){return o.appear.zoomIn},enter:function(){return o.enter.zoomIn},leave:function(){return o.leave.zoomOut}},edge:{appear:function(){return o.appear.pathIn},enter:function(){return o.enter.pathIn},leave:function(){return o.leave.pathOut}},interval:{appear:function(t){var e;return t.isPolar?(e=o.appear.zoomIn,(t.isTransposed||"theta"===t.type)&&(e=o.appear.fanIn)):e=t.isRect?t.isTransposed?o.appear.scaleInX:o.appear.scaleInY:o.appear.zoomIn,e},enter:function(t){return t.isRect||t.isTransposed||"theta"===t.type?o.enter.fadeIn:o.enter.zoomIn},leave:function(){return o.leave.fadeOut},update:function(t){if("theta"===t.type)return o.update.fanIn}},point:{appear:function(){return o.appear.zoomIn},enter:function(){return o.enter.zoomIn},leave:function(){return o.leave.zoomOut}},schema:{appear:function(){return o.appear.clipIn},enter:function(){return o.enter.clipIn},leave:function(){return o.leave.lineWidthOut}},contour:null,heatmap:null,label:{appear:function(){return o.appear.fadeIn},enter:function(){return o.enter.fadeIn},leave:function(){return o.leave.fadeOut},cfg:{appear:{duration:900}}},"axis-label":{enter:function(){return o.appear.fadeIn},leave:function(){return o.leave.fadeOut},update:function(t){if(t.isPolar)return o.appear.fadeIn}},"axis-ticks":{enter:function(){return o.appear.fadeIn},leave:function(){return o.leave.fadeOut},update:function(t){if(t.isPolar)return o.appear.fadeIn}},"axis-grid":{enter:function(){return o.appear.fadeIn},leave:function(){return o.leave.fadeOut},update:function(t){if(t.isPolar)return o.appear.fadeIn}},"axis-grid-rect":{enter:function(){return o.appear.fadeIn},leave:function(){return o.leave.fadeOut},update:function(){return o.leave.fadeIn}},labelLine:{appear:function(){return o.appear.pathIn},enter:function(){return o.enter.pathIn},leave:function(){return o.leave.pathOut}}};c.Action=o,c.defaultCfg=l,c.getAnimation=function(t,e,n){var o=this[t];if(o){var l=o[n];if(r.isFunction(l))return l(e)}return!1},c.getAnimateCfg=function(t,e){var n=l[e];return this[t]&&this[t].cfg&&this[t].cfg[e]?r.deepMix({},n,this[t].cfg[e]):n},c.registerAnimation=function(t,e,n){this.Action[t]||(this.Action[t]={}),this.Action[t][e]=n},t.exports=c},function(t,e,n){var r=n(2),o=n(8),l=n(230),c=n(239),h=n(250),f=n(253),d=n(257),v=n(43),y=n(266),m=n(270),x=n(276),_=n(280),w={DOMUtil:l,DomUtil:l,MatrixUtil:v,PathUtil:m,arrayUtil:c,domUtil:l,eventUtil:h,formatUtil:f,mathUtil:d,matrixUtil:v,objectUtil:y,stringUtil:x,pathUtil:m,typeUtil:_,augment:n(89),clone:n(47),debounce:n(286),deepMix:n(48),each:r,extend:n(88),filter:n(64),group:n(143),groupBy:n(145),groupToMap:n(144),indexOf:n(287),isEmpty:n(83),isEqual:n(50),isEqualWith:n(288),map:n(289),mix:o,pick:n(290),throttle:n(291),toArray:n(34),toString:n(24),uniqueId:n(86)};r([l,c,h,f,d,v,y,m,x,_],(function(t){o(w,t)})),t.exports=w},function(t,e,n){var r=n(128),o=n(5);t.exports=function(t,e){var n=r(e),l=n.length;if(o(t))return!l;for(var i=0;i<l;i+=1){var c=n[i];if(e[c]!==t[c]||!(c in t))return!1}return!0}},function(t,e,n){var r=n(2),o=n(11),l=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return r(t,(function(n,r){o(t)&&"prototype"===r||e.push(r)})),e};t.exports=l},function(t,e,n){var r=n(13),o=Array.prototype.splice;t.exports=function(t,e){if(!r(t))return[];for(var n=t?e.length:0,l=n-1;n--;){var c=void 0,h=e[n];n!==l&&h===c||(c=h,o.call(t,h,1))}return t}},function(t,e,n){var r=n(2),o=n(41);t.exports=function(t){var e=[];return r(t,(function(t){o(e,t)||e.push(t)})),e}},function(t,e,n){var r=n(4),o=n(11),l=n(2);t.exports=function(t,e){if(r(t)){var n=t[0],c=void 0;c=o(e)?e(t[0]):t[0][e];var data=void 0;return l(t,(function(t){(data=o(e)?e(t):t[e])>c&&(n=t,c=data)})),n}}},function(t,e){t.exports=parseInt},function(t,e){t.exports=function(t,e){return t.hasOwnProperty(e)}},function(t,e,n){var r=n(2),o=n(11),l=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return r(t,(function(n,r){o(t)&&"prototype"===r||e.push(n)})),e};t.exports=l},function(t,e,n){var r=n(136);t.exports=function(t,e,n,o,l){if(l)return[["M",+t+ +l,e],["l",n-2*l,0],["a",l,l,0,0,1,l,l],["l",0,o-2*l],["a",l,l,0,0,1,-l,l],["l",2*l-n,0],["a",l,l,0,0,1,-l,-l],["l",0,2*l-o],["a",l,l,0,0,1,l,-l],["z"]];var c=[["M",t,e],["l",n,0],["l",0,o],["l",-n,0],["z"]];return c.parsePathArray=r,c}},function(t,e){var n=/,?([a-z]),?/gi;t.exports=function(path){return path.join(",").replace(n,"$1")}},function(t,e,n){var r=n(138),o=function t(e,n,r,o,l,c,h,f,d,v){r===o&&(r+=1);var y=120*Math.PI/180,m=Math.PI/180*(+l||0),x=[],_=void 0,w=void 0,S=void 0,M=void 0,C=void 0,A=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}};if(v)w=v[0],S=v[1],M=v[2],C=v[3];else{e=(_=A(e,n,-m)).x,n=_.y,f=(_=A(f,d,-m)).x,d=_.y,e===f&&n===d&&(f+=1,d+=1);var k=(e-f)/2,P=(n-d)/2,T=k*k/(r*r)+P*P/(o*o);T>1&&(r*=T=Math.sqrt(T),o*=T);var I=r*r,O=o*o,L=(c===h?-1:1)*Math.sqrt(Math.abs((I*O-I*P*P-O*k*k)/(I*P*P+O*k*k)));M=L*r*P/o+(e+f)/2,C=L*-o*k/r+(n+d)/2,w=Math.asin(((n-C)/o).toFixed(9)),S=Math.asin(((d-C)/o).toFixed(9)),w=e<M?Math.PI-w:w,S=f<M?Math.PI-S:S,w<0&&(w=2*Math.PI+w),S<0&&(S=2*Math.PI+S),h&&w>S&&(w-=2*Math.PI),!h&&S>w&&(S-=2*Math.PI)}var E=S-w;if(Math.abs(E)>y){var D=S,F=f,B=d;S=w+y*(h&&S>w?1:-1),x=t(f=M+r*Math.cos(S),d=C+o*Math.sin(S),r,o,l,0,h,F,B,[S,D,M,C])}E=S-w;var R=Math.cos(w),j=Math.sin(w),N=Math.cos(S),z=Math.sin(S),Y=Math.tan(E/4),V=4/3*r*Y,X=4/3*o*Y,H=[e,n],W=[e+V*j,n-X*R],G=[f+V*z,d-X*N],U=[f,d];if(W[0]=2*H[0]-W[0],W[1]=2*H[1]-W[1],v)return[W,G,U].concat(x);for(var Z=[],i=0,Q=(x=[W,G,U].concat(x).join().split(",")).length;i<Q;i++)Z[i]=i%2?A(x[i-1],x[i],m).y:A(x[i],x[i+1],m).x;return Z},l=function(t,e,n,r){return[t,e,n,r,n,r]},c=function(t,e,n,r,o,l){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*o+2/3*n,1/3*l+2/3*r,o,l]};t.exports=function(path,t){var p=r(path),e=t&&r(t),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},f=[],d=[],v="",y="",m=void 0,x=function(path,t,e){var n=void 0,r=void 0;if(!path)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(path[0]in{T:1,Q:1})&&(t.qx=t.qy=null),path[0]){case"M":t.X=path[1],t.Y=path[2];break;case"A":path=["C"].concat(o.apply(0,[t.x,t.y].concat(path.slice(1))));break;case"S":"C"===e||"S"===e?(n=2*t.x-t.bx,r=2*t.y-t.by):(n=t.x,r=t.y),path=["C",n,r].concat(path.slice(1));break;case"T":"Q"===e||"T"===e?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),path=["C"].concat(c(t.x,t.y,t.qx,t.qy,path[1],path[2]));break;case"Q":t.qx=path[1],t.qy=path[2],path=["C"].concat(c(t.x,t.y,path[1],path[2],path[3],path[4]));break;case"L":path=["C"].concat(l(t.x,t.y,path[1],path[2]));break;case"H":path=["C"].concat(l(t.x,t.y,path[1],t.y));break;case"V":path=["C"].concat(l(t.x,t.y,t.x,path[1]));break;case"Z":path=["C"].concat(l(t.x,t.y,t.X,t.Y))}return path},_=function(t,i){if(t[i].length>7){t[i].shift();for(var n=t[i];n.length;)f[i]="A",e&&(d[i]="A"),t.splice(i++,0,["C"].concat(n.splice(0,6)));t.splice(i,1),m=Math.max(p.length,e&&e.length||0)}},w=function(t,n,r,o,i){t&&n&&"M"===t[i][0]&&"M"!==n[i][0]&&(n.splice(i,0,["M",o.x,o.y]),r.bx=0,r.by=0,r.x=t[i][1],r.y=t[i][2],m=Math.max(p.length,e&&e.length||0))};m=Math.max(p.length,e&&e.length||0);for(var i=0;i<m;i++){p[i]&&(v=p[i][0]),"C"!==v&&(f[i]=v,i&&(y=f[i-1])),p[i]=x(p[i],n,y),"A"!==f[i]&&"C"===v&&(f[i]="C"),_(p,i),e&&(e[i]&&(v=e[i][0]),"C"!==v&&(d[i]=v,i&&(y=d[i-1])),e[i]=x(e[i],h,y),"A"!==d[i]&&"C"===v&&(d[i]="C"),_(e,i)),w(p,e,n,h,i),w(e,p,h,n,i);var S=p[i],M=e&&e[i],C=S.length,A=e&&M.length;n.x=S[C-2],n.y=S[C-1],n.bx=parseFloat(S[C-4])||n.x,n.by=parseFloat(S[C-3])||n.y,h.bx=e&&(parseFloat(M[A-4])||h.x),h.by=e&&(parseFloat(M[A-3])||h.y),h.x=e&&M[A-2],h.y=e&&M[A-1]}return e?[p,e]:p}},function(t,e,n){var r=n(139),o=n(140);function l(t,e,n,r,a){var o=[];if(null===a&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==a){var l=Math.PI/180,c=t+n*Math.cos(-r*l),h=t+n*Math.cos(-a*l);o=[["M",c,e+n*Math.sin(-r*l)],["A",n,n,0,+(a-r>180),0,h,e+n*Math.sin(-a*l)]]}else o=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return o}t.exports=function(t){if(!(t=r(t))||!t.length)return[["M",0,0]];var e=[],n=0,c=0,h=0,f=0,d=0,v=void 0,y=void 0;"M"===t[0][0]&&(h=n=+t[0][1],f=c=+t[0][2],d++,e[0]=["M",n,c]);for(var m,x,_=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),i=d,w=t.length;i<w;i++){if(e.push(m=[]),(v=(x=t[i])[0])!==v.toUpperCase())switch(m[0]=v.toUpperCase(),m[0]){case"A":m[1]=x[1],m[2]=x[2],m[3]=x[3],m[4]=x[4],m[5]=x[5],m[6]=+x[6]+n,m[7]=+x[7]+c;break;case"V":m[1]=+x[1]+c;break;case"H":m[1]=+x[1]+n;break;case"R":for(var S=2,M=(y=[n,c].concat(x.slice(1))).length;S<M;S++)y[S]=+y[S]+n,y[++S]=+y[S]+c;e.pop(),e=e.concat(o(y,_));break;case"O":e.pop(),(y=l(n,c,x[1],x[2])).push(y[0]),e=e.concat(y);break;case"U":e.pop(),e=e.concat(l(n,c,x[1],x[2],x[3])),m=["U"].concat(e[e.length-1].slice(-2));break;case"M":h=+x[1]+n,f=+x[2]+c;break;default:for(var C=1,A=x.length;C<A;C++)m[C]=+x[C]+(C%2?n:c)}else if("R"===v)y=[n,c].concat(x.slice(1)),e.pop(),e=e.concat(o(y,_)),m=["R"].concat(x.slice(-2));else if("O"===v)e.pop(),(y=l(n,c,x[1],x[2])).push(y[0]),e=e.concat(y);else if("U"===v)e.pop(),e=e.concat(l(n,c,x[1],x[2],x[3])),m=["U"].concat(e[e.length-1].slice(-2));else for(var k=0,P=x.length;k<P;k++)m[k]=x[k];if("O"!==(v=v.toUpperCase()))switch(m[0]){case"Z":n=+h,c=+f;break;case"H":n=m[1];break;case"V":c=m[1];break;case"M":h=m[m.length-2],f=m[m.length-1];break;default:n=m[m.length-2],c=m[m.length-1]}}return e}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r="\t\n\v\f\r   ᠎             　\u2028\u2029",o=new RegExp("([a-z])["+r+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+r+"]*,?["+r+"]*)+)","ig"),l=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+r+"]*,?["+r+"]*","ig");t.exports=function(t){if(!t)return null;if((void 0===t?"undefined":n(t))===n([]))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},data=[];return String(t).replace(o,(function(a,b,t){var n=[],r=b.toLowerCase();if(t.replace(l,(function(a,b){b&&n.push(+b)})),"m"===r&&n.length>2&&(data.push([b].concat(n.splice(0,2))),r="l",b="m"===b?"l":"L"),"o"===r&&1===n.length&&data.push([b,n[0]]),"r"===r)data.push([b].concat(n));else for(;n.length>=e[r]&&(data.push([b].concat(n.splice(0,e[r]))),e[r]););})),data}},function(t,e){t.exports=function(t,e){for(var n=[],i=0,r=t.length;r-2*!e>i;i+=2){var p=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?r-4===i?p[3]={x:+t[0],y:+t[1]}:r-2===i&&(p[2]={x:+t[0],y:+t[1]},p[3]={x:+t[2],y:+t[3]}):p[0]={x:+t[r-2],y:+t[r-1]}:r-4===i?p[3]=p[2]:i||(p[0]={x:+t[i],y:+t[i+1]}),n.push(["C",(-p[0].x+6*p[1].x+p[2].x)/6,(-p[0].y+6*p[1].y+p[2].y)/6,(p[1].x+6*p[2].x-p[3].x)/6,(p[1].y+6*p[2].y-p[3].y)/6,p[2].x,p[2].y])}return n}},function(t,e,n){var r=n(24);t.exports=function(t){return r(t).toLowerCase()}},function(t,e,n){var r=n(24);t.exports=function(t){return r(t).toUpperCase()}},function(t,e,n){var r=n(144);t.exports=function(data,t){if(!t)return[data];var e=r(data,t),n=[];for(var i in e)n.push(e[i]);return n}},function(t,e,n){var r=n(11),o=n(4),l=n(145);t.exports=function(data,t){if(!t)return{0:data};if(!r(t)){var e=o(t)?t:t.replace(/\s+/g,"").split("*");t=function(t){for(var n="_",i=0,r=e.length;i<r;i++)n+=t[e[i]]&&t[e[i]].toString();return n}}return l(data,t)}},function(t,e,n){var r=n(2),o=n(4),l=Object.prototype.hasOwnProperty;t.exports=function(data,t){if(!t||!o(data))return data;var e={},n=null;return r(data,(function(r){n=t(r),l.call(e,n)?e[n].push(r):e[n]=[r]})),e}},function(t,e,n){var r=n(0),o=n(293),l=n(16).Canvas,c=r.DomUtil,h=n(7),f=n(358),d=n(165),v=n(167),y=n(166),m=n(168);function x(t,e){return r.isEqualWith(t,e,(function(t,e){return t===e}))}var _=function(t){var e,n;function _(){return t.apply(this,arguments)||this}n=t,(e=_).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var w=_.prototype;return w.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix(e,{id:null,forceFit:!1,container:null,wrapperEl:null,canvas:null,width:500,height:500,pixelRatio:null,backPlot:null,frontPlot:null,plotBackground:null,padding:h.plotCfg.padding,background:null,autoPaddingAppend:5,limitInPlot:!1,renderer:h.renderer,views:[]})},w.init=function(){var e=this.get("viewTheme");this._initCanvas(),this._initPlot(),this._initEvents(),t.prototype.init.call(this);var n=new d.Tooltip({chart:this,viewTheme:e,options:{}});this.set("tooltipController",n);var r=new d.Legend({chart:this,viewTheme:e});this.set("legendController",r),this.set("_id","chart"),this.emit("afterinit")},w._isAutoPadding=function(){var t=this.get("padding");return r.isArray(t)?t.includes("auto"):"auto"===t},w._getAutoPadding=function(){for(var t=this.get("padding"),e=this.get("frontPlot").getBBox(),n=this.get("backPlot"),o=y(n,m(this.get("plotRange"))),l=v(e,o),c=[0-l.minY,l.maxX-this.get("width"),l.maxY-this.get("height"),0-l.minX],h=r.toAllPadding(t),i=0;i<h.length;i++)if("auto"===h[i]){var f=Math.max(0,c[i]);h[i]=f+this.get("autoPaddingAppend")}return h},w._initCanvas=function(){var t=this.get("container"),e=this.get("id");!t&&e&&(t=e,this.set("container",e));var n=this.get("width"),o=this.get("height");if(r.isString(t)){if(!(t=document.getElementById(t)))throw new Error("Please specify the container for the chart!");this.set("container",t)}var h=c.createDom('<div style="position:relative;"></div>');t.appendChild(h),this.set("wrapperEl",h),this.get("forceFit")&&(n=c.getWidth(t,n),this.set("width",n));var f=this.get("renderer"),canvas=new l({containerDOM:h,width:n,height:o,pixelRatio:"svg"===f?1:this.get("pixelRatio"),renderer:f});this.set("canvas",canvas)},w._initPlot=function(){this._initPlotBack();var canvas=this.get("canvas"),t=canvas.addGroup({zIndex:1}),e=canvas.addGroup({zIndex:0}),n=canvas.addGroup({zIndex:3});this.set("backPlot",t),this.set("middlePlot",e),this.set("frontPlot",n)},w._initPlotBack=function(){var canvas=this.get("canvas"),t=this.get("viewTheme"),e=canvas.addGroup(f,{padding:this.get("padding"),plotBackground:r.mix({},t.plotBackground,this.get("plotBackground")),background:r.mix({},t.background,this.get("background"))});this.set("plot",e),this.set("plotRange",e.get("plotRange"))},w._initEvents=function(){this.get("forceFit")&&window.addEventListener("resize",r.wrapBehavior(this,"_initForceFitEvent"))},w._initForceFitEvent=function(){var t=setTimeout(r.wrapBehavior(this,"forceFit"),200);clearTimeout(this.get("resizeTimer")),this.set("resizeTimer",t)},w._renderLegends=function(){var t=this.get("options").legends;if(r.isNil(t)||!1!==t){var e=this.get("legendController");if(e.options=t||{},e.plotRange=this.get("plotRange"),t&&t.custom)e.addCustomLegend();else{var n=this.getAllGeoms(),o=[];r.each(n,(function(t){var view=t.get("view"),n=t.getAttrsForLegend();r.each(n,(function(n){var l=n.type,c=n.getScale(l);if(c.field&&"identity"!==c.type&&!function(t,e){var n=!1;return r.each(t,(function(t){var r=[].concat(t.values),o=[].concat(e.values);t.type!==e.type||t.field!==e.field||r.sort().toString()!==o.sort().toString()||(n=!0)})),n}(o,c)){o.push(c);var h=view.getFilteredOutValues(c.field);e.addLegend(c,n,t,h)}}))}));var l=this.getYScales();0===o.length&&l.length>1&&e.addMixedLegend(l,n)}e.alignLegends()}},w._renderTooltips=function(){var t=this.get("options");if(r.isNil(t.tooltip)||!1!==t.tooltip){var e=this.get("tooltipController");e.options=t.tooltip||{},e.renderTooltip()}},w.getAllGeoms=function(){var t=[];t=t.concat(this.get("geoms"));var e=this.get("views");return r.each(e,(function(view){t=t.concat(view.get("geoms"))})),t},w.forceFit=function(){if(this&&!this.destroyed){var t=this.get("container"),e=this.get("width"),n=c.getWidth(t,e);if(0!==n&&n!==e){var r=this.get("height");this.changeSize(n,r)}return this}},w.resetPlot=function(){var t=this.get("plot"),e=this.get("padding");x(e,t.get("padding"))||(t.set("padding",e),t.repaint())},w.changeSize=function(t,e){this.get("canvas").changeSize(t,e);var n=this.get("plot");return this.set("width",t),this.set("height",e),n.repaint(),this.set("keepPadding",!0),this.repaint(),this.set("keepPadding",!1),this.emit("afterchangesize"),this},w.changeWidth=function(t){return this.changeSize(t,this.get("height"))},w.changeHeight=function(t){return this.changeSize(this.get("width"),t)},w.view=function(t){(t=t||{}).theme=this.get("theme"),t.parent=this,t.backPlot=this.get("backPlot"),t.middlePlot=this.get("middlePlot"),t.frontPlot=this.get("frontPlot"),t.canvas=this.get("canvas"),r.isNil(t.animate)&&(t.animate=this.get("animate")),t.options=r.mix({},this._getSharedOptions(),t.options);var view=new o(t);return view.set("_id","view"+this.get("views").length),this.get("views").push(view),this.emit("addview",{view:view}),view},w.removeView=function(view){var t=this.get("views");r.Array.remove(t,view),view.destroy()},w._getSharedOptions=function(){var t=this.get("options"),e={};return r.each(["scales","coord","axes"],(function(n){e[n]=r.cloneDeep(t[n])})),e},w.getViewRegion=function(){var t=this.get("plotRange");return{start:t.bl,end:t.tr}},w.legend=function(t,e){var n=this.get("options");n.legends||(n.legends={});var o={};return!1===t?n.legends=!1:r.isObject(t)?o=t:r.isString(t)?o[t]=e:o=e,r.mix(n.legends,o),this},w.tooltip=function(t,e){var n=this.get("options");return n.tooltip||(n.tooltip={}),!1===t?n.tooltip=!1:r.isObject(t)?r.mix(n.tooltip,t):r.mix(n.tooltip,e),this},w.clear=function(){this.emit("beforeclear");for(var e=this.get("views");e.length>0;)e.shift().destroy();t.prototype.clear.call(this);var canvas=this.get("canvas");return this.resetPlot(),canvas.draw(),this.emit("afterclear"),this},w.clearInner=function(){var e=this.get("views");r.each(e,(function(view){view.clearInner()}));var n=this.get("tooltipController");if(n&&n.clear(),!this.get("keepLegend")){var o=this.get("legendController");o&&o.clear()}t.prototype.clearInner.call(this)},w.drawComponents=function(){t.prototype.drawComponents.call(this),this.get("keepLegend")||this._renderLegends()},w.render=function(){if(!this.get("keepPadding")&&this._isAutoPadding()){this.beforeRender(),this.drawComponents();var e=this._getAutoPadding(),n=this.get("plot");x(n.get("padding"),e)||(n.set("padding",e),n.repaint())}var o=this.get("middlePlot");if(this.get("limitInPlot")&&!o.attr("clip")){var l=r.getClipByRange(this.get("plotRange"));o.attr("clip",l)}t.prototype.render.call(this),this._renderTooltips()},w.repaint=function(){this.get("keepPadding")||this.resetPlot(),t.prototype.repaint.call(this)},w.changeVisible=function(t){var e=t?"":"none";this.get("wrapperEl").style.display=e},w.toDataURL=function(){var canvas=this.get("canvas"),t=this.get("renderer"),e=canvas.get("el"),n="";if("svg"===t){var r=e.cloneNode(!0),o=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),l=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",o);l.replaceChild(r,l.documentElement);var c=(new XMLSerializer).serializeToString(l);n="data:image/svg+xml;charset=utf8,"+encodeURIComponent(c)}else"canvas"===t&&(n=e.toDataURL("image/png"));return n},w.downloadImage=function(t){var e=this,link=document.createElement("a"),n=e.get("renderer"),r=(t||"chart")+("svg"===n?".svg":".png");e.get("canvas").get("timeline").stopAllAnimations(),setTimeout((function(){var t=e.toDataURL();if(window.Blob&&window.URL&&"svg"!==n){for(var o=t.split(","),l=o[0].match(/:(.*?);/)[1],c=atob(o[1]),h=c.length,f=new Uint8Array(h);h--;)f[h]=c.charCodeAt(h);var d=new Blob([f],{type:l});window.navigator.msSaveBlob?window.navigator.msSaveBlob(d,r):link.addEventListener("click",(function(){link.download=r,link.href=window.URL.createObjectURL(d)}))}else link.addEventListener("click",(function(){link.download=r,link.href=t}));var v=document.createEvent("MouseEvents");v.initEvent("click",!1,!1),link.dispatchEvent(v)}),16)},w.showTooltip=function(t){var e=this.getViewsByPoint(t);return e.length&&this.get("tooltipController").showTooltip(t,e),this},w.lockTooltip=function(){return this.get("tooltipController").lockTooltip(),this},w.unlockTooltip=function(){return this.get("tooltipController").unlockTooltip(),this},w.hideTooltip=function(){return this.get("tooltipController").hideTooltip(),this},w.getTooltipItems=function(t){var e=this.getViewsByPoint(t),n=[];return r.each(e,(function(view){var e=view.get("geoms");r.each(e,(function(e){var o=e.get("dataArray"),l=[];r.each(o,(function(data){var n=e.findPoint(t,data);if(n){var r=e.getTipItems(n);l=l.concat(r)}})),n=n.concat(l)}))})),n},w.destroy=function(){this.emit("beforedestroy"),clearTimeout(this.get("resizeTimer"));var canvas=this.get("canvas"),e=this.get("wrapperEl");e.parentNode.removeChild(e),t.prototype.destroy.call(this),canvas.destroy(),window.removeEventListener("resize",r.getWrapBehavior(this,"_initForceFitEvent")),this.emit("afterdestroy")},_}(o);t.exports=_},function(t,e,n){var r=n(54),o=n(0),l=function(t){var e,n;n=t,(e=l).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=l.prototype;function l(e){var n,r={visible:!0},l=(n=t.call(this)||this).getDefaultCfg();return n._attrs=r,o.assign(r,l,e),n}return r.getDefaultCfg=function(){return{}},r.get=function(t){return this._attrs[t]},r.set=function(t,e){this._attrs[t]=e},r.show=function(){this.get("visible")||(this.set("visible",!0),this.changeVisible(!0))},r.hide=function(){this.get("visible")&&(this.set("visible",!1),this.changeVisible(!1))},r.changeVisible=function(){},r.destroy=function(){this._attrs={},this.removeAllListeners(),this.destroyed=!0},l}(r);t.exports=l},function(t,e,n){var r=n(9),o=n(10),l=n(2),c=/rgba?\(([\s.,0-9]+)\)/;function h(t,e,n,r){return t[r]+(e[r]-t[r])*n}function f(t){return"#"+d(t[0])+d(t[1])+d(t[2])}function d(t){return 1===(t=(t=Math.round(t)).toString(16)).length&&(t="0"+t),t}function v(t){var e=[];return e.push(parseInt(t.substr(1,2),16)),e.push(parseInt(t.substr(3,2),16)),e.push(parseInt(t.substr(5,2),16)),e}var y={},m=null,x={toRGB:function(t){return"#"===t[0]&&7===t.length?t:(m||((i=document.createElement("i")).title="Web Colour Picker",i.style.display="none",document.body.appendChild(i),m=i),y[t]?e=y[t]:(m.style.color=t,e=document.defaultView.getComputedStyle(m,"").getPropertyValue("color"),e=f(c.exec(e)[1].split(/\s*,\s*/)),y[t]=e),e);var i,e},rgb2arr:v,gradient:function(t){var e=[];return o(t)&&(t=t.split("-")),l(t,(function(t){-1===t.indexOf("#")&&(t=x.toRGB(t)),e.push(v(t))})),function(t){return function(t,e){(isNaN(e)||!r(e)||e<0)&&(e=0),e>1&&(e=1);var n=t.length-1,o=Math.floor(n*e),l=n*e-o,c=t[o],d=o===n?c:t[o+1];return f([h(c,d,l,0),h(c,d,l,1),h(c,d,l,2)])}(e,t)}}};t.exports=x},function(t,e,n){var r=n(2),o={values:n(65)};t.exports={isAdjust:function(t){return this.adjustNames.indexOf(t)>=0},_getDimValues:function(t){var e={},n=[];if(this.xField&&this.isAdjust("x")&&n.push(this.xField),this.yField&&this.isAdjust("y")&&n.push(this.yField),r(n,(function(n){var r=o.values(t,n);r.sort((function(t,e){return t-e})),e[n]=r})),!this.yField&&this.isAdjust("y")){var l=[0,1];e.y=l}return e},adjustData:function(t,e){var n=this,o=n._getDimValues(e);r(t,(function(data,e){r(o,(function(r,o){n.adjustDim(o,r,data,t.length,e)}))}))},getAdjustRange:function(t,e,n){var pre,r,o=n.indexOf(e),l=n.length;return!this.yField&&this.isAdjust("y")?(pre=0,r=1):l>1?(pre=0===o?n[0]:n[o-1],r=o===l-1?n[l-1]:n[o+1],0!==o?pre+=(e-pre)/2:pre-=(r-e)/2,o!==l-1?r-=(r-e)/2:r+=(e-n[l-2])/2):(pre=0===e?0:e-.5,r=0===e?1:e+.5),{pre:pre,next:r}},groupData:function(data,t){var e={};return r(data,(function(n){var r=n[t];void 0===r&&(r=n[t]=0),e[r]||(e[r]=[]),e[r].push(n)})),e}}},function(t,e,n){var r={default:n(151),dark:n(306)};t.exports=r},function(t,e){var n,r,o='"-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"',l={defaultColor:"#1890FF",plotCfg:{padding:[20,20,95,80]},fontFamily:o,defaultLegendPosition:"bottom",colors:["#1890FF","#2FC25B","#FACC14","#223273","#8543E0","#13C2C2","#3436C7","#F04864"],colors_16:["#1890FF","#41D9C7","#2FC25B","#FACC14","#E6965C","#223273","#7564CC","#8543E0","#5C8EE6","#13C2C2","#5CA3E6","#3436C7","#B381E6","#F04864","#D598D9"],colors_24:["#1890FF","#66B5FF","#41D9C7","#2FC25B","#6EDB8F","#9AE65C","#FACC14","#E6965C","#57AD71","#223273","#738AE6","#7564CC","#8543E0","#A877ED","#5C8EE6","#13C2C2","#70E0E0","#5CA3E6","#3436C7","#8082FF","#DD81E6","#F04864","#FA7D92","#D598D9"],colors_pie:["#1890FF","#13C2C2","#2FC25B","#FACC14","#F04864","#8543E0","#3436C7","#223273"],colors_pie_16:["#1890FF","#73C9E6","#13C2C2","#6CD9B3","#2FC25B","#9DD96C","#FACC14","#E6965C","#F04864","#D66BCA","#8543E0","#8E77ED","#3436C7","#737EE6","#223273","#7EA2E6"],shapes:{point:["hollowCircle","hollowSquare","hollowDiamond","hollowBowtie","hollowTriangle","hollowHexagon","cross","tick","plus","hyphen","line"],line:["line","dash","dot"],area:["area"]},sizes:[1,10],opacities:[.1,.9],axis:{top:{position:"top",title:null,label:{offset:16,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:o},autoRotate:!0},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0}},bottom:{position:"bottom",title:null,label:{offset:16,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:o}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0}},left:{position:"left",title:null,label:{offset:8,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:o}},line:null,tickLine:null,grid:{zIndex:-1,lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},right:{position:"right",title:null,label:{offset:8,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:o}},line:null,tickLine:null,grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},circle:{zIndex:1,title:null,label:{offset:8,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,fontFamily:o}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0},grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},radius:{zIndex:0,label:{offset:12,textStyle:{fill:"#545454",fontSize:12,textBaseline:"middle",lineHeight:16,fontFamily:o}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0},grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},type:"circle"}},helix:{grid:null,label:null,title:null,line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,length:4,stroke:"#BFBFBF",alignWithLabel:!0}}},label:{offset:20,textStyle:{fill:"#545454",fontSize:12,textBaseline:"middle",fontFamily:o}},treemapLabels:{offset:10,textStyle:{fill:"#fff",fontSize:12,textBaseline:"top",fontStyle:"bold",fontFamily:o}},innerLabels:{textStyle:{fill:"#fff",fontSize:12,textBaseline:"middle",fontFamily:o}},thetaLabels:{labelHeight:14,offset:30},legend:{right:{position:"right",layout:"vertical",itemMarginBottom:8,width:16,height:156,title:null,legendStyle:{LIST_CLASS:{textAlign:"left"}},textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:0,fontFamily:o},unCheckColor:"#bfbfbf"},left:{position:"left",layout:"vertical",itemMarginBottom:8,width:16,height:156,title:null,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:o},unCheckColor:"#bfbfbf"},top:{position:"top",offset:[0,6],layout:"horizontal",title:null,itemGap:10,width:156,height:16,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:o},unCheckColor:"#bfbfbf"},bottom:{position:"bottom",offset:[0,6],layout:"horizontal",title:null,itemGap:10,width:156,height:16,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:o},unCheckColor:"#bfbfbf"},html:(n={},n["g2-legend"]={height:"auto",width:"auto",position:"absolute",overflow:"auto",fontSize:"12px",fontFamily:o,lineHeight:"20px",color:"#8C8C8C"},n["g2-legend-title"]={marginBottom:"4px"},n["g2-legend-list"]={listStyleType:"none",margin:0,padding:0},n["g2-legend-list-item"]={listStyleType:"none",cursor:"pointer",marginBottom:"5px",marginRight:"24px"},n["g2-legend-marker"]={width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"8px",verticalAlign:"middle"},n),gradient:{textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"center",textBaseline:"middle",lineHeight:20,fontFamily:o},lineStyle:{lineWidth:1,stroke:"#fff"},unCheckColor:"#bfbfbf"},margin:[0,5,24,5],legendMargin:24},tooltip:(r={useHtml:!0,crosshairs:!1,offset:15,marker:{symbol:"circle",activeSymbol:"circle"}},r["g2-tooltip"]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:o,lineHeight:"20px",padding:"10px 10px 6px 10px"},r["g2-tooltip-title"]={marginBottom:"4px"},r["g2-tooltip-list"]={margin:0,listStyleType:"none",padding:0},r["g2-tooltip-list-item"]={listStyleType:"none",marginBottom:"4px",padding:0,marginTop:0,marginLeft:0,marginRight:0},r["g2-tooltip-marker"]={width:"5px",height:"5px",display:"inline-block",marginRight:"8px"},r["g2-tooltip-value"]={display:"inline-block",float:"right",marginLeft:"30px"},r),tooltipMarker:{symbol:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,radius:4},tooltipCrosshairsRect:{type:"rect",rectStyle:{fill:"#CCD6EC",opacity:.3}},tooltipCrosshairsLine:{lineStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1}},shape:{point:{lineWidth:1,fill:"#1890FF",radius:4},hollowPoint:{fill:"#fff",lineWidth:1,stroke:"#1890FF",radius:3},interval:{lineWidth:0,fill:"#1890FF",fillOpacity:.85},hollowInterval:{fill:"#fff",stroke:"#1890FF",fillOpacity:0,lineWidth:2},area:{lineWidth:0,fill:"#1890FF",fillOpacity:.6},polygon:{lineWidth:0,fill:"#1890FF",fillOpacity:1},hollowPolygon:{fill:"#fff",stroke:"#1890FF",fillOpacity:0,lineWidth:2},hollowArea:{fill:"#fff",stroke:"#1890FF",fillOpacity:0,lineWidth:2},line:{stroke:"#1890FF",lineWidth:2,fill:null},edge:{stroke:"#1890FF",lineWidth:1,fill:null},schema:{stroke:"#1890FF",lineWidth:1,fill:null}},guide:{line:{lineStyle:{stroke:"rgba(0, 0, 0, .65)",lineDash:[2,2],lineWidth:1},text:{position:"start",autoRotate:!0,style:{fill:"rgba(0, 0, 0, .45)",fontSize:12,textAlign:"start",fontFamily:o,textBaseline:"bottom"}}},text:{style:{fill:"rgba(0,0,0,.5)",fontSize:12,textBaseline:"middle",textAlign:"start",fontFamily:o}},region:{style:{lineWidth:0,fill:"#000",fillOpacity:.04}},html:{alignX:"middle",alignY:"middle"},dataRegion:{style:{region:{lineWidth:0,fill:"#000000",opacity:.04},text:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:"rgba(0, 0, 0, .65)"}}},dataMarker:{top:!0,style:{point:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2},line:{stroke:"#A3B1BF",lineWidth:1},text:{fill:"rgba(0, 0, 0, .65)",opacity:1,fontSize:12,textAlign:"start"}},display:{point:!0,line:!0,text:!0},lineLength:20,direction:"upward",autoAdjust:!0}},pixelRatio:null};t.exports=l},function(t,e,n){var r=n(20).Group,o=n(3),l=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var l=r.prototype;return l.getDefaultCfg=function(){return{zIndex:1,type:"line",lineStyle:null,items:null,alternateColor:null,matrix:null,hideFirstLine:!1,hideLastLine:!1,hightLightZero:!1,zeroLineStyle:{stroke:"#595959",lineDash:[0,0]}}},l._renderUI=function(){t.prototype._renderUI.call(this),this._drawLines()},l._drawLines=function(){var t=this.get("lineStyle"),e=this.get("items");e&&e.length&&(this._precessItems(e),this._drawGridLines(e,t))},l._precessItems=function(t){var e,n=this;o.each(t,(function(t,r){e&&n.get("alternateColor")&&n._drawAlternativeBg(t,e,r),e=t}))},l._drawGridLines=function(t,e){var n,path,r,l,c=this,h=this.get("type"),f=t.length;"line"===h||"polygon"===h?o.each(t,(function(t,d){c.get("hideFirstLine")&&0===d||c.get("hideLastLine")&&d===f-1||(l=t.points,path=[],"line"===h?(path.push(["M",l[0].x,l[0].y]),path.push(["L",l[l.length-1].x,l[l.length-1].y])):o.each(l,(function(t,e){0===e?path.push(["M",t.x,t.y]):path.push(["L",t.x,t.y])})),r=c._drawZeroLine(h,d)?o.mix({},c.get("zeroLineStyle"),{path:path}):o.mix({},e,{path:path}),(n=c.addShape("path",{attrs:r})).name="axis-grid",n._id=t._id,n.set("coord",c.get("coord")),c.get("appendInfo")&&n.setSilent("appendInfo",c.get("appendInfo")))})):o.each(t,(function(t,h){c.get("hideFirstLine")&&0===h||c.get("hideLastLine")&&h===f-1||(l=t.points,path=[],o.each(l,(function(t,e){var n=t.radius;0===e?path.push(["M",t.x,t.y]):path.push(["A",n,n,0,0,t.flag,t.x,t.y])})),r=o.mix({},e,{path:path}),(n=c.addShape("path",{attrs:r})).name="axis-grid",n._id=t._id,n.set("coord",c.get("coord")),c.get("appendInfo")&&n.setSilent("appendInfo",c.get("appendInfo")))}))},l._drawZeroLine=function(t,e){var n=this.get("tickValues");return!("line"!==t||!n||0!==n[e]||!this.get("hightLightZero"))},l._drawAlternativeBg=function(t,e,n){var r,l,c,h=this.get("alternateColor");o.isString(h)?l=h:o.isArray(h)&&(l=h[0],c=h[1]),n%2==0?c&&(r=this._getBackItem(e.points,t.points,c)):l&&(r=this._getBackItem(e.points,t.points,l));var f=this.addShape("Path",{attrs:r});f.name="axis-grid-rect",f._id=t._id&&t._id.replace("grid","grid-rect"),f.set("coord",this.get("coord")),this.get("appendInfo")&&f.setSilent("appendInfo",this.get("appendInfo"))},l._getBackItem=function(t,e,n){var path=[],r=this.get("type");if("line"===r)path.push(["M",t[0].x,t[0].y]),path.push(["L",t[t.length-1].x,t[t.length-1].y]),path.push(["L",e[e.length-1].x,e[e.length-1].y]),path.push(["L",e[0].x,e[0].y]),path.push(["Z"]);else if("polygon"===r){o.each(t,(function(t,e){0===e?path.push(["M",t.x,t.y]):path.push(["L",t.x,t.y])}));for(var i=e.length-1;i>=0;i--)path.push(["L",e[i].x,e[i].y]);path.push(["Z"])}else{var l=t[0].flag;o.each(t,(function(t,e){var n=t.radius;0===e?path.push(["M",t.x,t.y]):path.push(["A",n,n,0,0,t.flag,t.x,t.y])}));for(var c=e.length-1;c>=0;c--){var h=e[c],f=h.radius;c===e.length-1?path.push(["M",h.x,h.y]):path.push(["A",f,f,0,0,1===l?0:1,h.x,h.y])}}return{fill:n,path:path}},r}(r);t.exports=l},function(t,e,n){var r=n(3),o=r.DomUtil,l=n(32),c={scatter:n(309),map:n(310),treemap:n(311)},h=function(t){var e,n;function l(){return t.apply(this,arguments)||this}n=t,(e=l).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var h=l.prototype;return h.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"label",type:"default",textStyle:null,formatter:null,items:null,useHtml:!1,containerTpl:'<div class="g-labels" style="position:absolute;top:0;left:0;"></div>',itemTpl:'<div class="g-label" style="position:absolute;">{text}</div>',labelLine:!1,lineGroup:null,shapes:null,config:!0,capture:!0})},h.clear=function(){var e=this.get("group"),n=this.get("container");e&&!e.get("destroyed")&&e.clear(),n&&(n.innerHTML=""),t.prototype.clear.call(this)},h.destroy=function(){var e=this.get("group"),n=this.get("container");e.destroy||e.destroy(),n&&n.parentNode&&n.parentNode.removeChild(n),t.prototype.destroy.call(this)},h.render=function(){this.clear(),this._init(),this.beforeDraw(),this.draw(),this.afterDraw()},h._dryDraw=function(){var t=this,e=t.get("items"),n=t.getLabels(),o=n.length;r.each(e,(function(e,r){if(r<o){var label=n[r];t.changeLabel(label,e)}else{var l=t._addLabel(e,r);l&&(l._id=e._id,l.set("coord",e.coord))}}));for(var i=o-1;i>=e.length;i--)n[i].remove();t._adjustLabels(),!t.get("labelLine")&&t.get("config")||t.drawLines()},h.draw=function(){this._dryDraw(),this.get("canvas").draw()},h.changeLabel=function(t,e){if(t)if(t.tagName){var n=this._createDom(e);t.innerHTML=n.innerHTML,this._setCustomPosition(e,t)}else t._id=e._id,t.attr("text",e.text),t.attr("x")===e.x&&t.attr("y")===e.y||(t.resetMatrix(),e.textStyle.rotate&&(t.rotateAtStart(e.textStyle.rotate),delete e.textStyle.rotate),t.attr(e))},h.show=function(){var t=this.get("group"),e=this.get("container");t&&t.show(),e&&(e.style.opacity=1)},h.hide=function(){var t=this.get("group"),e=this.get("container");t&&t.hide(),e&&(e.style.opacity=0)},h.drawLines=function(){var t=this;"boolean"==typeof t.get("labelLine")&&t.set("labelLine",{});var e=t.get("lineGroup");!e||e.get("destroyed")?(e=t.get("group").addGroup({elCls:"x-line-group"}),t.set("lineGroup",e)):e.clear(),r.each(t.get("items"),(function(label){t.lineToLabel(label,e)}))},h.lineToLabel=function(label,t){if(this.get("config")||label.labelLine){var e=label.labelLine||this.get("labelLine"),n=void 0===label.capture?this.get("capture"):label.capture,path=e.path;if(path&&r.isFunction(e.path)&&(path=e.path(label)),!path){var o=label.start||{x:label.x-label._offset.x,y:label.y-label._offset.y};path=[["M",o.x,o.y],["L",label.x,label.y]]}var l=label.color;l||(l=label.textStyle&&label.textStyle.fill?label.textStyle.fill:"#000");var c=t.addShape("path",{attrs:r.mix({path:path,fill:null,stroke:l},e),capture:n});c.name=this.get("name"),c._id=label._id&&label._id.replace("glabel","glabelline"),c.set("coord",this.get("coord"))}},h._adjustLabels=function(){var t=this.get("type"),e=this.getLabels(),n=this.get("shapes"),r=c[t];"default"!==t&&r&&r(e,n)},h.getLabels=function(){var t=this.get("container");return t?r.toArray(t.childNodes):this.get("group").get("children")},h._addLabel=function(t,e){var n=t;return this.get("config")&&(n=this._getLabelCfg(t,e)),this._createText(n)},h._getLabelCfg=function(t,e){var n=this.get("textStyle")||{},o=this.get("formatter"),l=this.get("htmlTemplate");if(!r.isObject(t)){var c=t;(t={}).text=c}return r.isFunction(n)&&(n=n(t.text,t,e)),o&&(t.text=o(t.text,t,e)),l&&(t.useHtml=!0,r.isFunction(l)&&(t.text=l(t.text,t,e))),r.isNil(t.text)&&(t.text=""),t.text=t.text+"",r.mix({},t,{textStyle:n},{x:t.x||0,y:t.y||0})},h._init=function(){if(!this.get("group")){var t=this.get("canvas").addGroup({id:"label-group"});this.set("group",t)}},h.initHtmlContainer=function(){var t=this.get("container");if(t)r.isString(t)&&(t=document.getElementById(t))&&this.set("container",t);else{var e=this.get("containerTpl"),n=this.get("canvas").get("el").parentNode;t=o.createDom(e),n.style.position="relative",n.appendChild(t),this.set("container",t)}return t},h._createText=function(t){var e,n=r.deepMix({},t),o=this.get("container"),l=void 0===n.capture?this.get("capture"):n.capture;if(!n.useHtml&&!n.htmlTemplate){var c=this.get("name"),h=n.point,f=this.get("group");delete n.point;var d=n.rotate;return n.textStyle&&(n.textStyle.rotate&&(d=n.textStyle.rotate,delete n.textStyle.rotate),n=r.mix({x:n.x,y:n.y,textAlign:n.textAlign,text:n.text},n.textStyle)),e=f.addShape("text",{attrs:n,capture:l}),d&&(Math.abs(d)>2*Math.PI&&(d=d/180*Math.PI),e.transform([["t",-n.x,-n.y],["r",d],["t",n.x,n.y]])),e.setSilent("origin",h||n),e.name=c,this.get("appendInfo")&&e.setSilent("appendInfo",this.get("appendInfo")),e}o||(o=this.initHtmlContainer());var v=this._createDom(n);o.appendChild(v),this._setCustomPosition(n,v)},h._createDom=function(t){var e=this.get("itemTpl"),n=r.substitute(e,{text:t.text});return o.createDom(n)},h._setCustomPosition=function(t,e){var n=t.textAlign||"left",r=t.y,l=t.x,c=o.getOuterWidth(e);r-=o.getOuterHeight(e)/2,"center"===n?l-=c/2:"right"===n&&(l-=c),e.style.top=parseInt(r,10)+"px",e.style.left=parseInt(l,10)+"px"},l}(l);t.exports=h},function(t,e){var n=function(){function t(){this.bitmap=[]}var e=t.prototype;return e.hasGap=function(t){for(var e=!0,n=this.bitmap,r=Math.floor(t.minX),o=Math.ceil(t.maxX),l=Math.floor(t.minY),c=Math.ceil(t.maxY)-1,i=r;i<o;i++)if(n[i]){if(i===r||i===o-1){for(var h=l;h<=c;h++)if(n[i][h]){e=!1;break}}else if(n[i][l]||n[i][c]){e=!1;break}}else n[i]=[];return e},e.fillGap=function(t){for(var e=this.bitmap,n=Math.floor(t.minX),r=Math.ceil(t.maxX)-1,o=Math.floor(t.minY),l=Math.ceil(t.maxY)-1,i=n;i<=r;i++){for(var c=o;c<l;c+=8)e[i]||(e[i]=[]),e[i][c]=!0;e[i][l]=!0}for(var h=o;h<=l;h++)e[n][h]=!0,e[r][h]=!0},t}();t.exports=n},function(t,e,n){var r=n(3);t.exports={getFirstScale:function(t){var e;return r.each(t,(function(t){if(t)return e=t,!1})),e}}},function(t,e,n){var r=n(3),o=n(157),l=n(14).FONT_FAMILY,c=r.Event,h=r.Group;function f(t,e){var n=null,o=e instanceof h||"legendGroup"===e.name?e.get("value"):e;return r.each(t,(function(t){if(t.value===o)return n=t,!1})),n}function d(t,e){return t.findBy((function(t){return t.name===e}))}var v=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var h=o.prototype;return h.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"category-legend",items:null,itemGap:5,itemMarginBottom:8,itemsGroup:null,layout:"horizontal",allowAllCanceled:!1,backPadding:[0,0,0,0],unCheckColor:"#ccc",background:{fill:"#fff",fillOpacity:0},itemWidth:null,textStyle:{fill:"#333",fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:l},_wordSpaceing:8,clickable:!0,selectedMode:"multiple",reversed:!1,autoWrap:!0,highlight:!1,activeOpacity:.7,inactiveOpacity:1})},h.render=function(){t.prototype.render.call(this),this._renderItems(),this.get("autoWrap")&&this._adjustItems()},h._bindEvents=function(){this.get("hoverable")&&(this.get("group").on("mousemove",r.wrapBehavior(this,"_onMousemove")),this.get("group").on("mouseleave",r.wrapBehavior(this,"_onMouseleave"))),this.get("clickable")&&this.get("group").on("click",r.wrapBehavior(this,"_onClick"))},h._getLegendItem=function(t){var e=t.get("parent");return e&&"legendGroup"===e.name?e:null},h.activate=function(t){var e=this,n=this,r=n.get("itemsGroup").get("children"),o=void 0;r.forEach((function(r){if(o=d(r,"legend-marker")){var l=r.get("checked");e.get("highlight")?r.get("value")===t&&l?o.attr("stroke","#333"):o.attr("stroke",null):r.get("value")===t&&o.attr("fillOpacity",n.get("activeOpacity"))}})),this.get("canvas").draw()},h.deactivate=function(){var t=this,e=this,n=e.get("itemsGroup").get("children"),r=void 0,o=this.get("unCheckColor");n.forEach((function(n){if(r=d(n,"legend-marker"))if(t.get("highlight")){var l=r.get("oriStroke"),c=n.get("checked");l=l&&!c?o:"",r.attr("stroke",l)}else r.attr("fillOpacity",e.get("inactiveOpacity"))})),this.get("canvas").draw()},h._onMousemove=function(t){var e=this._getLegendItem(t.currentTarget);if(e&&e.get("checked")){var n=this.get("items"),r=new c("itemhover",t,!0,!0);r.item=f(n,e),r.checked=e.get("checked"),r.currentTarget=t.currentTarget,this.deactivate(),this.activate(e.get("value")),this.emit("itemhover",r)}else this.deactivate(),this.emit("itemunhover",t);this.get("canvas").draw()},h._onMouseleave=function(t){this.deactivate(),this.get("canvas").draw(),this.emit("itemunhover",t)},h._onClick=function(t){var e=this._getLegendItem(t.currentTarget),n=this.get("items");if(e&&!e.get("destroyed")){var o=e.get("checked"),l=this.get("selectedMode"),h=f(n,e),v=new c("itemclick",t,!0,!0);if(v.item=h,v.currentTarget=e,v.appendInfo=t.currentTarget.get("appendInfo"),v.checked="single"===l||!o,!this.get("allowAllCanceled")&&o&&1===this.getCheckedCount())return void this.emit("clicklastitem",v);var y=this.get("unCheckColor"),m=this.get("textStyle").fill,x=void 0,_=void 0,w=void 0;if("single"===l){var S=this.get("itemsGroup").get("children");r.each(S,(function(t){x=d(t,"legend-marker"),_=d(t,"legend-text"),w=d(t,"legend-item"),t!==e?(x.attr("fill")&&x.attr("fill",y),x.attr("stroke")&&x.attr("stroke",y),_.attr("fill",y),x.setSilent("checked",!1),_.setSilent("checked",!1),w.setSilent("checked",!1),t.setSilent("checked",!1)):(x.attr("fill")&&h&&h.marker&&x.attr("fill",h.marker.fill),x.attr("stroke")&&h&&h.marker&&x.attr("stroke",h.marker.stroke),_.attr("fill",m),x.setSilent("checked",!0),_.setSilent("checked",!0),w.setSilent("checked",!0),t.setSilent("checked",!0))}))}else x=d(e,"legend-marker"),_=d(e,"legend-text"),w=d(e,"legend-item"),x.attr("fill")&&h&&h.marker&&x.attr("fill",o?y:h.marker.fill),x.attr("stroke")&&h&&h.marker&&x.attr("stroke",o?y:h.marker.stroke),_.attr("fill",o?y:m),e.setSilent("checked",!o),x.setSilent("checked",!o),_.setSilent("checked",!o),w.setSilent("checked",!o);this.emit("itemclick",v)}this.get("canvas").draw()},h._renderItems=function(){var t=this,e=this.get("items");if(this.get("reversed")&&e.reverse(),r.each(e,(function(e,n){t._addItem(e,n)})),this.get("highlight")){var n=this.get("itemsGroup").get("children"),o=void 0;n.forEach((function(t){(o=d(t,"legend-marker")).get("oriStroke")||(o.attr("stroke")?o.set("oriStroke",o.attr("stroke")):o.set("oriStroke",""))}))}},h._formatItemValue=function(t){var e=this.get("formatter")||this.get("itemFormatter");return e&&(t=e.call(this,t)),t},h._getNextX=function(){var t=this.get("layout"),e=this.get("itemGap"),n=this.get("itemsGroup"),o=this.get("itemWidth"),l=n.get("children"),c=0;return"horizontal"===t&&r.each(l,(function(t){c+=(o||t.getBBox().width)+e})),c},h._getNextY=function(){var t=this.get("itemMarginBottom"),e=this.get("titleShape")?this.get("titleGap"):0,n=this.get("layout"),o=this.get("itemsGroup"),l=this.get("titleShape"),c=o.get("children"),h=e;return l&&(h+=l.getBBox().height),"vertical"===n&&r.each(c,(function(e){h+=e.getBBox().height+t})),h},h._addItem=function(t){var e=this.get("itemsGroup"),n=this._getNextX(),o=this._getNextY(),c=this.get("unCheckColor"),h=e.addGroup({x:n,y:o,value:t.value,checked:t.checked});h.set("viewId",this.get("viewId"));var f=this.get("textStyle"),d=this.get("_wordSpaceing"),v=0;if(t.marker){var y=r.mix({},t.marker,{x:t.marker.radius+n,y:o});t.checked||(y.fill&&(y.fill=c),y.stroke&&(y.stroke=c));var m=h.addShape("marker",{type:"marker",attrs:y});m.attr("cursor","pointer"),m.name="legend-marker",v+=m.getBBox().width+d}var x=r.mix({},{fill:"#333",fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:l},f,{x:v+n,y:o,text:this._formatItemValue(t.value)});t.checked||r.mix(x,{fill:c});var _=h.addShape("text",{attrs:x});_.attr("cursor","pointer"),_.name="legend-text",this.get("appendInfo")&&_.setSilent("appendInfo",this.get("appendInfo"));var w=h.getBBox(),S=this.get("itemWidth"),M=h.addShape("rect",{attrs:{x:n,y:o-w.height/2,fill:"#fff",fillOpacity:0,width:S||w.width,height:w.height}});return M.attr("cursor","pointer"),M.setSilent("origin",t),M.name="legend-item",this.get("appendInfo")&&M.setSilent("appendInfo",this.get("appendInfo")),h.name="legendGroup",h},h._adjustHorizontal=function(){var t=this.get("itemsGroup"),e=t.get("children"),n=this.get("maxLength"),o=this.get("itemGap"),l=this.get("itemMarginBottom"),c=this.get("titleShape")?this.get("titleGap"):0,h=0,f=0,d=void 0,v=void 0,y=void 0,m=this.get("itemWidth");t.getBBox().width>n&&r.each(e,(function(t){y=t.getBBox(),d=m||y.width,v=y.height+l,n-f<d&&(h++,f=0),t.move(f,h*v+c),f+=d+o}))},h._adjustVertical=function(){var t=this.get("itemsGroup"),e=this.get("titleShape"),n=t.get("children"),o=this.get("maxLength"),l=this.get("itemGap"),c=this.get("itemMarginBottom"),h=this.get("titleGap"),f=e?e.getBBox().height+h:0,d=this.get("itemWidth"),v=f,y=void 0,m=void 0,x=void 0,_=0,w=0;t.getBBox().height>o&&r.each(n,(function(t){x=t.getBBox(),y=x.width,m=x.height,d?_=d+l:y>_&&(_=y+l),o-v<m?(v=f,w+=_,t.move(w,f)):t.move(w,v),v+=m+c}))},h._adjustItems=function(){"horizontal"===this.get("layout")?this._adjustHorizontal():this._adjustVertical()},h.getWidth=function(){return t.prototype.getWidth.call(this)},h.getHeight=function(){return t.prototype.getHeight.call(this)},h.move=function(e,n){t.prototype.move.call(this,e,n)},o}(o);t.exports=v},function(t,e,n){var r=n(3),o=n(32),l=n(14).FONT_FAMILY,c=function(t){var e,n;n=t,(e=c).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=c.prototype;function c(e){var n;return(n=t.call(this,e)||this)._init(),n.beforeRender(),n.render(),n._adjustPositionOffset(),n._bindEvents(),n}return o.getDefaultCfg=function(){return{container:null,title:null,formatter:null,hoverable:!0,titleGap:15,position:[0,0],offset:[0,0],offsetX:null,offsetY:null}},o._init=function(){var t=this.get("group"),e=this.get("container");this.set("canvas",e.get("canvas"));var n=this.get("position");t||(t=e.addGroup({x:0-n[0],y:0-n[1]})),this.set("group",t)},o._adjustPositionOffset=function(){var t=this.get("position"),e=this.get("offset"),n=this.get("offsetX"),o=this.get("offsetY");r.isArray(e)||(e="vertical"===this.get("layout")?[e,0]:[0,e]),n&&(e[0]=n),o&&(e[1]=o);var l=this.get("group").getBBox();this.move(-l.minX+t[0]+e[0],-l.minY+t[1]+e[1])},o.beforeRender=function(){var t=this.get("group").addGroup();this.set("itemsGroup",t)},o.render=function(){this._renderTitle()},o._renderTitle=function(){var title=this.get("title"),t=this.get("titleGap");if(t=t||0,title&&title.text){var e=this.get("group").addShape("text",{attrs:r.mix({x:0,y:0-t,fill:"#333",textBaseline:"middle",fontFamily:l},title)});e.name="legend-title",this.get("appendInfo")&&e.setSilent("appendInfo",this.get("appendInfo")),this.set("titleShape",e)}},o.getCheckedCount=function(){var t=this.get("itemsGroup").get("children");return r.filter(t,(function(t){return t.get("checked")})).length},o.setItems=function(t){this.set("items",t),this.clear(),this.render()},o.addItem=function(t){this.get("items").push(t),this.clear(),this.render()},o.clear=function(){this.get("itemsGroup").clear(),this.get("group").clear(),this.beforeRender()},o.destroy=function(){var e=this.get("group");e&&e.destroy(),this._attrs={},this.removeAllListeners(),t.prototype.destroy.call(this)},o.getWidth=function(){return this.get("group").getBBox().width},o.getHeight=function(){return this.get("group").getBBox().height},o.move=function(t,e){this.get("group").move(t,e)},o.draw=function(){this.get("canvas").draw()},c}(o);t.exports=c},function(t,e,n){var r=n(3),o=n(156),l=n(14).FONT_FAMILY,c=r.DomUtil,h=r.Group,f="g2-legend-list",d="g2-legend-list-item",v="g2-legend-marker";function y(t,e){return t.getElementsByClassName(e)[0]}function m(t,e){var n=t.className;return r.isNil(n)||(n=n.split(" ")).indexOf(e)>-1?t:t.parentNode?"g2-legend"===t.parentNode.className?t.parentNode:m(t.parentNode,e):null}function x(t,e){var n=null,o=e instanceof h?e.get("value"):e;return r.each(t,(function(t){if(t.value===o)return n=t,!1})),n}var _=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var h=o.prototype;return h.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"category-legend",container:null,containerTpl:'<div class="g2-legend"><h4 class="g2-legend-title"></h4><ul class="g2-legend-list"></ul></div>',itemTpl:'<li class="'+d+' item-{index} {checked}" data-color="{originColor}" data-value="{originValue}"><i class="'+v+'" style="background-color:{color};"></i><span class="g2-legend-text">{value}</span></li>',legendStyle:{},textStyle:{fill:"#333",fontSize:12,textAlign:"middle",textBaseline:"top",fontFamily:l},abridgeText:!1,tipTpl:'<div class="textTip"></div>',tipStyle:{display:"none",fontSize:"12px",backgroundColor:"#fff",position:"absolute",width:"auto",height:"auto",padding:"3px",boxShadow:"2px 2px 5px #888"},autoPosition:!0})},h._init=function(){},h.beforeRender=function(){},h.render=function(){this._renderHTML()},h._bindEvents=function(){var t=this,e=y(this.get("legendWrapper"),f);this.get("hoverable")&&(e.onmousemove=function(e){return t._onMousemove(e)},e.onmouseout=function(e){return t._onMouseleave(e)}),this.get("clickable")&&(e.onclick=function(e){return t._onClick(e)})},h._onMousemove=function(t){var e=this.get("items"),n=t.target,r=n.className;if(!((r=r.split(" ")).indexOf("g2-legend")>-1||r.indexOf(f)>-1)){var o=m(n,d),l=x(e,o.getAttribute("data-value"));l?(this.deactivate(),this.activate(o.getAttribute("data-value")),this.emit("itemhover",{item:l,currentTarget:o,checked:l.checked})):l||(this.deactivate(),this.emit("itemunhover",t))}},h._onMouseleave=function(t){this.deactivate(),this.emit("itemunhover",t)},h._onClick=function(t){var e=this,n=y(this.get("legendWrapper"),f),o=this.get("unCheckColor"),l=this.get("items"),c=this.get("selectedMode"),h=n.childNodes,_=t.target,w=_.className;if(!((w=w.split(" ")).indexOf("g2-legend")>-1||w.indexOf(f)>-1)){var S=m(_,d),M=y(S,"g2-legend-text"),C=y(S,v),A=x(l,S.getAttribute("data-value"));if(A){var k=S.className,P=S.getAttribute("data-color");if("single"===c)A.checked=!0,r.each(h,(function(t){t!==S?(y(t,v).style.backgroundColor=o,t.className=t.className.replace("checked","unChecked"),t.style.color=o,x(l,t.getAttribute("data-value")).checked=!1):(M&&(M.style.color=e.get("textStyle").fill),C&&(C.style.backgroundColor=P),S.className=k.replace("unChecked","checked"))}));else{var T=-1!==k.indexOf("checked"),I=0;if(r.each(h,(function(t){-1!==t.className.indexOf("checked")&&I++})),!this.get("allowAllCanceled")&&T&&1===I)return void this.emit("clicklastitem",{item:A,currentTarget:S,checked:"single"===c||A.checked});A.checked=!A.checked,T?(C&&(C.style.backgroundColor=o),S.className=k.replace("checked","unChecked"),S.style.color=o):(C&&(C.style.backgroundColor=P),S.className=k.replace("unChecked","checked"),S.style.color=this.get("textStyle").fill)}this.emit("itemclick",{item:A,currentTarget:S,checked:"single"===c||A.checked})}}},h.activate=function(t){var e=this,n=this,r=n.get("items"),o=x(r,t);y(n.get("legendWrapper"),f).childNodes.forEach((function(t){var l=y(t,v),c=x(r,t.getAttribute("data-value"));if(e.get("highlight")){if(c===o&&c.checked)return void(l.style.border="1px solid #333")}else c===o?l.style.opacity=n.get("activeOpacity"):c.checked&&(l.style.opacity=n.get("inactiveOpacity"))}))},h.deactivate=function(){var t=this,e=this;y(e.get("legendWrapper"),f).childNodes.forEach((function(n){var r=y(n,v);t.get("highlight")?r.style.border="1px solid #fff":r.style.opacity=e.get("inactiveOpacity")}))},h._renderHTML=function(){var t=this,e=this.get("container"),title=this.get("title"),n=this.get("containerTpl"),o=c.createDom(n),h=y(o,"g2-legend-title"),m=y(o,f),x=this.get("unCheckColor"),_=r.deepMix({},{CONTAINER_CLASS:{height:"auto",width:"auto",position:"absolute",overflowY:"auto",fontSize:"12px",fontFamily:l,lineHeight:"20px",color:"#8C8C8C"},TITLE_CLASS:{marginBottom:this.get("titleGap")+"px",fontSize:"12px",color:"#333",textBaseline:"middle",fontFamily:l},LIST_CLASS:{listStyleType:"none",margin:0,padding:0,textAlign:"center"},LIST_ITEM_CLASS:{cursor:"pointer",marginBottom:"5px",marginRight:"24px"},MARKER_CLASS:{width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"4px",verticalAlign:"middle"}},this.get("legendStyle"));if(/^\#/.test(e)||"string"==typeof e&&e.constructor===String){var w=e.replace("#","");(e=document.getElementById(w)).appendChild(o)}else{var S=this.get("position"),M={};M="left"===S||"right"===S?{maxHeight:(this.get("maxLength")||e.offsetHeight)+"px"}:{maxWidth:(this.get("maxLength")||e.offsetWidth)+"px"},c.modifyCSS(o,r.mix({},_.CONTAINER_CLASS,M,this.get("g2-legend"))),e.appendChild(o)}c.modifyCSS(m,r.mix({},_.LIST_CLASS,this.get(f))),h&&(title&&title.text?(h.innerHTML=title.text,c.modifyCSS(h,r.mix({},_.TITLE_CLASS,this.get("g2-legend-title"),title))):o.removeChild(h));var C=this.get("items"),A=this.get("itemTpl"),k=this.get("position"),P=this.get("layout"),T="right"===k||"left"===k||"vertical"===P?"block":"inline-block",I=r.mix({},_.LIST_ITEM_CLASS,{display:T},this.get(d)),O=r.mix({},_.MARKER_CLASS,this.get(v));if(r.each(C,(function(e,n){var l,h=e.checked,f=t._formatItemValue(e.value),d=e.marker.fill||e.marker.stroke,_=h?d:x;l=r.isFunction(A)?A(f,_,h,n):A;var w=r.substitute(l,r.mix({},e,{index:n,checked:h?"checked":"unChecked",value:f,color:_,originColor:d,originValue:e.value.replace(/\"/g,"&quot;")})),S=c.createDom(w);S.style.color=t.get("textStyle").fill;var M=y(S,v),C=y(S,"g2-legend-text");if(c.modifyCSS(S,I),M&&c.modifyCSS(M,O),h||(S.style.color=x,M&&(M.style.backgroundColor=x)),m.appendChild(S),t.get("abridgeText")){var text=f,k=S.offsetWidth,P=t.get("textStyle").fontSize;isNaN(P)&&(-1!==P.indexOf("pt")?P=1*parseFloat(P.substr(0,P.length-2))/72*96:-1!==P.indexOf("px")&&(P=parseFloat(P.substr(0,P.length-2))));var T=P*text.length,L=Math.floor(k/P);k<2*P?text="":k<T&&L>1&&(text=text.substr(0,L-1)+"..."),C.innerText=text,S.addEventListener("mouseover",(function(){var t=y(o.parentNode,"textTip");t.style.display="block",t.style.left=S.offsetLeft+S.offsetWidth+"px",t.style.top=S.offsetTop+15+"px",t.innerText=f})),S.addEventListener("mouseout",(function(){y(o.parentNode,"textTip").style.display="none"}))}})),this.get("abridgeText")){var L=this.get("tipTpl"),E=c.createDom(L),D=this.get("tipStyle");c.modifyCSS(E,D),o.parentNode.appendChild(E),E.addEventListener("mouseover",(function(){E.style.display="none"}))}this.set("legendWrapper",o)},h._adjustPositionOffset=function(){if(!1!==this.get("autoPosition")){var t=this.get("position"),e=this.get("offset"),n=this.get("offsetX"),r=this.get("offsetY");n&&(e[0]=n),r&&(e[1]=r);var o=this.get("legendWrapper");o.style.left=t[0]+"px",o.style.top=t[1]+"px",o.style.marginLeft=e[0]+"px",o.style.marginTop=e[1]+"px"}},h.getWidth=function(){return c.getOuterWidth(this.get("legendWrapper"))},h.getHeight=function(){return c.getOuterHeight(this.get("legendWrapper"))},h.move=function(e,n){/^\#/.test(this.get("container"))?t.prototype.move.call(this,e,n):(c.modifyCSS(this.get("legendWrapper"),{left:e+"px",top:n+"px"}),this.set("x",e),this.set("y",n))},h.destroy=function(){var e=this.get("legendWrapper");e&&e.parentNode&&e.parentNode.removeChild(e),t.prototype.destroy.call(this)},o}(o);t.exports=_},function(t,e,n){var r=n(32),o=n(3),l=function(t){var e,n;n=t,(e=l).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=l.prototype;function l(e){var n;return(n=t.call(this,e)||this)._init_(),n.render(),n}return r.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return o.mix({},e,{type:null,plot:null,plotRange:null,rectStyle:{fill:"#CCD6EC",opacity:.3},lineStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1},isTransposed:!1})},r._init_=function(){var t,e=this.get("plot");t="rect"===this.type?e.addGroup({zIndex:0}):e.addGroup(),this.set("container",t)},r._addLineShape=function(t,e){var n=this.get("container").addShape("line",{capture:!1,attrs:t});return this.set("crossLineShape"+e,n),n},r._renderHorizontalLine=function(canvas,t){var style=o.mix(this.get("lineStyle"),this.get("style")),e=o.mix({x1:t?t.bl.x:canvas.get("width"),y1:0,x2:t?t.br.x:0,y2:0},style);this._addLineShape(e,"X")},r._renderVerticalLine=function(canvas,t){var style=o.mix(this.get("lineStyle"),this.get("style")),e=o.mix({x1:0,y1:t?t.bl.y:canvas.get("height"),x2:0,y2:t?t.tl.y:0},style);this._addLineShape(e,"Y")},r._renderBackground=function(canvas,t){var style=o.mix(this.get("rectStyle"),this.get("style")),e=this.get("container"),n=o.mix({x:t?t.tl.x:0,y:t?t.tl.y:canvas.get("height"),width:t?t.br.x-t.bl.x:canvas.get("width"),height:t?Math.abs(t.tl.y-t.bl.y):canvas.get("height")},style),r=e.addShape("rect",{attrs:n,capture:!1});return this.set("crosshairsRectShape",r),r},r._updateRectShape=function(t){var e,n=this.get("crosshairsRectShape"),r=this.get("isTransposed"),l=t[0],c=t[t.length-1],h=r?"y":"x",f=r?"height":"width",d=l[h];if(t.length>1&&l[h]>c[h]&&(d=c[h]),this.get("width"))n.attr(h,d-this.get("crosshairs").width/2),n.attr(f,this.get("width"));else if(o.isArray(l.point[h])&&!l.size){var v=l.point[h][1]-l.point[h][0];n.attr(h,l.point[h][0]),n.attr(f,v)}else e=3*l.size/4,n.attr(h,d-e),1===t.length?n.attr(f,3*l.size/2):n.attr(f,Math.abs(c[h]-l[h])+2*e)},r.render=function(){var canvas=this.get("canvas"),t=this.get("plotRange"),e=this.get("isTransposed");switch(this.clear(),this.get("type")){case"x":this._renderHorizontalLine(canvas,t);break;case"y":this._renderVerticalLine(canvas,t);break;case"cross":this._renderHorizontalLine(canvas,t),this._renderVerticalLine(canvas,t);break;case"rect":this._renderBackground(canvas,t);break;default:e?this._renderHorizontalLine(canvas,t):this._renderVerticalLine(canvas,t)}},r.show=function(){var e=this.get("container");t.prototype.show.call(this),e.show()},r.hide=function(){var e=this.get("container");t.prototype.hide.call(this),e.hide()},r.clear=function(){var e=this.get("container");this.set("crossLineShapeX",null),this.set("crossLineShapeY",null),this.set("crosshairsRectShape",null),t.prototype.clear.call(this),e.clear()},r.destroy=function(){var e=this.get("container");t.prototype.destroy.call(this),e.remove()},r.setPosition=function(t,e,n){var r=this.get("crossLineShapeX"),o=this.get("crossLineShapeY"),l=this.get("crosshairsRectShape");o&&!o.get("destroyed")&&o.move(t,0),r&&!r.get("destroyed")&&r.move(0,e),l&&!l.get("destroyed")&&this._updateRectShape(n)},l}(r);t.exports=l},function(t,e){var n={_calcTooltipPosition:function(t,e,n,r,o,l){var c=0,h=0,f=20;if(l){var rect=l.getBBox();c=rect.width,h=rect.height,t=rect.x,e=rect.y,f=5}switch(n){case"inside":t=t+c/2-r/2,e=e+h/2-o/2;break;case"top":t=t+c/2-r/2,e=e-o-f;break;case"left":t=t-r-f,e=e+h/2-o/2;break;case"right":t=t+c+f,e=e+h/2-o/2;break;case"bottom":default:t=t+c/2-r/2,e=e+h+f}return[t,e]},_constraintPositionInBoundary:function(t,e,n,r,o,l){return t+n+20>o?t=(t-=n+20)<0?0:t:t+20<0?t=20:t+=20,e+r+20>l?e=(e-=r+20)<0?0:e:e+20<0?e=20:e+=20,[t,e]},_constraintPositionInPlot:function(t,e,n,r,o,l){return t+n>o.tr.x&&(t-=l?n+1:n+40),t<o.tl.x&&(t=o.tl.x),l||(e+r>o.bl.y&&(e-=r+40),e<o.tl.y&&(e=o.tl.y)),[t,e]}};t.exports=n},function(t,e,n){var r=n(3),o={setMarkers:function(t,e){var n=this.get("markerGroup"),o=this.get("frontPlot");n?n.clear():(n=o.addGroup({zIndex:1,capture:!1}),this.set("markerGroup",n)),r.each(t,(function(t){var o=r.mix({fill:t.color,symbol:"circle",shadowColor:t.color},e,{x:t.x,y:t.y});t.marker&&t.marker.activeSymbol&&(o.symbol=t.marker.activeSymbol),n.addShape("marker",{color:t.color,attrs:o})})),this.set("markerItems",t)},clearMarkers:function(){var t=this.get("markerGroup");t&&t.clear()}};t.exports=o},function(t,e,n){function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var o=n(20),l=n(159),c=n(161),h=n(160),f=n(69),d=n(3),v=n(14).FONT_FAMILY,y=d.DomUtil,m=d.MatrixUtil,x=function(t){var e,n;n=t,(e=x).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var f=x.prototype;function x(e){var n;n=t.call(this,e)||this,d.assign(r(n),h),d.assign(r(n),c);var o=n.get("crosshairs");if(o){var f="rect"===o.type?n.get("backPlot"):n.get("frontPlot"),v=new l(d.mix({plot:f,plotRange:n.get("plotRange"),canvas:n.get("canvas")},n.get("crosshairs")));v.hide(),n.set("crosshairGroup",v)}return n._init_(),n.get("items")&&n.render(),n}return f.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return d.mix({},e,{boardStyle:{x:0,y:0,width:100,height:100,fill:"rgba(255, 255, 255, 0.9)",radius:4,stroke:"#e2e2e2",lineWidth:1},titleStyle:{fontFamily:v,text:"",textBaseline:"top",fontSize:12,fill:"rgb(87, 87, 87)",lineHeight:20,padding:20},markerStyle:{radius:4},nameStyle:{fontFamily:v,fontSize:12,fill:"rgb(87, 87, 87)",textBaseline:"middle",textAlign:"start",padding:8},valueStyle:{fontFamily:v,fontSize:12,fill:"rgb(87, 87, 87)",textBaseline:"middle",textAlign:"start",padding:30},padding:{top:20,right:20,bottom:20,left:20},itemGap:10,animationDuration:200})},f._init_=function(){var t=this.get("padding"),e=this.get("frontPlot"),n=e.addGroup({capture:!1});this.set("markerGroup",n);var r=e.addGroup();r.hide(),this.set("container",r);var o=r.addShape("rect",{attrs:d.mix({},this.get("boardStyle"))});this.set("board",o);var l=this.get("titleStyle");if(this.get("showTitle")){var c=r.addShape("text",{attrs:d.mix({x:t.left,y:t.top},l)});this.set("titleShape",c),c.name="tooltip-title"}var h=r.addGroup();h.move(t.left,t.top+l.lineHeight+l.padding),this.set("itemsGroup",h)},f.render=function(){var t=this;t.clear();var e=t.get("container"),n=t.get("board"),r=t.get("showTitle"),o=t.get("titleContent"),l=this.get("titleShape"),c=this.get("itemsGroup"),h=t.get("items"),f=t.get("padding");if(l&&r&&l.attr("text",o),c){var v=t.get("itemGap"),y=0;d.each(h,(function(e){var n=t._addItem(e);n.move(0,y),c.add(n);var r=n.getBBox().height;y+=r+v}))}var m=e.getBBox(),x=m.width+f.right,_=m.height+f.bottom;n.attr("width",x),n.attr("height",_),t._alignToRight(x)},f.clear=function(){var t=this.get("titleShape"),e=this.get("itemsGroup"),n=this.get("board");t.text="",e.clear(),n.attr("width",0),n.attr("height",0)},f.show=function(){this.get("container").show();var e=this.get("crosshairGroup");e&&e.show();var n=this.get("markerGroup");n&&n.show(),t.prototype.show.call(this),this.get("canvas").draw()},f.hide=function(){this.get("container").hide();var e=this.get("crosshairGroup");e&&e.hide();var n=this.get("markerGroup");n&&n.hide(),t.prototype.hide.call(this),this.get("canvas").draw()},f.destroy=function(){var e=this.get("container"),n=this.get("crosshairGroup");n&&n.destroy();var r=this.get("markerGroup");r&&r.remove(),t.prototype.destroy.call(this),e.remove()},f.setPosition=function(e,n,r){var o,l=this.get("container"),c=this.get("canvas").get("el"),h=y.getWidth(c),f=y.getHeight(c),v=l.getBBox(),x=v.width,_=v.height,w=e,S=n;if(this.get("position")){var M=v.width,C=v.height;e=(o=this._calcTooltipPosition(e,n,this.get("position"),M,C,r))[0],n=o[1]}else e=(o=this._constraintPositionInBoundary(e,n,x,_,h,f))[0],n=o[1];if(this.get("inPlot")){var A=this.get("plotRange");e=(o=this._constraintPositionInPlot(e,n,x,_,A,this.get("enterable")))[0],n=o[1]}var k=this.get("markerItems");d.isEmpty(k)||(w=k[0].x,S=k[0].y);var P=m.transform([1,0,0,0,1,0,0,0,1],[["t",e,n]]);l.stopAnimate(),l.animate({matrix:P},this.get("animationDuration"));var T=this.get("crosshairGroup");if(T){var I=this.get("items");T.setPosition(w,S,I)}t.prototype.setPosition.call(this,e,n)},f._addItem=function(t){var e=new o.Group,n=this.get("markerStyle").radius;if(t.marker){var r=d.mix({},t.marker,{x:t.marker.radius/2,y:0,symbol:t.marker.activeSymbol||t.marker.symbol});e.addShape("marker",{attrs:r}),n=t.marker.radius}var l=this.get("nameStyle");e.addShape("text",{attrs:d.mix({x:n+l.padding,y:0,text:t.name},l)});var c=this.get("valueStyle");return e.addShape("text",{attrs:d.mix({x:e.getBBox().width+c.padding,y:0,text:t.value},c)}),e},f._alignToRight=function(t){var e=this,n=this.get("itemsGroup").get("children");d.each(n,(function(g){var n=g.get("children")[2],r=n.getBBox().width,o=t-r-2*e.get("padding").right;n.attr("x",o)}))},x}(f);t.exports=x},function(t,e,n){var r=n(66),o=n(23),l=n(0),c=function t(e){t.superclass.constructor.call(this,e)};l.extend(c,r),l.augment(c,{getPointRauis:function(t,e){return o.getPointRadius(t,e)},getCirclePoint:function(t,e,n){var r=this.get("coord"),o=r.getCenter(),l=this._isEmitLabels(),c=this.getPointRauis(r,n);return 0===c?null:(r.isTransposed&&c>e&&!l?t+=2*Math.asin(e/(2*c)):c+=e,{x:o.x+c*Math.cos(t),y:o.y+c*Math.sin(t),angle:t,r:c})},getArcPoint:function(t,e){var n;return e=e||0,n=l.isArray(t.x)||l.isArray(t.y)?{x:l.isArray(t.x)?t.x[e]:t.x,y:l.isArray(t.y)?t.y[e]:t.y}:t,this.transLabelPoint(n),n},getPointAngle:function(t){var e=this.get("coord");return o.getPointAngle(e,t)},getMiddlePoint:function(t){var e=this.get("coord"),n=t.length,r={x:0,y:0};return l.each(t,(function(t){r.x+=t.x,r.y+=t.y})),r.x/=n,r.y/=n,r=e.convert(r)},_isToMiddle:function(t){return t.x.length>2},getLabelPoint:function(label,t,e){var n,text=label.text[e],r=1;this._isToMiddle(t)?n=this.getMiddlePoint(t.points):(1===label.text.length&&0===e?e=1:0===e&&(r=-1),n=this.getArcPoint(t,e));var o=this.getDefaultOffset(label);o*=r;var l=this.getPointAngle(n),c=this.getCirclePoint(l,o,n);if(c?(c.text=text,c.angle=l,c.color=t.color):c={text:""},label.autoRotate||void 0===label.autoRotate){var h=c.textStyle?c.textStyle.rotate:null;h||(h=c.rotate||this.getLabelRotate(l,o,t)),c.rotate=h}return c.start={x:n.x,y:n.y},c},_isEmitLabels:function(){return this.get("label").labelEmit},getLabelRotate:function(t){var e;return e=180*t/Math.PI,e+=90,this._isEmitLabels()&&(e-=90),e&&(e>90?e-=180:e<-90&&(e+=180)),e/180*Math.PI},getLabelAlign:function(t){var e,n=this.get("coord");if(this._isEmitLabels())e=t.angle<=Math.PI/2&&t.angle>-Math.PI/2?"left":"right";else if(n.isTransposed){var r=n.getCenter(),o=this.getDefaultOffset(t);e=Math.abs(t.x-r.x)<1?"center":t.angle>Math.PI||t.angle<=0?o>0?"left":"right":o>0?"right":"left"}else e="center";return e}}),t.exports=c},function(t,e){t.exports={toFront:function(t){var e=t.get("parent").get("children").indexOf(t);t.set("_originIndex",e),t.toFront()},resetZIndex:function(t){var e=t.get("parent"),n=t.get("_originIndex"),r=e.get("children"),o=r.indexOf(t);n>=0&&n!==o&&(r.splice(o,1),r.splice(n,0,t))}}},function(t,e,n){t.exports={Scale:n(343),Coord:n(344),Axis:n(349),Guide:n(350),Legend:n(353),Tooltip:n(355),Event:n(356)}},function(t,e,n){var r=n(16),o=n(0),l=n(167);function c(t,e,n){void 0===n&&(n=1);var r=[t.x,t.y,n];return o.vec3.transformMat3(r,r,e),{x:r[0],y:r[1]}}t.exports=function(t,e){var n=e;return o.each(t.get("children"),(function(t){t instanceof r.Group&&o.each(t.get("children"),(function(element){if(element instanceof r.Group&&element.get("children").length||element instanceof r.Path)n=l(n,element.getBBox());else if(element instanceof r.Text){var t=function(title){var t=title.getBBox(),e={x:t.minX,y:t.minY},n={x:t.maxX,y:t.maxY},r=title.attr("matrix");return e=c(e,r),n=c(n,r),{minX:e.x,minY:e.y,maxX:n.x,maxY:n.y}}(element);n=l(n,t)}}))})),n}},function(t,e){t.exports=function(t,e){return{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}}},function(t,e){t.exports=function(t){return{minX:t.tl.x,minY:t.tl.y,maxX:t.br.x,maxY:t.br.y}}},function(t,e,n){"use strict";e.a=O,e.b=L,e.c=function(){return++I};var r=n(72),o=n(456),l=n(470),c=n(471),h=n(472),f=n(473),d=n(474),v=n(475),y=n(476),m=n(477),x=n(478),_=n(479),w=n(480),S=n(481),M=n(482),C=n(483),A=n(484),k=n(485),P=n(365),T=n(486),I=0;function O(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function L(t){return Object(r.selection)().transition(t)}var E=r.selection.prototype;O.prototype=L.prototype={constructor:O,select:x.a,selectAll:_.a,filter:d.a,merge:v.a,selection:w.a,transition:k.a,call:E.call,nodes:E.nodes,node:E.node,size:E.size,empty:E.empty,each:E.each,on:y.a,attr:o.a,attrTween:l.a,style:S.a,styleTween:M.a,text:C.a,textTween:A.a,remove:m.a,tween:P.a,delay:c.a,duration:h.a,ease:f.a,end:T.a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(59);n.d(e,"now",(function(){return r.b})),n.d(e,"timer",(function(){return r.c})),n.d(e,"timerFlush",(function(){return r.d}));var o=n(192);n.d(e,"timeout",(function(){return o.a}));var l=n(193);n.d(e,"interval",(function(){return l.a}))},function(t,e,n){var r=n(0),o=r.DomUtil,l=["start","process","end","reset"],c=function(){var t=e.prototype;function e(t,view){var e=this,n=e.getDefaultCfg();r.assign(e,n,t),e.view=e.chart=view,e.canvas=view.get("canvas"),e._bindEvents()}return t.getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},t._start=function(t){var e=this;e.preStart&&e.preStart(t),e.start(t),e.onStart&&e.onStart(t)},t._process=function(t){var e=this;e.preProcess&&e.preProcess(t),e.process(t),e.onProcess&&e.onProcess(t)},t._end=function(t){var e=this;e.preEnd&&e.preEnd(t),e.end(t),e.onEnd&&e.onEnd(t)},t._reset=function(t){var e=this;e.preReset&&e.preReset(t),e.reset(t),e.onReset&&e.onReset(t)},t.start=function(){},t.process=function(){},t.end=function(){},t.reset=function(){},t._bindEvents=function(){var t=this,e=t.canvas.get("canvasDOM");t._clearEvents(),r.each(l,(function(n){var l=r.upperFirst(n);t["_on"+l+"Listener"]=o.addEventListener(e,t[n+"Event"],r.wrapBehavior(t,"_"+n))}))},t._clearEvents=function(){var t=this;r.each(l,(function(e){var n="_on"+r.upperFirst(e)+"Listener";t[n]&&t[n].remove()}))},t.destroy=function(){this._clearEvents()},e}();t.exports=c},function(t,e,n){var r=n(74),o=n(16),l=n(125),c=n(146),h=n(7),f=n(19),d=n(0),v={version:h.version,Animate:l,Chart:c,Global:h,Scale:r,Shape:f,Util:d,G:o,DomUtil:d.DomUtil,MatrixUtil:d.MatrixUtil,PathUtil:d.PathUtil,track:function(){console.warn("G2 tracks nothing ;-)")}};"undefined"!=typeof window&&(window.G2?console.warn("There are multiple versions of G2. Version "+v.version+"'s reference is 'window.G2_3'"):window.G2=v),t.exports=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(194);n.d(e,"easeLinear",(function(){return r.a}));var o=n(195);n.d(e,"easeQuad",(function(){return o.b})),n.d(e,"easeQuadIn",(function(){return o.a})),n.d(e,"easeQuadOut",(function(){return o.c})),n.d(e,"easeQuadInOut",(function(){return o.b}));var l=n(196);n.d(e,"easeCubic",(function(){return l.b})),n.d(e,"easeCubicIn",(function(){return l.a})),n.d(e,"easeCubicOut",(function(){return l.c})),n.d(e,"easeCubicInOut",(function(){return l.b}));var c=n(197);n.d(e,"easePoly",(function(){return c.b})),n.d(e,"easePolyIn",(function(){return c.a})),n.d(e,"easePolyOut",(function(){return c.c})),n.d(e,"easePolyInOut",(function(){return c.b}));var h=n(198);n.d(e,"easeSin",(function(){return h.b})),n.d(e,"easeSinIn",(function(){return h.a})),n.d(e,"easeSinOut",(function(){return h.c})),n.d(e,"easeSinInOut",(function(){return h.b}));var f=n(199);n.d(e,"easeExp",(function(){return f.b})),n.d(e,"easeExpIn",(function(){return f.a})),n.d(e,"easeExpOut",(function(){return f.c})),n.d(e,"easeExpInOut",(function(){return f.b}));var d=n(200);n.d(e,"easeCircle",(function(){return d.b})),n.d(e,"easeCircleIn",(function(){return d.a})),n.d(e,"easeCircleOut",(function(){return d.c})),n.d(e,"easeCircleInOut",(function(){return d.b}));var v=n(201);n.d(e,"easeBounce",(function(){return v.c})),n.d(e,"easeBounceIn",(function(){return v.a})),n.d(e,"easeBounceOut",(function(){return v.c})),n.d(e,"easeBounceInOut",(function(){return v.b}));var y=n(202);n.d(e,"easeBack",(function(){return y.b})),n.d(e,"easeBackIn",(function(){return y.a})),n.d(e,"easeBackOut",(function(){return y.c})),n.d(e,"easeBackInOut",(function(){return y.b}));var m=n(203);n.d(e,"easeElastic",(function(){return m.c})),n.d(e,"easeElasticIn",(function(){return m.a})),n.d(e,"easeElasticOut",(function(){return m.c})),n.d(e,"easeElasticInOut",(function(){return m.b}))},function(t,e,n){"use strict";e.c=function(a,b){var t=b-a;return t?o(a,t>180||t<-180?t-360*Math.round(t/360):t):Object(r.a)(isNaN(a)?b:a)},e.b=function(t){return 1==(t=+t)?l:function(a,b){return b-a?function(a,b,t){return a=Math.pow(a,t),b=Math.pow(b,t)-a,t=1/t,function(e){return Math.pow(a+e*b,t)}}(a,b,t):Object(r.a)(isNaN(a)?b:a)}},e.a=l;var r=n(395);function o(a,t){return function(e){return a+e*t}}function l(a,b){var t=b-a;return t?o(a,t):Object(r.a)(isNaN(a)?b:a)}},function(t,e,n){var r=n(5),o=n(9),l=n(76),c=[0,1,1.2,1.5,1.6,2,2.2,2.4,2.5,3,4,5,6,7.5,8,10],h=[0,1,2,4,5,10];t.exports=function(t){var e=t.min,n=t.max,f=t.interval,d=t.minTickInterval,v=[],y=t.minCount||5,m=t.maxCount||7,x=y===m,_=r(t.minLimit)?-1/0:t.minLimit,w=r(t.maxLimit)?1/0:t.maxLimit,S=(y+m)/2,M=S,C=t.snapArray?t.snapArray:x?c:h;if(e===_&&n===w&&x&&(f=(n-e)/(M-1)),r(e)&&(e=0),r(n)&&(n=0),Math.abs(n-e)<1e-12&&(0===e?n=1:e>0?e=0:n=0,n-e<5&&!f&&n-e>=1&&(f=1)),r(f)){var A=(n-e)/(S-1);f=l.snapFactorTo(A,C,"ceil"),m!==y&&((M=parseInt((n-e)/f,10))>m&&(M=m),M<y&&(M=y),f=l.snapFactorTo((n-e)/(M-1),C,"floor"))}if(o(d)&&f<d&&(f=d),t.interval||m!==y){n=Math.min(l.snapMultiple(n,f,"ceil"),w),e=Math.max(l.snapMultiple(e,f,"floor"),_),M=Math.round((n-e)/f),e=l.fixedBase(e,f),n=l.fixedBase(n,f);for(var k=null;e>_&&_>-1/0&&(null===k||e<k);)k=e,e=l.fixedBase(e-f,f)}else{S=parseInt(S,10);var P,T=(n+e)/2,I=l.snapMultiple(T,f,"ceil"),O=Math.floor((S-2)/2),L=I+O*f;P=S%2==0?I-O*f:I-(O+1)*f;for(var E=null;L<n&&(null===E||L>E);)E=L,L=l.fixedBase(L+f,f);for(var D=null;P>e&&(null===D||P<D);)D=P,P=l.fixedBase(P-f,f);n=L,e=P}n=Math.min(n,w),e=Math.max(e,_),v.push(e);for(var i=1;i<M;i++){var F=l.fixedBase(f*i+e,f);F<n&&v.push(F)}return v[v.length-1]<n&&v.push(n),{min:e,max:n,interval:f,count:M,ticks:v}}},function(t,e,n){var r=n(18),o=n(9),l=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var l=r.prototype;return l._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.isIdentity=!0,this.type="identity",this.value=null},l.getText=function(){return this.value.toString()},l.scale=function(t){return this.value!==t&&o(t)?t:this.range[0]},l.invert=function(){return this.value},r}(r);r.Identity=l,t.exports=l},function(t,e,n){var r=n(79),o=n(2),l=n(5),c=n(10),h=n(18),f=n(33),d=n(178),v=n(71),y=function(t){var e,n;function h(){return t.apply(this,arguments)||this}n=t,(e=h).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var f=h.prototype;return f._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="time",this.mask="YYYY-MM-DD"},f.init=function(){var e=this,n=e.values;if(n&&n.length){var r=[],c=1/0,h=c,f=0;o(n,(function(t){var n=e._toTimeStamp(t);if(isNaN(n))throw new TypeError("Invalid Time: "+t);c>n?(h=c,c=n):h>n&&(h=n),f<n&&(f=n),r.push(n)})),n.length>1&&(e.minTickInterval=h-c),(l(e.min)||e._toTimeStamp(e.min)>c)&&(e.min=c),(l(e.max)||e._toTimeStamp(e.max)<f)&&(e.max=f)}t.prototype.init.call(this)},f.calculateTicks=function(){var t=this.min,e=this.max,n=this.tickCount,r=this.tickInterval;return d({min:t,max:e,minCount:n,maxCount:n,interval:r,minInterval:this.minTickInterval}).ticks},f.getText=function(t){var e=this.formatter;return t=this.translate(t),t=e?e(t):r.format(t,this.mask)},f.scale=function(e){return c(e)&&(e=this.translate(e)),t.prototype.scale.call(this,e)},f.translate=function(t){return this._toTimeStamp(t)},f._toTimeStamp=function(t){return v.toTimeStamp(t)},h}(f);h.Time=y,t.exports=y},function(t,e,n){var r=n(76),o=n(5),l=[1,2,4,6,8,12];function c(t){return new Date(t).getFullYear()}function h(t){return new Date(t,0,1).getTime()}function f(t){return new Date(t).getMonth()}function d(t,e){return new Date(t,e,1).getTime()}t.exports=function(t){var e,n=t.minInterval,v=[],y=t.min,m=t.max,x=t.interval;if(m===y&&(m=y+864e5),o(x)){x=parseInt((m-y)/(t.maxCount||6),10),n&&n>x&&(x=n);var _=x/31536e6,w=c(y);if(_>.51){for(var S=Math.ceil(_),M=c(m),i=w;i<=M+S;i+=S)v.push(h(i));x=null}else if(_>.0834){for(var C=Math.ceil(_/.0834),A=f(y),k=function(t,e){var n=c(t),r=c(e),o=f(t);return 12*(r-n)+(f(e)-o)%12}(y,m),P=0;P<=k+C;P+=C)v.push(d(w,P+A));x=null}else if(x>432e5){var T=new Date(y),I=T.getFullYear(),O=T.getMonth(y),L=T.getDate(),E=Math.ceil(x/864e5),D=function(t,e){return Math.ceil((e-t)/864e5)}(y,m);x=864e5*E;for(var F=0;F<D+E;F+=E)v.push(new Date(I,O,L+F).getTime())}else if(x>36e5){var B=new Date(y),R=B.getFullYear(),j=B.getMonth(y),N=B.getDate(),z=B.getHours(),Y=r.snapTo(l,Math.ceil(x/36e5)),V=function(t,e){return Math.ceil((e-t)/36e5)}(y,m);x=36e5*Y;for(var X=0;X<=V+Y;X+=Y)v.push(new Date(R,j,N,z+X).getTime())}else if(x>6e4){var H=function(t,e){return Math.ceil((e-t)/6e4)}(y,m),W=Math.ceil(x/6e4);x=6e4*W;for(var G=0;G<=H+W;G+=W)v.push(y+6e4*G)}else{x<1e3&&(x=1e3),y=1e3*Math.floor(y/1e3);var U=Math.ceil((m-y)/1e3),Z=Math.ceil(x/1e3);x=1e3*Z;for(var Q=0;Q<U+Z;Q+=Z)v.push(y+1e3*Q)}}if(!v.length){y=1e3*Math.floor(y/1e3),e=((m=1e3*Math.ceil(m/1e3))-y)/x;for(var $=0;$<=e;$++)v.push(r.fixedBase(x*$+y,x))}return{max:m,min:y,interval:x,ticks:v,count:v.length}}},function(t,e,n){var r=n(18),o=n(77),l=n(79),c=n(78),h=n(71),f=n(2),d=n(9),v=n(25),y=n(10),m=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="timeCat",this.sortable=!0,this.tickCount=5,this.mask="YYYY-MM-DD"},o.init=function(){var t=this,e=this.values;f(e,(function(n,i){e[i]=t._toTimeStamp(n)})),this.sortable&&e.sort((function(t,e){return t-e})),t.ticks||(t.ticks=this.calculateTicks())},o.calculateTicks=function(){var t=this.tickCount;return t?c({maxCount:t,data:this.values,isRounding:this.isRounding}).ticks:this.values},o.translate=function(t){t=this._toTimeStamp(t);var e=this.values.indexOf(t);return-1===e&&(e=d(t)&&t<this.values.length?t:NaN),e},o.scale=function(t){var e=this.rangeMin(),n=this.rangeMax(),r=this.translate(t);return e+(1===this.values.length||isNaN(r)?r:r>-1?r/(this.values.length-1):0)*(n-e)},o.getText=function(t){var e="",n=this.translate(t);e=n>-1?this.values[n]:t;var r=this.formatter;return e=parseInt(e,10),e=r?r(e):l.format(e,this.mask)},o.getTicks=function(){var t=this,e=this.ticks,n=[];return f(e,(function(e){var r;r=v(e)?e:{text:y(e)?e:t.getText(e),value:t.scale(e),tickValue:e},n.push(r)})),n},o._toTimeStamp=function(t){return h.toTimeStamp(t)},r}(o);r.TimeCat=m,t.exports=m},function(t,e,n){var r=n(2),o=n(18);function l(a,b){return 1===a?1:Math.log(b)/Math.log(a)}var c=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var c=o.prototype;return c._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="log",this.tickCount=10,this.base=2,this._minTick=null},c.calculateTicks=function(){var t,base=this.base;if(this.min<0)throw new Error("The minimum value must be greater than zero!");var e=l(base,this.max);if(this.min>0)t=Math.floor(l(base,this.min));else{var n=this.values,o=this.max;r(n,(function(t){t>0&&t<o&&(o=t)})),o===this.max&&(o=this.max/base),o>1&&(o=1),t=Math.floor(l(base,o)),this._minTick=t,this.positiveMin=o}for(var c=e-t,h=this.tickCount,f=Math.ceil(c/h),d=[],i=t;i<e+f;i+=f)d.push(Math.pow(base,i));return 0===this.min&&d.unshift(0),d},c._getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;if(t<=0)return 0;var base=this.base,r=this.positiveMin;return r&&(n=1*r/base),t<r?t/r/(l(base,e)-l(base,n)):(l(base,t)-l(base,n))/(l(base,e)-l(base,n))},c.scale=function(t){var e=this._getScalePercent(t),n=this.rangeMin();return n+e*(this.rangeMax()-n)},c.invert=function(t){var e,base=this.base,n=l(base,this.max),r=this.rangeMin(),o=this.rangeMax()-r,c=this.positiveMin;if(c){if(0===t)return 0;var h=1/(n-(e=l(base,c/base)))*o;if(t<h)return t/h*c}else e=l(base,this.min);var f=(t-r)/o*(n-e)+e;return Math.pow(base,f)},o}(n(33));o.Log=c,t.exports=c},function(t,e,n){var r=n(18);function o(a,b){var t=Math.E;return Math.pow(t,Math.log(b)/a)}var l=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var l=r.prototype;return l._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="pow",this.tickCount=10,this.exponent=2},l.calculateTicks=function(){var t,e=this.exponent,n=Math.ceil(o(e,this.max));if((t=this.min>=0?Math.floor(o(e,this.min)):0)>n){var r=n;n=t,t=r}for(var l=n-t,c=this.tickCount,h=Math.ceil(l/c),f=[],i=t;i<n+h;i+=h)f.push(Math.pow(i,e));return f},l._getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;var r=this.exponent;return(o(r,t)-o(r,n))/(o(r,e)-o(r,n))},l.scale=function(t){var e=this._getScalePercent(t),n=this.rangeMin();return n+e*(this.rangeMax()-n)},l.invert=function(t){var e=(t-this.rangeMin())/(this.rangeMax()-this.rangeMin()),n=this.exponent,r=o(n,this.max),l=o(n,this.min),c=e*(r-l)+l;return Math.pow(c,n)},r}(n(33));r.Pow=l,t.exports=l},function(t,e,n){var r=n(1),o=n(100),l=n(101),c=n(191),h=n(217),f=function t(e){t.superclass.constructor.call(this,e)};f.CFG={eventEnable:!0,width:null,height:null,widthCanvas:null,heightCanvas:null,widthStyle:null,heightStyle:null,containerDOM:null,canvasDOM:null,pixelRatio:null,renderer:"canvas"},r.extend(f,l),r.augment(f,{init:function(){f.superclass.init.call(this),this._setGlobalParam(),this._setContainer(),this._initPainter(),this._scale(),this.get("eventEnable")&&this._registEvents()},getEmitter:function(element,t){if(element){if(!r.isEmpty(element._getEvents()))return element;var e=element.get("parent");if(e&&!t.propagationStopped)return this.getEmitter(e,t)}},_getEventObj:function(t,e,n,r){var l=new o(t,e,!0,!0);return l.x=n.x,l.y=n.y,l.clientX=e.clientX,l.clientY=e.clientY,l.currentTarget=r,l.target=r,l},_triggerEvent:function(t,e){var n,r=this.getPointByClient(e.clientX,e.clientY),o=this.getShape(r.x,r.y,e),l=this.get("el");if("mousemove"===t){var c=this.get("preShape");if(c&&c!==o){var h=this._getEventObj("mouseleave",e,r,c);(n=this.getEmitter(c,e))&&n.emit("mouseleave",h),l.style.cursor="default"}if(o){var f=this._getEventObj("mousemove",e,r,o);if((n=this.getEmitter(o,e))&&n.emit("mousemove",f),c!==o){var d=this._getEventObj("mouseenter",e,r,o);n&&n.emit("mouseenter",d,e)}}else{var v=this._getEventObj("mousemove",e,r,this);this.emit("mousemove",v)}this.set("preShape",o)}else{var y=this._getEventObj(t,e,r,o||this);(n=this.getEmitter(o,e))&&n!==this&&n.emit(t,y),this.emit(t,y)}o&&!o.get("destroyed")&&(l.style.cursor=o.attr("cursor")||"default")},_registEvents:function(){var t=this,e=t.get("el");r.each(["mouseout","mouseover","mousemove","mousedown","mouseleave","mouseup","click","dblclick"],(function(n){e.addEventListener(n,(function(e){t._triggerEvent(n,e)}),!1)})),e.addEventListener("touchstart",(function(e){r.isEmpty(e.touches)||t._triggerEvent("touchstart",e.touches[0])}),!1),e.addEventListener("touchmove",(function(e){r.isEmpty(e.touches)||t._triggerEvent("touchmove",e.touches[0])}),!1),e.addEventListener("touchend",(function(e){r.isEmpty(e.changedTouches)||t._triggerEvent("touchend",e.changedTouches[0])}),!1)},_scale:function(){var t=this.get("pixelRatio");this.scale(t,t)},_setGlobalParam:function(){this.get("pixelRatio")||this.set("pixelRatio",r.getRatio());var t=h[this.get("renderer")||"canvas"];this._cfg.renderer=t,this._cfg.canvas=this;var e=new c(this);this._cfg.timeline=e},_setContainer:function(){var t=this.get("containerId"),e=this.get("containerDOM");e||(e=document.getElementById(t),this.set("containerDOM",e)),r.modifyCSS(e,{position:"relative"})},_initPainter:function(){var t=this.get("containerDOM"),e=new this._cfg.renderer.painter(t);this._cfg.painter=e,this._cfg.canvasDOM=this._cfg.el=e.canvas,this.changeSize(this.get("width"),this.get("height"))},_resize:function(){var t=this.get("canvasDOM"),e=this.get("widthCanvas"),n=this.get("heightCanvas"),r=this.get("widthStyle"),o=this.get("heightStyle");t.style.width=r,t.style.height=o,t.setAttribute("width",e),t.setAttribute("height",n)},getWidth:function(){var t=this.get("pixelRatio");return this.get("width")*t},getHeight:function(){var t=this.get("pixelRatio");return this.get("height")*t},changeSize:function(t,e){var n=this.get("pixelRatio"),r=t*n,o=e*n;this.set("widthCanvas",r),this.set("heightCanvas",o),this.set("widthStyle",t+"px"),this.set("heightStyle",e+"px"),this.set("width",t),this.set("height",e),this._resize()},getPointByClient:function(t,e){var n=this.get("el"),r=this.get("pixelRatio")||1,o=n.getBoundingClientRect();return{x:(t-o.left)*r,y:(e-o.top)*r}},getClientByPoint:function(t,e){var n=this.get("el").getBoundingClientRect(),r=this.get("pixelRatio")||1;return{clientX:t/r+n.left,clientY:e/r+n.top}},draw:function(){this._cfg.painter.draw(this)},getShape:function(t,e,n){return 3===arguments.length&&this._cfg.renderer.getShape?this._cfg.renderer.getShape.call(this,t,e,n):f.superclass.getShape.call(this,t,e)},_drawSync:function(){this._cfg.painter.drawSync(this)},destroy:function(){var t=this._cfg,e=t.containerDOM,n=t.canvasDOM;n&&e&&e.removeChild(n),t.timeline.stop(),f.superclass.destroy.call(this)}}),t.exports=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new r.ARRAY_TYPE(9);return r.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},e.fromMat4=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[4],t[4]=a[5],t[5]=a[6],t[6]=a[8],t[7]=a[9],t[8]=a[10],t},e.clone=function(a){var t=new r.ARRAY_TYPE(9);return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t},e.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t},e.fromValues=function(t,e,n,o,l,c,h,f,d){var v=new r.ARRAY_TYPE(9);return v[0]=t,v[1]=e,v[2]=n,v[3]=o,v[4]=l,v[5]=c,v[6]=h,v[7]=f,v[8]=d,v},e.set=function(t,e,n,r,o,l,c,h,f,d){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=l,t[5]=c,t[6]=h,t[7]=f,t[8]=d,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,a){if(t===a){var e=a[1],n=a[2],r=a[5];t[1]=a[3],t[2]=a[6],t[3]=e,t[5]=a[7],t[6]=n,t[7]=r}else t[0]=a[0],t[1]=a[3],t[2]=a[6],t[3]=a[1],t[4]=a[4],t[5]=a[7],t[6]=a[2],t[7]=a[5],t[8]=a[8];return t},e.invert=function(t,a){var e=a[0],n=a[1],r=a[2],o=a[3],l=a[4],c=a[5],h=a[6],f=a[7],d=a[8],v=d*l-c*f,y=-d*o+c*h,m=f*o-l*h,x=e*v+n*y+r*m;return x?(x=1/x,t[0]=v*x,t[1]=(-d*n+r*f)*x,t[2]=(c*n-r*l)*x,t[3]=y*x,t[4]=(d*e-r*h)*x,t[5]=(-c*e+r*o)*x,t[6]=m*x,t[7]=(-f*e+n*h)*x,t[8]=(l*e-n*o)*x,t):null},e.adjoint=function(t,a){var e=a[0],n=a[1],r=a[2],o=a[3],l=a[4],c=a[5],h=a[6],f=a[7],d=a[8];return t[0]=l*d-c*f,t[1]=r*f-n*d,t[2]=n*c-r*l,t[3]=c*h-o*d,t[4]=e*d-r*h,t[5]=r*o-e*c,t[6]=o*f-l*h,t[7]=n*h-e*f,t[8]=e*l-n*o,t},e.determinant=function(a){var t=a[0],e=a[1],n=a[2],r=a[3],o=a[4],l=a[5],c=a[6],h=a[7],f=a[8];return t*(f*o-l*h)+e*(-f*r+l*c)+n*(h*r-o*c)},e.multiply=o,e.translate=function(t,a,e){var n=a[0],r=a[1],o=a[2],l=a[3],c=a[4],h=a[5],f=a[6],d=a[7],v=a[8],y=e[0],m=e[1];return t[0]=n,t[1]=r,t[2]=o,t[3]=l,t[4]=c,t[5]=h,t[6]=y*n+m*l+f,t[7]=y*r+m*c+d,t[8]=y*o+m*h+v,t},e.rotate=function(t,a,e){var n=a[0],r=a[1],o=a[2],l=a[3],c=a[4],h=a[5],f=a[6],d=a[7],v=a[8],s=Math.sin(e),y=Math.cos(e);return t[0]=y*n+s*l,t[1]=y*r+s*c,t[2]=y*o+s*h,t[3]=y*l-s*n,t[4]=y*c-s*r,t[5]=y*h-s*o,t[6]=f,t[7]=d,t[8]=v,t},e.scale=function(t,a,e){var n=e[0],r=e[1];return t[0]=n*a[0],t[1]=n*a[1],t[2]=n*a[2],t[3]=r*a[3],t[4]=r*a[4],t[5]=r*a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){var s=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=s,t[2]=0,t[3]=-s,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=0,t[3]=a[2],t[4]=a[3],t[5]=0,t[6]=a[4],t[7]=a[5],t[8]=1,t},e.fromQuat=function(t,q){var e=q[0],n=q[1],r=q[2],o=q[3],l=e+e,c=n+n,h=r+r,f=e*l,d=n*l,v=n*c,y=r*l,m=r*c,x=r*h,_=o*l,w=o*c,S=o*h;return t[0]=1-v-x,t[3]=d-S,t[6]=y+w,t[1]=d+S,t[4]=1-f-x,t[7]=m-_,t[2]=y-w,t[5]=m+_,t[8]=1-f-v,t},e.normalFromMat4=function(t,a){var e=a[0],n=a[1],r=a[2],o=a[3],l=a[4],c=a[5],h=a[6],f=a[7],d=a[8],v=a[9],y=a[10],m=a[11],x=a[12],_=a[13],w=a[14],S=a[15],M=e*c-n*l,C=e*h-r*l,A=e*f-o*l,k=n*h-r*c,P=n*f-o*c,T=r*f-o*h,I=d*_-v*x,O=d*w-y*x,L=d*S-m*x,E=v*w-y*_,D=v*S-m*_,F=y*S-m*w,B=M*F-C*D+A*E+k*L-P*O+T*I;return B?(B=1/B,t[0]=(c*F-h*D+f*E)*B,t[1]=(h*L-l*F-f*O)*B,t[2]=(l*D-c*L+f*I)*B,t[3]=(r*D-n*F-o*E)*B,t[4]=(e*F-r*L+o*O)*B,t[5]=(n*L-e*D-o*I)*B,t[6]=(_*T-w*P+S*k)*B,t[7]=(w*A-x*T-S*C)*B,t[8]=(x*P-_*A+S*M)*B,t):null},e.projection=function(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"},e.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2))},e.add=function(t,a,b){return t[0]=a[0]+b[0],t[1]=a[1]+b[1],t[2]=a[2]+b[2],t[3]=a[3]+b[3],t[4]=a[4]+b[4],t[5]=a[5]+b[5],t[6]=a[6]+b[6],t[7]=a[7]+b[7],t[8]=a[8]+b[8],t},e.subtract=l,e.multiplyScalar=function(t,a,b){return t[0]=a[0]*b,t[1]=a[1]*b,t[2]=a[2]*b,t[3]=a[3]*b,t[4]=a[4]*b,t[5]=a[5]*b,t[6]=a[6]*b,t[7]=a[7]*b,t[8]=a[8]*b,t},e.multiplyScalarAndAdd=function(t,a,b,e){return t[0]=a[0]+b[0]*e,t[1]=a[1]+b[1]*e,t[2]=a[2]+b[2]*e,t[3]=a[3]+b[3]*e,t[4]=a[4]+b[4]*e,t[5]=a[5]+b[5]*e,t[6]=a[6]+b[6]*e,t[7]=a[7]+b[7]*e,t[8]=a[8]+b[8]*e,t},e.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]},e.equals=function(a,b){var t=a[0],e=a[1],n=a[2],o=a[3],l=a[4],c=a[5],h=a[6],f=a[7],d=a[8],v=b[0],y=b[1],m=b[2],x=b[3],_=b[4],w=b[5],S=b[6],M=b[7],C=b[8];return Math.abs(t-v)<=r.EPSILON*Math.max(1,Math.abs(t),Math.abs(v))&&Math.abs(e-y)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(y))&&Math.abs(n-m)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(m))&&Math.abs(o-x)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(l-_)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(_))&&Math.abs(c-w)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(w))&&Math.abs(h-S)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(S))&&Math.abs(f-M)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(M))&&Math.abs(d-C)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(C))};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(53));function o(t,a,b){var e=a[0],n=a[1],r=a[2],o=a[3],l=a[4],c=a[5],h=a[6],f=a[7],d=a[8],v=b[0],y=b[1],m=b[2],x=b[3],_=b[4],w=b[5],S=b[6],M=b[7],C=b[8];return t[0]=v*e+y*o+m*h,t[1]=v*n+y*l+m*f,t[2]=v*r+y*c+m*d,t[3]=x*e+_*o+w*h,t[4]=x*n+_*l+w*f,t[5]=x*r+_*c+w*d,t[6]=S*e+M*o+C*h,t[7]=S*n+M*l+C*f,t[8]=S*r+M*c+C*d,t}function l(t,a,b){return t[0]=a[0]-b[0],t[1]=a[1]-b[1],t[2]=a[2]-b[2],t[3]=a[3]-b[3],t[4]=a[4]-b[4],t[5]=a[5]-b[5],t[6]=a[6]-b[6],t[7]=a[7]-b[7],t[8]=a[8]-b[8],t}e.mul=o,e.sub=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=l,e.clone=function(a){var t=new o.ARRAY_TYPE(2);return t[0]=a[0],t[1]=a[1],t},e.fromValues=function(t,e){var n=new o.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},e.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t},e.set=function(t,e,n){return t[0]=e,t[1]=n,t},e.add=function(t,a,b){return t[0]=a[0]+b[0],t[1]=a[1]+b[1],t},e.subtract=c,e.multiply=h,e.divide=f,e.ceil=function(t,a){return t[0]=Math.ceil(a[0]),t[1]=Math.ceil(a[1]),t},e.floor=function(t,a){return t[0]=Math.floor(a[0]),t[1]=Math.floor(a[1]),t},e.min=function(t,a,b){return t[0]=Math.min(a[0],b[0]),t[1]=Math.min(a[1],b[1]),t},e.max=function(t,a,b){return t[0]=Math.max(a[0],b[0]),t[1]=Math.max(a[1],b[1]),t},e.round=function(t,a){return t[0]=Math.round(a[0]),t[1]=Math.round(a[1]),t},e.scale=function(t,a,b){return t[0]=a[0]*b,t[1]=a[1]*b,t},e.scaleAndAdd=function(t,a,b,e){return t[0]=a[0]+b[0]*e,t[1]=a[1]+b[1]*e,t},e.distance=d,e.squaredDistance=v,e.length=y,e.squaredLength=m,e.negate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t},e.inverse=function(t,a){return t[0]=1/a[0],t[1]=1/a[1],t},e.normalize=function(t,a){var e=a[0],n=a[1],r=e*e+n*n;return r>0&&(r=1/Math.sqrt(r),t[0]=a[0]*r,t[1]=a[1]*r),t},e.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]},e.cross=function(t,a,b){var e=a[0]*b[1]-a[1]*b[0];return t[0]=t[1]=0,t[2]=e,t},e.lerp=function(t,a,b,e){var n=a[0],r=a[1];return t[0]=n+e*(b[0]-n),t[1]=r+e*(b[1]-r),t},e.random=function(t,e){e=e||1;var n=2*o.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},e.transformMat2=function(t,a,e){var n=a[0],r=a[1];return t[0]=e[0]*n+e[2]*r,t[1]=e[1]*n+e[3]*r,t},e.transformMat2d=function(t,a,e){var n=a[0],r=a[1];return t[0]=e[0]*n+e[2]*r+e[4],t[1]=e[1]*n+e[3]*r+e[5],t},e.transformMat3=function(t,a,e){var n=a[0],r=a[1];return t[0]=e[0]*n+e[3]*r+e[6],t[1]=e[1]*n+e[4]*r+e[7],t},e.transformMat4=function(t,a,e){var n=a[0],r=a[1];return t[0]=e[0]*n+e[4]*r+e[12],t[1]=e[1]*n+e[5]*r+e[13],t},e.rotate=function(t,a,b,e){var n=a[0]-b[0],r=a[1]-b[1],o=Math.sin(e),l=Math.cos(e);return t[0]=n*l-r*o+b[0],t[1]=n*o+r*l+b[1],t},e.angle=function(a,b){var t=a[0],e=a[1],n=b[0],r=b[1],o=t*t+e*e;o>0&&(o=1/Math.sqrt(o));var l=n*n+r*r;l>0&&(l=1/Math.sqrt(l));var c=(t*n+e*r)*o*l;return c>1?0:c<-1?Math.PI:Math.acos(c)},e.str=function(a){return"vec2("+a[0]+", "+a[1]+")"},e.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]},e.equals=function(a,b){var t=a[0],e=a[1],n=b[0],r=b[1];return Math.abs(t-n)<=o.EPSILON*Math.max(1,Math.abs(t),Math.abs(n))&&Math.abs(e-r)<=o.EPSILON*Math.max(1,Math.abs(e),Math.abs(r))};var r,o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(53));function l(){var t=new o.ARRAY_TYPE(2);return o.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function c(t,a,b){return t[0]=a[0]-b[0],t[1]=a[1]-b[1],t}function h(t,a,b){return t[0]=a[0]*b[0],t[1]=a[1]*b[1],t}function f(t,a,b){return t[0]=a[0]/b[0],t[1]=a[1]/b[1],t}function d(a,b){var t=b[0]-a[0],e=b[1]-a[1];return Math.sqrt(t*t+e*e)}function v(a,b){var t=b[0]-a[0],e=b[1]-a[1];return t*t+e*e}function y(a){var t=a[0],e=a[1];return Math.sqrt(t*t+e*e)}function m(a){var t=a[0],e=a[1];return t*t+e*e}e.len=y,e.sub=c,e.mul=h,e.div=f,e.dist=d,e.sqrDist=v,e.sqrLen=m,e.forEach=(r=l(),function(a,t,e,n,o,l){var i=void 0,c=void 0;for(t||(t=2),e||(e=0),c=n?Math.min(n*t+e,a.length):a.length,i=e;i<c;i+=t)r[0]=a[i],r[1]=a[i+1],o(r,r,l),a[i]=r[0],a[i+1]=r[1];return a})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=l,e.clone=function(a){var t=new o.ARRAY_TYPE(3);return t[0]=a[0],t[1]=a[1],t[2]=a[2],t},e.length=c,e.fromValues=h,e.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t},e.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},e.add=function(t,a,b){return t[0]=a[0]+b[0],t[1]=a[1]+b[1],t[2]=a[2]+b[2],t},e.subtract=f,e.multiply=d,e.divide=v,e.ceil=function(t,a){return t[0]=Math.ceil(a[0]),t[1]=Math.ceil(a[1]),t[2]=Math.ceil(a[2]),t},e.floor=function(t,a){return t[0]=Math.floor(a[0]),t[1]=Math.floor(a[1]),t[2]=Math.floor(a[2]),t},e.min=function(t,a,b){return t[0]=Math.min(a[0],b[0]),t[1]=Math.min(a[1],b[1]),t[2]=Math.min(a[2],b[2]),t},e.max=function(t,a,b){return t[0]=Math.max(a[0],b[0]),t[1]=Math.max(a[1],b[1]),t[2]=Math.max(a[2],b[2]),t},e.round=function(t,a){return t[0]=Math.round(a[0]),t[1]=Math.round(a[1]),t[2]=Math.round(a[2]),t},e.scale=function(t,a,b){return t[0]=a[0]*b,t[1]=a[1]*b,t[2]=a[2]*b,t},e.scaleAndAdd=function(t,a,b,e){return t[0]=a[0]+b[0]*e,t[1]=a[1]+b[1]*e,t[2]=a[2]+b[2]*e,t},e.distance=y,e.squaredDistance=m,e.squaredLength=x,e.negate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t[2]=-a[2],t},e.inverse=function(t,a){return t[0]=1/a[0],t[1]=1/a[1],t[2]=1/a[2],t},e.normalize=_,e.dot=w,e.cross=function(t,a,b){var e=a[0],n=a[1],r=a[2],o=b[0],l=b[1],c=b[2];return t[0]=n*c-r*l,t[1]=r*o-e*c,t[2]=e*l-n*o,t},e.lerp=function(t,a,b,e){var n=a[0],r=a[1],o=a[2];return t[0]=n+e*(b[0]-n),t[1]=r+e*(b[1]-r),t[2]=o+e*(b[2]-o),t},e.hermite=function(t,a,b,e,n,r){var o=r*r,l=o*(2*r-3)+1,c=o*(r-2)+r,h=o*(r-1),f=o*(3-2*r);return t[0]=a[0]*l+b[0]*c+e[0]*h+n[0]*f,t[1]=a[1]*l+b[1]*c+e[1]*h+n[1]*f,t[2]=a[2]*l+b[2]*c+e[2]*h+n[2]*f,t},e.bezier=function(t,a,b,e,n,r){var o=1-r,l=o*o,c=r*r,h=l*o,f=3*r*l,d=3*c*o,v=c*r;return t[0]=a[0]*h+b[0]*f+e[0]*d+n[0]*v,t[1]=a[1]*h+b[1]*f+e[1]*d+n[1]*v,t[2]=a[2]*h+b[2]*f+e[2]*d+n[2]*v,t},e.random=function(t,e){e=e||1;var n=2*o.RANDOM()*Math.PI,r=2*o.RANDOM()-1,l=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*l,t[1]=Math.sin(n)*l,t[2]=r*e,t},e.transformMat4=function(t,a,e){var n=a[0],r=a[1],o=a[2],l=e[3]*n+e[7]*r+e[11]*o+e[15];return l=l||1,t[0]=(e[0]*n+e[4]*r+e[8]*o+e[12])/l,t[1]=(e[1]*n+e[5]*r+e[9]*o+e[13])/l,t[2]=(e[2]*n+e[6]*r+e[10]*o+e[14])/l,t},e.transformMat3=function(t,a,e){var n=a[0],r=a[1],o=a[2];return t[0]=n*e[0]+r*e[3]+o*e[6],t[1]=n*e[1]+r*e[4]+o*e[7],t[2]=n*e[2]+r*e[5]+o*e[8],t},e.transformQuat=function(t,a,q){var e=q[0],n=q[1],r=q[2],o=q[3],l=a[0],c=a[1],h=a[2],f=n*h-r*c,d=r*l-e*h,v=e*c-n*l,y=n*v-r*d,m=r*f-e*v,x=e*d-n*f,_=2*o;return f*=_,d*=_,v*=_,y*=2,m*=2,x*=2,t[0]=l+f+y,t[1]=c+d+m,t[2]=h+v+x,t},e.rotateX=function(t,a,b,e){var p=[],n=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],n[0]=p[0],n[1]=p[1]*Math.cos(e)-p[2]*Math.sin(e),n[2]=p[1]*Math.sin(e)+p[2]*Math.cos(e),t[0]=n[0]+b[0],t[1]=n[1]+b[1],t[2]=n[2]+b[2],t},e.rotateY=function(t,a,b,e){var p=[],n=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],n[0]=p[2]*Math.sin(e)+p[0]*Math.cos(e),n[1]=p[1],n[2]=p[2]*Math.cos(e)-p[0]*Math.sin(e),t[0]=n[0]+b[0],t[1]=n[1]+b[1],t[2]=n[2]+b[2],t},e.rotateZ=function(t,a,b,e){var p=[],n=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],n[0]=p[0]*Math.cos(e)-p[1]*Math.sin(e),n[1]=p[0]*Math.sin(e)+p[1]*Math.cos(e),n[2]=p[2],t[0]=n[0]+b[0],t[1]=n[1]+b[1],t[2]=n[2]+b[2],t},e.angle=function(a,b){var t=h(a[0],a[1],a[2]),e=h(b[0],b[1],b[2]);_(t,t),_(e,e);var n=w(t,e);return n>1?0:n<-1?Math.PI:Math.acos(n)},e.str=function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"},e.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]},e.equals=function(a,b){var t=a[0],e=a[1],n=a[2],r=b[0],l=b[1],c=b[2];return Math.abs(t-r)<=o.EPSILON*Math.max(1,Math.abs(t),Math.abs(r))&&Math.abs(e-l)<=o.EPSILON*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(n-c)<=o.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))};var r,o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(53));function l(){var t=new o.ARRAY_TYPE(3);return o.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function c(a){var t=a[0],e=a[1],n=a[2];return Math.sqrt(t*t+e*e+n*n)}function h(t,e,n){var r=new o.ARRAY_TYPE(3);return r[0]=t,r[1]=e,r[2]=n,r}function f(t,a,b){return t[0]=a[0]-b[0],t[1]=a[1]-b[1],t[2]=a[2]-b[2],t}function d(t,a,b){return t[0]=a[0]*b[0],t[1]=a[1]*b[1],t[2]=a[2]*b[2],t}function v(t,a,b){return t[0]=a[0]/b[0],t[1]=a[1]/b[1],t[2]=a[2]/b[2],t}function y(a,b){var t=b[0]-a[0],e=b[1]-a[1],n=b[2]-a[2];return Math.sqrt(t*t+e*e+n*n)}function m(a,b){var t=b[0]-a[0],e=b[1]-a[1],n=b[2]-a[2];return t*t+e*e+n*n}function x(a){var t=a[0],e=a[1],n=a[2];return t*t+e*e+n*n}function _(t,a){var e=a[0],n=a[1],r=a[2],o=e*e+n*n+r*r;return o>0&&(o=1/Math.sqrt(o),t[0]=a[0]*o,t[1]=a[1]*o,t[2]=a[2]*o),t}function w(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}e.sub=f,e.mul=d,e.div=v,e.dist=y,e.sqrDist=m,e.len=c,e.sqrLen=x,e.forEach=(r=l(),function(a,t,e,n,o,l){var i=void 0,c=void 0;for(t||(t=3),e||(e=0),c=n?Math.min(n*t+e,a.length):a.length,i=e;i<c;i+=t)r[0]=a[i],r[1]=a[i+1],r[2]=a[i+2],o(r,r,l),a[i]=r[0],a[i+1]=r[1],a[i+2]=r[2];return a})},function(t,e,n){var r=n(1);t.exports={canFill:!1,canStroke:!1,initAttrs:function(t){return this._attrs={opacity:1,fillOpacity:1,strokeOpacity:1,matrix:[1,0,0,0,1,0,0,0,1]},this.attr(r.assign(this.getDefaultAttrs(),t)),this},getDefaultAttrs:function(){return{}},attr:function(t,e){var n=this;if(0===arguments.length)return n._attrs;if(r.isObject(t)){for(var o in t)this._setAttr(o,t[o]);return n.clearBBox(),this._cfg.hasUpdate=!0,n}return 2===arguments.length?(this._setAttr(t,e),n.clearBBox(),this._cfg.hasUpdate=!0,n):n._attrs[t]},_setAttr:function(t,e){var n=this._attrs;n[t]=e,"fill"!==t&&"stroke"!==t?"opacity"!==t?"clip"===t&&e?this._setClip(e):"path"===t&&this._afterSetAttrPath?this._afterSetAttrPath(e):"transform"!==t?"rotate"===t&&this.rotateAtStart(e):this.transform(e):n.globalAlpha=e:n[t+"Style"]=e},clearBBox:function(){this.setSilent("box",null)},hasFill:function(){return this.canFill&&this._attrs.fillStyle},hasStroke:function(){return this.canStroke&&this._attrs.strokeStyle},_setClip:function(t){t._cfg.renderer=this._cfg.renderer,t._cfg.canvas=this._cfg.canvas,t._cfg.parent=this._cfg.parent,t.hasFill=function(){return!0}}}},function(t,e,n){var r=n(1);function o(t){return 1===t[0]&&0===t[1]&&0===t[3]&&1===t[4]&&0===t[6]&&0===t[7]}function l(t){return 0===t[1]&&0===t[3]&&0===t[6]&&0===t[7]}function c(t,e){o(e)||(l(e)?(t[0]*=e[0],t[4]*=e[4]):r.mat3.multiply(t,t,e))}t.exports={initTransform:function(){},resetMatrix:function(){this.attr("matrix",[1,0,0,0,1,0,0,0,1])},translate:function(t,e){var n=this._attrs.matrix;return r.mat3.translate(n,n,[t,e]),this.clearTotalMatrix(),this.attr("matrix",n),this},rotate:function(t){var e=this._attrs.matrix;return r.mat3.rotate(e,e,t),this.clearTotalMatrix(),this.attr("matrix",e),this},scale:function(t,e){var n=this._attrs.matrix;return r.mat3.scale(n,n,[t,e]),this.clearTotalMatrix(),this.attr("matrix",n),this},rotateAtStart:function(t){var e=this._attrs.x||this._cfg.attrs.x,n=this._attrs.y||this._cfg.attrs.y;return Math.abs(t)>2*Math.PI&&(t=t/180*Math.PI),this.transform([["t",-e,-n],["r",t],["t",e,n]])},move:function(t,e){var n=this.get("x")||0,r=this.get("y")||0;return this.translate(t-n,e-r),this.set("x",t),this.set("y",e),this},transform:function(t){var e=this,n=this._attrs.matrix;return r.each(t,(function(t){switch(t[0]){case"t":e.translate(t[1],t[2]);break;case"s":e.scale(t[1],t[2]);break;case"r":e.rotate(t[1]);break;case"m":e.attr("matrix",r.mat3.multiply([],n,t[1])),e.clearTotalMatrix()}})),e},setTransform:function(t){return this.attr("matrix",[1,0,0,0,1,0,0,0,1]),this.transform(t)},getMatrix:function(){return this.attr("matrix")},setMatrix:function(t){return this.attr("matrix",t),this.clearTotalMatrix(),this},apply:function(t,e){var n;return n=e?this._getMatrixByRoot(e):this.attr("matrix"),r.vec3.transformMat3(t,t,n),this},_getMatrixByRoot:function(t){t=t||this;for(var e=this,n=[];e!==t;)n.unshift(e),e=e.get("parent");n.unshift(e);var o=[1,0,0,0,1,0,0,0,1];return r.each(n,(function(t){r.mat3.multiply(o,t.attr("matrix"),o)})),o},getTotalMatrix:function(){var t=this._cfg.totalMatrix;if(!t){t=[1,0,0,0,1,0,0,0,1];var e=this._cfg.parent;e&&c(t,e.getTotalMatrix()),c(t,this.attr("matrix")),this._cfg.totalMatrix=t}return t},clearTotalMatrix:function(){},invert:function(t){var e=this.getTotalMatrix();if(l(e))t[0]/=e[0],t[1]/=e[4];else{var n=r.mat3.invert([],e);n&&r.vec3.transformMat3(t,t,n)}return this},resetTransform:function(t){var e=this.attr("matrix");o(e)||t.transform(e[0],e[1],e[3],e[4],e[6],e[7])}}},function(t,e,n){var r=n(1),o={delay:"delay",rotate:"rotate"},l={fill:"fill",stroke:"stroke",fillStyle:"fillStyle",strokeStyle:"strokeStyle"};function c(t,e){var n={},r=e._attrs;for(var o in t.attrs)n[o]=r[o];return n}t.exports={animate:function(t,e,n,h,f){void 0===f&&(f=0),this.set("animating",!0);var d=this.get("timeline");d||(d=this.get("canvas").get("timeline"),this.setSilent("timeline",d));var v=this.get("animators")||[];d._timer||d.initTimer(),r.isNumber(h)&&(f=h,h=null),r.isFunction(n)?(h=n,n="easeLinear"):n=n||"easeLinear";var y=function(t,e){var n={matrix:null,attrs:{}},c=e._attrs;for(var h in t)if("transform"===h)n.matrix=r.transform(e.getMatrix(),t[h]);else if("rotate"===h)n.matrix=r.transform(e.getMatrix(),[["r",t[h]]]);else if("matrix"===h)n.matrix=t[h];else{if(l[h]&&/^[r,R,L,l]{1}[\s]*\(/.test(t[h]))continue;o[h]||c[h]===t[h]||(n.attrs[h]=t[h])}return n}(t,this),m={fromAttrs:c(y,this),toAttrs:y.attrs,fromMatrix:r.clone(this.getMatrix()),toMatrix:y.matrix,duration:e,easing:n,callback:h,delay:f,startTime:d.getTime(),id:r.uniqueId()};v.length>0?v=function(t,e){var n=e.delay,o=Object.prototype.hasOwnProperty;return r.each(e.toAttrs,(function(e,l){r.each(t,(function(t){n<t.startTime+t.duration&&o.call(t.toAttrs,l)&&(delete t.toAttrs[l],delete t.fromAttrs[l])}))})),e.toMatrix&&r.each(t,(function(t){n<t.startTime+t.duration&&t.toMatrix&&delete t.toMatrix})),t}(v,m):d.addAnimator(this),v.push(m),this.setSilent("animators",v),this.setSilent("pause",{isPaused:!1})},stopAnimate:function(){var t=this,e=this.get("animators");r.each(e,(function(e){t.attr(e.toAttrs),e.toMatrix&&t.attr("matrix",e.toMatrix),e.callback&&e.callback()})),this.setSilent("animating",!1),this.setSilent("animators",[])},pauseAnimate:function(){var t=this.get("timeline");return this.setSilent("pause",{isPaused:!0,pauseTime:t.getTime()}),this},resumeAnimate:function(){var t=this.get("timeline").getTime(),e=this.get("animators"),n=this.get("pause").pauseTime;return r.each(e,(function(e){e.startTime=e.startTime+(t-n),e._paused=!1,e._pauseTime=null})),this.setSilent("pause",{isPaused:!1}),this.setSilent("animators",e),this}}},function(t,e,n){var r=n(6);r.Arc=n(105),r.Circle=n(106),r.Dom=n(107),r.Ellipse=n(108),r.Fan=n(109),r.Image=n(110),r.Line=n(111),r.Marker=n(57),r.Path=n(112),r.Polygon=n(113),r.Polyline=n(114),r.Rect=n(115),r.Text=n(116),t.exports=r},function(t,e,n){var r=n(1),o=n(55),l={arc:n(37),ellipse:n(104),line:n(36)},c=r.createDom('<canvas width="500" height="500"></canvas>').getContext("2d");function h(t,e,n){return n.createPath(c),c.isPointInPath(t,e)}var f={arc:function(t,e){var n=this._attrs,r=n.x,l=n.y,c=n.r,h=n.startAngle,f=n.endAngle,d=n.clockwise,v=this.getHitLineWidth();return!!this.hasStroke()&&o.arcline(r,l,c,h,f,d,v,t,e)},circle:function(t,e){var n=this._attrs,r=n.x,l=n.y,c=n.r,h=this.getHitLineWidth(),f=this.hasFill(),d=this.hasStroke();return f&&d?o.circle(r,l,c,t,e)||o.arcline(r,l,c,0,2*Math.PI,!1,h,t,e):f?o.circle(r,l,c,t,e):!!d&&o.arcline(r,l,c,0,2*Math.PI,!1,h,t,e)},dom:function(t,e){if(!this._cfg.el)return!1;var n=this._cfg.el.getBBox();return o.box(n.x,n.x+n.width,n.y,n.y+n.height,t,e)},ellipse:function(t,e){var n=this._attrs,l=this.hasFill(),c=this.hasStroke(),h=n.x,f=n.y,d=n.rx,v=n.ry,y=this.getHitLineWidth(),m=d>v?d:v,x=d>v?1:d/v,_=d>v?v/d:1,p=[t,e,1],w=[1,0,0,0,1,0,0,0,1];r.mat3.scale(w,w,[x,_]),r.mat3.translate(w,w,[h,f]);var S=r.mat3.invert([],w);return r.vec3.transformMat3(p,p,S),l&&c?o.circle(0,0,m,p[0],p[1])||o.arcline(0,0,m,0,2*Math.PI,!1,y,p[0],p[1]):l?o.circle(0,0,m,p[0],p[1]):!!c&&o.arcline(0,0,m,0,2*Math.PI,!1,y,p[0],p[1])},fan:function(t,e){var n=this,c=n.hasFill(),h=n.hasStroke(),f=n._attrs,d=f.x,v=f.y,y=f.rs,m=f.re,x=f.startAngle,_=f.endAngle,w=f.clockwise,S=[t-d,e-v],M=r.vec2.angleTo([1,0],S);function C(){var t=l.arc.nearAngle(M,x,_,w);if(r.isNumberEqual(M,t)){var e=r.vec2.squaredLength(S);if(y*y<=e&&e<=m*m)return!0}return!1}function A(){var r=n.getHitLineWidth(),l={x:Math.cos(x)*y+d,y:Math.sin(x)*y+v},c={x:Math.cos(x)*m+d,y:Math.sin(x)*m+v},h={x:Math.cos(_)*y+d,y:Math.sin(_)*y+v},f={x:Math.cos(_)*m+d,y:Math.sin(_)*m+v};return!!(o.line(l.x,l.y,c.x,c.y,r,t,e)||o.line(h.x,h.y,f.x,f.y,r,t,e)||o.arcline(d,v,y,x,_,w,r,t,e)||o.arcline(d,v,m,x,_,w,r,t,e))}return c&&h?C()||A():c?C():!!h&&A()},image:function(t,e){var n=this._attrs;if(this.get("toDraw")||!n.img)return!1;this._cfg.attrs&&this._cfg.attrs.img===n.img||this._setAttrImg();var r=n.x,l=n.y,c=n.width,h=n.height;return o.rect(r,l,c,h,t,e)},line:function(t,e){var n=this._attrs,r=n.x1,l=n.y1,c=n.x2,h=n.y2,f=this.getHitLineWidth();return!!this.hasStroke()&&o.line(r,l,c,h,f,t,e)},path:function(t,e){var n=this,o=n.get("segments"),l=n.hasFill(),c=n.hasStroke();function f(){if(!r.isEmpty(o)){for(var l=n.getHitLineWidth(),i=0,c=o.length;i<c;i++)if(o[i].isInside(t,e,l))return!0;return!1}}return l&&c?h(t,e,n)||f():l?h(t,e,n):!!c&&f()},marker:function(t,e){var n=this._attrs,r=n.x,l=n.y,c=n.radius||n.r,h=this.getHitLineWidth();return o.circle(r,l,c+h/2,t,e)},polygon:function(t,e){var n=this,r=n.hasFill(),l=n.hasStroke();function c(){var r=n._attrs.points;if(r.length<2)return!1;var l=n.getHitLineWidth(),c=r.slice(0);return r.length>=3&&c.push(r[0]),o.polyline(c,l,t,e)}return r&&l?h(t,e,n)||c():r?h(t,e,n):!!l&&c()},polyline:function(t,e){var n=this._attrs;if(this.hasStroke()){var r=n.points;if(r.length<2)return!1;var l=n.lineWidth;return o.polyline(r,l,t,e)}return!1},rect:function(t,e){var n=this,r=n.hasFill(),l=n.hasStroke();function c(){var r=n._attrs,l=r.x,c=r.y,h=r.width,f=r.height,d=r.radius,v=n.getHitLineWidth();if(0===d){var y=v/2;return o.line(l-y,c,l+h+y,c,v,t,e)||o.line(l+h,c-y,l+h,c+f+y,v,t,e)||o.line(l+h+y,c+f,l-y,c+f,v,t,e)||o.line(l,c+f+y,l,c-y,v,t,e)}return o.line(l+d,c,l+h-d,c,v,t,e)||o.line(l+h,c+d,l+h,c+f-d,v,t,e)||o.line(l+h-d,c+f,l+d,c+f,v,t,e)||o.line(l,c+f-d,l,c+d,v,t,e)||o.arcline(l+h-d,c+d,d,1.5*Math.PI,2*Math.PI,!1,v,t,e)||o.arcline(l+h-d,c+f-d,d,0,.5*Math.PI,!1,v,t,e)||o.arcline(l+d,c+f-d,d,.5*Math.PI,Math.PI,!1,v,t,e)||o.arcline(l+d,c+d,d,Math.PI,1.5*Math.PI,!1,v,t,e)}return r&&l?h(t,e,n)||c():r?h(t,e,n):!!l&&c()},text:function(t,e){var n=this.getBBox();if(this.hasFill()||this.hasStroke())return o.box(n.minX,n.maxX,n.minY,n.maxY,t,e)}};t.exports={isPointInPath:function(t,e){var n=f[this.type];return!!n&&n.call(this,t,e)}}},function(t,e,n){var r=n(1),o=n(58),l=n(170),c=n(173),h=n(204),f=h.interpolate,d=h.interpolateArray,v=function(canvas){this._animators=[],this._current=0,this._timer=null,this.canvas=canvas};function y(t,e,n){var l,h=e.startTime;if(n<h+e.delay||e.isPaused)return!1;var v=e.duration,y=e.easing;if(n=n-h-e.delay,e.toAttrs.repeat)l=n%v/v,l=c[y](l);else{if(!((l=n/v)<1))return t.attr(e.toAttrs),e.toMatrix&&t.setMatrix(e.toMatrix),!0;l=c[y](l)}return function(t,e,n){var l={},c=e.toAttrs,h=e.fromAttrs,v=e.toMatrix;if(!t.get("destroyed")){var y;for(var m in c)if(!r.isEqual(h[m],c[m]))if("path"===m){var x=c[m],_=h[m];x.length>_.length?(x=o.parsePathString(c[m]),_=o.parsePathString(h[m]),_=o.fillPathByDiff(_,x),_=o.formatPath(_,x),e.fromAttrs.path=_,e.toAttrs.path=x):e.pathFormatted||(x=o.parsePathString(c[m]),_=o.parsePathString(h[m]),_=o.formatPath(_,x),e.fromAttrs.path=_,e.toAttrs.path=x,e.pathFormatted=!0),l[m]=[];for(var i=0;i<x.length;i++){for(var w=x[i],S=_[i],M=[],C=0;C<w.length;C++)r.isNumber(w[C])&&S&&r.isNumber(S[C])?(y=f(S[C],w[C]),M.push(y(n))):M.push(w[C]);l[m].push(M)}}else y=f(h[m],c[m]),l[m]=y(n);if(v){var A=d(e.fromMatrix,v)(n);t.setMatrix(A)}t.attr(l)}}(t,e,l),!1}r.augment(v,{initTimer:function(){var t,e,n,r=this,o=this;o._timer=l.timer((function(l){if(o._current=l,r._animators.length>0){for(var i=r._animators.length-1;i>=0;i--)if((t=r._animators[i]).get("destroyed"))o.removeAnimator(i);else{if(!t.get("pause").isPaused)for(var c=(e=t.get("animators")).length-1;c>=0;c--)n=e[c],y(t,n,l)&&(e.splice(c,1),n.callback&&n.callback());0===e.length&&o.removeAnimator(i)}r.canvas.draw()}}))},addAnimator:function(t){this._animators.push(t)},removeAnimator:function(t){this._animators.splice(t,1)},isAnimating:function(){return!!this._animators.length},stop:function(){this._timer&&this._timer.stop()},stopAllAnimations:function(){this._animators.forEach((function(t){t.stopAnimate()})),this._animators=[],this.canvas.draw()},getTime:function(){return this._current}}),t.exports=v},function(t,e,n){"use strict";var r=n(59);e.a=function(t,e,time){var n=new r.a;return e=null==e?0:+e,n.restart((function(r){n.stop(),t(r+e)}),e,time),n}},function(t,e,n){"use strict";var r=n(59);e.a=function(t,e,time){var n=new r.a,o=e;return null==e?(n.restart(t,e,time),n):(e=+e,time=null==time?Object(r.b)():+time,n.restart((function r(l){l+=o,n.restart(r,o+=e,time),t(l)}),e,time),n)}},function(t,e,n){"use strict";e.a=function(t){return+t}},function(t,e,n){"use strict";e.a=function(t){return t*t},e.c=function(t){return t*(2-t)},e.b=function(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}},function(t,e,n){"use strict";e.a=function(t){return t*t*t},e.c=function(t){return--t*t*t+1},e.b=function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return l}));var r=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),o=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),l=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3)},function(t,e,n){"use strict";e.a=function(t){return 1-Math.cos(t*o)},e.c=function(t){return Math.sin(t*o)},e.b=function(t){return(1-Math.cos(r*t))/2};var r=Math.PI,o=r/2},function(t,e,n){"use strict";e.a=function(t){return Math.pow(2,10*t-10)},e.c=function(t){return 1-Math.pow(2,-10*t)},e.b=function(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}},function(t,e,n){"use strict";e.a=function(t){return 1-Math.sqrt(1-t*t)},e.c=function(t){return Math.sqrt(1- --t*t)},e.b=function(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}},function(t,e,n){"use strict";e.a=function(t){return 1-o(1-t)},e.c=o,e.b=function(t){return((t*=2)<=1?1-o(1-t):o(t-1)+1)/2};var r=7.5625;function o(t){return(t=+t)<4/11?r*t*t:t<8/11?r*(t-=6/11)*t+.75:t<10/11?r*(t-=9/11)*t+.9375:r*(t-=21/22)*t+63/64}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return l}));var r=function t(s){function e(t){return t*t*((s+1)*t-s)}return s=+s,e.overshoot=t,e}(1.70158),o=function t(s){function e(t){return--t*t*((s+1)*t+s)+1}return s=+s,e.overshoot=t,e}(1.70158),l=function t(s){function e(t){return((t*=2)<1?t*t*((s+1)*t-s):(t-=2)*t*((s+1)*t+s)+2)/2}return s=+s,e.overshoot=t,e}(1.70158)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return c}));var r=2*Math.PI,o=function t(a,p){var s=Math.asin(1/(a=Math.max(1,a)))*(p/=r);function e(t){return a*Math.pow(2,10*--t)*Math.sin((s-t)/p)}return e.amplitude=function(a){return t(a,p*r)},e.period=function(p){return t(a,p)},e}(1,.3),l=function t(a,p){var s=Math.asin(1/(a=Math.max(1,a)))*(p/=r);function e(t){return 1-a*Math.pow(2,-10*(t=+t))*Math.sin((t+s)/p)}return e.amplitude=function(a){return t(a,p*r)},e.period=function(p){return t(a,p)},e}(1,.3),c=function t(a,p){var s=Math.asin(1/(a=Math.max(1,a)))*(p/=r);function e(t){return((t=2*t-1)<0?a*Math.pow(2,10*t)*Math.sin((s-t)/p):2-a*Math.pow(2,-10*t)*Math.sin((s+t)/p))/2}return e.amplitude=function(a){return t(a,p*r)},e.period=function(p){return t(a,p)},e}(1,.3)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(60);n.d(e,"interpolate",(function(){return r.a}));var o=n(121);n.d(e,"interpolateArray",(function(){return o.a}));var l=n(63);n.d(e,"interpolateBasis",(function(){return l.b}));var c=n(119);n.d(e,"interpolateBasisClosed",(function(){return c.a}));var h=n(122);n.d(e,"interpolateDate",(function(){return h.a}));var f=n(40);n.d(e,"interpolateNumber",(function(){return f.a}));var d=n(123);n.d(e,"interpolateObject",(function(){return d.a}));var v=n(207);n.d(e,"interpolateRound",(function(){return v.a}));var y=n(124);n.d(e,"interpolateString",(function(){return y.a}));var m=n(208);n.d(e,"interpolateTransformCss",(function(){return m.a})),n.d(e,"interpolateTransformSvg",(function(){return m.b}));var x=n(211);n.d(e,"interpolateZoom",(function(){return x.a}));var _=n(118);n.d(e,"interpolateRgb",(function(){return _.a})),n.d(e,"interpolateRgbBasis",(function(){return _.b})),n.d(e,"interpolateRgbBasisClosed",(function(){return _.c}));var w=n(212);n.d(e,"interpolateHsl",(function(){return w.a})),n.d(e,"interpolateHslLong",(function(){return w.b}));var S=n(213);n.d(e,"interpolateLab",(function(){return S.a}));var M=n(214);n.d(e,"interpolateHcl",(function(){return M.a})),n.d(e,"interpolateHclLong",(function(){return M.b}));var C=n(215);n.d(e,"interpolateCubehelix",(function(){return C.b})),n.d(e,"interpolateCubehelixLong",(function(){return C.a}));var A=n(216);n.d(e,"quantize",(function(){return A.a}))},function(t,e,n){"use strict";e.a=d,e.b=S;var r=n(62),o=n(61),l=n(117),c=6/29,h=3*c*c;function f(t){if(t instanceof v)return new v(t.l,t.a,t.b,t.opacity);if(t instanceof M)return C(t);t instanceof o.b||(t=Object(o.h)(t));var e,n,r=_(t.r),g=_(t.g),b=_(t.b),l=y((.2225045*r+.7168786*g+.0606169*b)/1);return r===g&&g===b?e=n=l:(e=y((.4360747*r+.3850649*g+.1430804*b)/.96422),n=y((.0139322*r+.0971045*g+.7141733*b)/.82521)),new v(116*l-16,500*(e-l),200*(l-n),t.opacity)}function d(t,a,b,e){return 1===arguments.length?f(t):new v(t,a,b,null==e?1:e)}function v(t,a,b,e){this.l=+t,this.a=+a,this.b=+b,this.opacity=+e}function y(t){return t>.008856451679035631?Math.pow(t,1/3):t/h+4/29}function m(t){return t>c?t*t*t:h*(t-4/29)}function x(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function _(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function w(t){if(t instanceof M)return new M(t.h,t.c,t.l,t.opacity);if(t instanceof v||(t=f(t)),0===t.a&&0===t.b)return new M(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*l.b;return new M(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function S(t,e,n,r){return 1===arguments.length?w(t):new M(t,e,n,null==r?1:r)}function M(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function C(t){if(isNaN(t.h))return new v(t.l,0,0,t.opacity);var e=t.h*l.a;return new v(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Object(r.a)(v,d,Object(r.b)(o.a,{brighter:function(t){return new v(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new v(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=.96422*m(e),t=1*m(t),n=.82521*m(n),new o.b(x(3.1338561*e-1.6168667*t-.4906146*n),x(-.9787684*e+1.9161415*t+.033454*n),x(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Object(r.a)(M,S,Object(r.b)(o.a,{brighter:function(t){return new M(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new M(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return C(this).rgb()}}))},function(t,e,n){"use strict";e.a=w;var r=n(62),o=n(61),l=n(117),c=-.14861,h=1.78277,f=-.29227,d=-.90649,v=1.97294,y=v*d,m=v*h,x=h*f-d*c;function _(t){if(t instanceof S)return new S(t.h,t.s,t.l,t.opacity);t instanceof o.b||(t=Object(o.h)(t));var e=t.r/255,g=t.g/255,b=t.b/255,n=(x*b+y*e-m*g)/(x+y-m),r=b-n,c=(v*(g-n)-f*r)/d,s=Math.sqrt(c*c+r*r)/(v*n*(1-n)),h=s?Math.atan2(c,r)*l.b-120:NaN;return new S(h<0?h+360:h,s,n,t.opacity)}function w(t,s,e,n){return 1===arguments.length?_(t):new S(t,s,e,null==n?1:n)}function S(t,s,e,n){this.h=+t,this.s=+s,this.l=+e,this.opacity=+n}Object(r.a)(S,w,Object(r.b)(o.a,{brighter:function(t){return t=null==t?o.c:Math.pow(o.c,t),new S(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?o.d:Math.pow(o.d,t),new S(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*l.a,e=+this.l,a=isNaN(this.s)?0:this.s*e*(1-e),n=Math.cos(t),r=Math.sin(t);return new o.b(255*(e+a*(c*n+h*r)),255*(e+a*(f*n+d*r)),255*(e+a*(v*n)),this.opacity)}}))},function(t,e,n){"use strict";e.a=function(a,b){return b-=a=+a,function(t){return Math.round(a+b*t)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return h}));var r=n(40),o=n(209);function l(t,e,n,o){function l(s){return s.length?s.pop()+" ":""}return function(a,b){var s=[],q=[];return a=t(a),b=t(b),function(t,o,l,c,s,q){if(t!==l||o!==c){var i=s.push("translate(",null,e,null,n);q.push({i:i-4,x:Object(r.a)(t,l)},{i:i-2,x:Object(r.a)(o,c)})}else(l||c)&&s.push("translate("+l+e+c+n)}(a.translateX,a.translateY,b.translateX,b.translateY,s,q),function(a,b,s,q){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),q.push({i:s.push(l(s)+"rotate(",null,o)-2,x:Object(r.a)(a,b)})):b&&s.push(l(s)+"rotate("+b+o)}(a.rotate,b.rotate,s,q),function(a,b,s,q){a!==b?q.push({i:s.push(l(s)+"skewX(",null,o)-2,x:Object(r.a)(a,b)}):b&&s.push(l(s)+"skewX("+b+o)}(a.skewX,b.skewX,s,q),function(t,e,n,o,s,q){if(t!==n||e!==o){var i=s.push(l(s)+"scale(",null,",",null,")");q.push({i:i-4,x:Object(r.a)(t,n)},{i:i-2,x:Object(r.a)(e,o)})}else 1===n&&1===o||s.push(l(s)+"scale("+n+","+o+")")}(a.scaleX,a.scaleY,b.scaleX,b.scaleY,s,q),a=b=null,function(t){for(var e,i=-1,n=q.length;++i<n;)s[(e=q[i]).i]=e.x(t);return s.join("")}}}var c=l(o.a,"px, ","px)","deg)"),h=l(o.b,", ",")",")")},function(t,e,n){"use strict";e.a=function(t){return"none"===t?h.b:(r||(r=document.createElement("DIV"),o=document.documentElement,l=document.defaultView),r.style.transform=t,t=l.getComputedStyle(o.appendChild(r),null).getPropertyValue("transform"),o.removeChild(r),t=t.slice(7,-1).split(","),Object(h.a)(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},e.b=function(t){return null==t?h.b:(c||(c=document.createElementNS("http://www.w3.org/2000/svg","g")),c.setAttribute("transform",t),(t=c.transform.baseVal.consolidate())?(t=t.matrix,Object(h.a)(t.a,t.b,t.c,t.d,t.e,t.f)):h.b)};var r,o,l,c,h=n(210)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=180/Math.PI,o={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};e.a=function(a,b,t,e,n,o){var l,c,h;return(l=Math.sqrt(a*a+b*b))&&(a/=l,b/=l),(h=a*t+b*e)&&(t-=a*h,e-=b*h),(c=Math.sqrt(t*t+e*e))&&(t/=c,e/=c,h/=c),a*e<b*t&&(a=-a,b=-b,h=-h,l=-l),{translateX:n,translateY:o,rotate:Math.atan2(b,a)*r,skewX:Math.atan(h)*r,scaleX:l,scaleY:c}}},function(t,e,n){"use strict";var r=Math.SQRT2;function o(t){return((t=Math.exp(t))+1/t)/2}e.a=function(t,e){var i,n,l=t[0],c=t[1],h=t[2],f=e[0],d=e[1],v=e[2],y=f-l,m=d-c,x=y*y+m*m;if(x<1e-12)n=Math.log(v/h)/r,i=function(t){return[l+t*y,c+t*m,h*Math.exp(r*t*n)]};else{var _=Math.sqrt(x),w=(v*v-h*h+4*x)/(2*h*2*_),S=(v*v-h*h-4*x)/(2*v*2*_),M=Math.log(Math.sqrt(w*w+1)-w),C=Math.log(Math.sqrt(S*S+1)-S);n=(C-M)/r,i=function(t){var e,s=t*n,f=o(M),u=h/(2*_)*(f*(e=r*s+M,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(M));return[l+u*y,c+u*m,h*f/o(r*s+M)]}}return i.duration=1e3*n,i}},function(t,e,n){"use strict";n.d(e,"b",(function(){return c}));var r=n(17),o=n(28);function l(t){return function(e,n){var l=t((e=Object(r.d)(e)).h,(n=Object(r.d)(n)).h),s=Object(o.a)(e.s,n.s),c=Object(o.a)(e.l,n.l),h=Object(o.a)(e.opacity,n.opacity);return function(t){return e.h=l(t),e.s=s(t),e.l=c(t),e.opacity=h(t),e+""}}}e.a=l(o.c);var c=l(o.a)},function(t,e,n){"use strict";e.a=function(t,e){var n=Object(o.a)((t=Object(r.e)(t)).l,(e=Object(r.e)(e)).l),a=Object(o.a)(t.a,e.a),b=Object(o.a)(t.b,e.b),l=Object(o.a)(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=a(e),t.b=b(e),t.opacity=l(e),t+""}};var r=n(17),o=n(28)},function(t,e,n){"use strict";n.d(e,"b",(function(){return c}));var r=n(17),o=n(28);function l(t){return function(e,n){var l=t((e=Object(r.c)(e)).h,(n=Object(r.c)(n)).h),c=Object(o.a)(e.c,n.c),h=Object(o.a)(e.l,n.l),f=Object(o.a)(e.opacity,n.opacity);return function(t){return e.h=l(t),e.c=c(t),e.l=h(t),e.opacity=f(t),e+""}}}e.a=l(o.c);var c=l(o.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(17),o=n(28);function l(t){return function e(n){function l(e,l){var c=t((e=Object(r.b)(e)).h,(l=Object(r.b)(l)).h),s=Object(o.a)(e.s,l.s),h=Object(o.a)(e.l,l.l),f=Object(o.a)(e.opacity,l.opacity);return function(t){return e.h=c(t),e.s=s(t),e.l=h(Math.pow(t,n)),e.opacity=f(t),e+""}}return n=+n,l.gamma=e,l}(1)}e.b=l(o.c);var c=l(o.a)},function(t,e,n){"use strict";e.a=function(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n}},function(t,e,n){t.exports={canvas:n(218),svg:n(221)}},function(t,e,n){t.exports={painter:n(219)}},function(t,e,n){var r=n(1),o=n(220),l=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","lineDashOffset"],c=function(){function t(t){if(!t)return null;var e=r.uniqueId("canvas_"),n=r.createDom('<canvas id="'+e+'"></canvas>');return t.appendChild(n),this.type="canvas",this.canvas=n,this.context=n.getContext("2d"),this.toDraw=!1,this}var e=t.prototype;return e.beforeDraw=function(){var t=this.canvas;this.context&&this.context.clearRect(0,0,t.width,t.height)},e.draw=function(t){var e=this;e.animateHandler?e.toDraw=!0:function n(){e.animateHandler=r.requestAnimationFrame((function(){e.animateHandler=void 0,e.toDraw&&n()})),e.beforeDraw();try{e._drawGroup(t)}catch(t){console.warn("error in draw canvas, detail as:"),console.warn(t),e.toDraw=!1}e.toDraw=!1}()},e.drawSync=function(t){this.beforeDraw(),this._drawGroup(t)},e._drawGroup=function(t){if(!t._cfg.removed&&!t._cfg.destroyed&&t._cfg.visible){var e=t._cfg.children,n=null;this.setContext(t);for(var i=0;i<e.length;i++)n=e[i],e[i].isGroup?this._drawGroup(n):this._drawShape(n);this.restoreContext(t)}},e._drawShape=function(t){t._cfg.removed||t._cfg.destroyed||!t._cfg.visible||(this.setContext(t),t.drawInner(this.context),this.restoreContext(t),t._cfg.attrs=t._attrs,t._cfg.hasUpdate=!1)},e.setContext=function(t){var e=this.context,n=t._attrs.clip;e.save(),n&&(n.resetTransform(e),n.createPath(e),e.clip()),this.resetContext(t),t.resetTransform(e)},e.restoreContext=function(){this.context.restore()},e.resetContext=function(t){var e=this.context,n=t._attrs;if(!t.isGroup)for(var c in n)if(l.indexOf(c)>-1){var h=n[c];"fillStyle"===c&&(h=o.parseStyle(h,t,e)),"strokeStyle"===c&&(h=o.parseStyle(h,t,e)),"lineDash"===c&&e.setLineDash?r.isArray(h)?e.setLineDash(h):r.isString(h)&&e.setLineDash(h.split(" ")):e[c]=h}},t}();t.exports=c},function(t,e,n){var r=n(1),o=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,l=/[^\s\,]+/gi,c=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,h=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,f=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,d=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,v={};function y(t,e){var n=t.match(d);r.each(n,(function(t){t=t.split(":"),e.addColorStop(t[0],t[1])}))}t.exports={parsePath:function(path){return path=path||[],r.isArray(path)?path:r.isString(path)?(path=path.match(o),r.each(path,(function(t,e){if((t=t.match(l))[0].length>1){var n=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=n}r.each(t,(function(sub,i){isNaN(sub)||(t[i]=+sub)})),path[e]=t})),path):void 0},parseStyle:function(t,e,n){if(r.isString(t)){if("("===t[1]||"("===t[2]){if("l"===t[0])return function(t,e,n){var o,l,h=c.exec(t),f=r.mod(r.toRadian(parseFloat(h[1])),2*Math.PI),d=h[2],v=e.getBBox();f>=0&&f<.5*Math.PI?(o={x:v.minX,y:v.minY},l={x:v.maxX,y:v.maxY}):.5*Math.PI<=f&&f<Math.PI?(o={x:v.maxX,y:v.minY},l={x:v.minX,y:v.maxY}):Math.PI<=f&&f<1.5*Math.PI?(o={x:v.maxX,y:v.maxY},l={x:v.minX,y:v.minY}):(o={x:v.minX,y:v.maxY},l={x:v.maxX,y:v.minY});var m=Math.tan(f),x=m*m,_=(l.x-o.x+m*(l.y-o.y))/(x+1)+o.x,w=m*(l.x-o.x+m*(l.y-o.y))/(x+1)+o.y,S=n.createLinearGradient(o.x,o.y,_,w);return y(d,S),S}(t,e,n);if("r"===t[0])return function(t,e,n){var r=h.exec(t),o=parseFloat(r[1]),l=parseFloat(r[2]),c=parseFloat(r[3]),f=r[4];if(0===c){var v=f.match(d);return v[v.length-1].split(":")[1]}var m=e.getBBox(),x=m.maxX-m.minX,_=m.maxY-m.minY,w=Math.sqrt(x*x+_*_)/2,S=n.createRadialGradient(m.minX+x*o,m.minY+_*l,c*w,m.minX+x/2,m.minY+_/2,w);return y(f,S),S}(t,e,n);if("p"===t[0])return function(t,e,n){if(e.get("patternSource")&&e.get("patternSource")===t)return e.get("pattern");var pattern,img,r=f.exec(t),o=r[1],source=r[2];function l(){pattern=n.createPattern(img,o),e.setSilent("pattern",pattern),e.setSilent("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return img=new Image,source.match(/^data:/i)||(img.crossOrigin="Anonymous"),img.src=source,img.complete?l():(img.onload=l,img.src=img.src),pattern}(t,e,n)}return t}},numberToColor:function(t){var e=v[t];if(!e){for(var n=t.toString(16),i=n.length;i<6;i++)n="0"+n;e="#"+n,v[t]=e}return e}}},function(t,e,n){t.exports={painter:n(222),getShape:n(229)}},function(t,e,n){var r=n(1),o=n(27).parseRadius,l=n(57),c=n(223),h={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject",fan:"path",group:"g"},f={opacity:"opacity",fillStyle:"fill",strokeOpacity:"stroke-opacity",fillOpacity:"fill-opacity",strokeStyle:"stroke",x:"x",y:"y",r:"r",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},d={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},v={left:"left",start:"left",center:"middle",right:"end",end:"end"},y=function(){function t(t){if(!t)return null;var e=r.uniqueId("canvas_"),n=r.createDom('<svg id="'+e+'"></svg>');return t.appendChild(n),this.type="svg",this.canvas=n,this.context=new c(n),this.toDraw=!1,this}var e=t.prototype;return e.draw=function(t){var e=this;e.animateHandler?e.toDraw=!0:function n(){e.animateHandler=r.requestAnimationFrame((function(){e.animateHandler=void 0,e.toDraw&&n()}));try{t.resetMatrix(),e._drawGroup(t,!1)}catch(t){console.warn("error in draw canvas, detail as:"),console.warn(t),e.toDraw=!1}e.toDraw=!1}()},e.drawSync=function(t){this._drawChildren(t,!1)},e._drawGroup=function(t,e){var n=t._cfg;n.removed||n.destroyed||(!n.el&&n.attrs&&(e=!0),n.tobeRemoved&&(r.each(n.tobeRemoved,(function(t){t.parentNode&&t.parentNode.removeChild(t)})),n.tobeRemoved=[]),this._drawShape(t,e),n.children&&n.children.length>0&&this._drawChildren(t,e))},e._drawChildren=function(t,e){var n,r=t._cfg.children;if(r){if(t._cfg.el&&!e){var o=t._cfg.el.childNodes.length+1;0!==o&&o!==r.length&&(e=!0)}for(var i=0;i<r.length;i++)(n=r[i]).isGroup?this._drawGroup(n,e):this._drawShape(n,e)}},e._drawShape=function(t,e){var n=t._attrs,r=t._cfg,o=r.el;r.removed||r.destroyed?o&&o.parentNode.removeChild(r.el):(e&&o&&(o.parentNode&&o.parentNode.removeChild(o),o=null),!o&&r.parent&&(this._createDom(t),this._updateShape(t)),o=r.el,!1!==r.visible?(r.visible&&o.hasAttribute("visibility")&&o.removeAttribute("visibility"),r.hasUpdate&&this._updateShape(t),n.clip&&n.clip._cfg.hasUpdate&&this._updateShape(n.clip)):o.setAttribute("visibility","hidden"))},e._updateShape=function(t){var e=t._attrs,n=t._cfg.attrs;if(n)if(t._cfg.el||this._createDom(t),"clip"in e&&this._setClip(t,e.clip),("shadowOffsetX"in e||"shadowOffsetY"in e||"shadowBlur"in e||"shadowColor"in e)&&this._setShadow(t),"text"!==t.type){for(var o in"fan"===t.type&&this._updateFan(t),"marker"===t.type&&t._cfg.el.setAttribute("d",this._assembleMarker(e)),"rect"===t.type&&t._cfg.el.setAttribute("d",this._assembleRect(e)),e)e[o]!==n[o]&&this._setAttribute(t,o,e[o]);t._cfg.attrs=r.deepMix({},t._attrs),t._cfg.hasUpdate=!1}else this._updateText(t)},e._setAttribute=function(t,e,n){var o=t.type,l=t._attrs,c=t._cfg.el,defs=this.context;if("marker"!==o&&"rect"!==o||!~["x","y","radius","r"].indexOf(e))if(~["circle","ellipse"].indexOf(o)&&~["x","y"].indexOf(e))c.setAttribute("c"+e,parseInt(n,10));else{if("polygon"===o&&"points"===e)return n&&0!==n.length||(n=""),r.isArray(n)&&(n=(n=n.map((function(t){return t[0]+","+t[1]}))).join(" ")),void c.setAttribute("points",n);if("path"===e&&r.isArray(n))c.setAttribute("d",this._formatPath(n));else if("img"!==e){if("transform"===e)return n?void this._setTransform(t):void c.removeAttribute("transform");if("rotate"===e)return n?void this._setTransform(t):void c.removeAttribute("transform");if("matrix"!==e)if("fillStyle"!==e&&"strokeStyle"!==e){if("clip"!==e)if(~e.indexOf("Arrow"))if(e=f[e],n){var h=null;h="boolean"==typeof n?defs.getDefaultArrow(l,e):defs.addArrow(l,e),c.setAttribute(e,"url(#"+h+")"),t._cfg[e]=h}else t._cfg[e]=null,c.removeAttribute(e);else"html"===e&&("string"==typeof n?c.innerHTML=n:(c.innerHTML="",c.appendChild(n))),f[e]&&c.setAttribute(f[e],n)}else this._setColor(t,e,n);else this._setTransform(t)}else this._setImage(t,n)}},e._createDom=function(t){var e=h[t.type],n=t._attrs;if(!e)throw new Error("the type"+t.type+"is not supported by svg");var r=document.createElementNS("http://www.w3.org/2000/svg",e);return t._cfg.el=r,t._cfg.parent&&t._cfg.parent.get("el").appendChild(r),t._cfg.attrs={},"text"===t.type?(r.setAttribute("paint-order","stroke"),r.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")):(n.stroke||n.strokeStyle||r.setAttribute("stroke","none"),n.fill||n.fillStyle||r.setAttribute("fill","none")),r},e._assembleMarker=function(t){var e=t.r;if(void 0===t.r&&(e=t.radius),isNaN(Number(t.x))||isNaN(Number(t.y))||isNaN(Number(e)))return"";var n="";return n="function"==typeof t.symbol?t.symbol(t.x,t.y,e):l.Symbols[t.symbol||"circle"](t.x,t.y,e),r.isArray(n)&&(n=n.map((function(path){return path.join(" ")})).join("")),n},e._assembleRect=function(t){var e=t.x,n=t.y,l=t.width,c=t.height,h=t.radius;if(!h)return"M "+e+","+n+" l "+l+",0 l 0,"+c+" l"+-l+" 0 z";var f=o(h);return r.isArray(h)?1===h.length?f.r1=f.r2=f.r3=f.r4=h[0]:2===h.length?(f.r1=f.r3=h[0],f.r2=f.r4=h[1]):3===h.length?(f.r1=h[0],f.r2=f.r4=h[1],f.r3=h[2]):(f.r1=h[0],f.r2=h[1],f.r3=h[2],f.r4=h[3]):f.r1=f.r2=f.r3=f.r4=h,[["M "+(e+f.r1)+","+n],["l "+(l-f.r1-f.r2)+",0"],["a "+f.r2+","+f.r2+",0,0,1,"+f.r2+","+f.r2],["l 0,"+(c-f.r2-f.r3)],["a "+f.r3+","+f.r3+",0,0,1,"+-f.r3+","+f.r3],["l "+(f.r3+f.r4-l)+",0"],["a "+f.r4+","+f.r4+",0,0,1,"+-f.r4+","+-f.r4],["l 0,"+(f.r4+f.r1-c)],["a "+f.r1+","+f.r1+",0,0,1,"+f.r1+","+-f.r1],["z"]].join(" ")},e._formatPath=function(t){return~(t=t.map((function(path){return path.join(" ")})).join("")).indexOf("NaN")?"":t},e._setTransform=function(t){for(var e=t._attrs.matrix,n=t._cfg.el,r=[],i=0;i<9;i+=3)r.push(e[i]+","+e[i+1]);-1===(r=r.join(",")).indexOf("NaN")?n.setAttribute("transform","matrix("+r+")"):console.warn("invalid matrix:",e)},e._setImage=function(t,img){var e=t._attrs,n=t._cfg.el;if(r.isString(img))n.setAttribute("href",img);else if(img instanceof Image)e.width||(n.setAttribute("width",img.width),t._attrs.width=img.width),e.height||(n.setAttribute("height",img.height),t._attrs.height=img.height),n.setAttribute("href",img.src);else if(img instanceof HTMLElement&&r.isString(img.nodeName)&&"CANVAS"===img.nodeName.toUpperCase())n.setAttribute("href",img.toDataURL());else if(img instanceof ImageData){var canvas=document.createElement("canvas");canvas.setAttribute("width",img.width),canvas.setAttribute("height",img.height),canvas.getContext("2d").putImageData(img,0,0),e.width||(n.setAttribute("width",img.width),t._attrs.width=img.width),e.height||(n.setAttribute("height",img.height),t._attrs.height=img.height),n.setAttribute("href",canvas.toDataURL())}},e._updateFan=function(t){function e(t,e,n){return{x:e*Math.cos(t)+n.x,y:e*Math.sin(t)+n.y}}var n=t._attrs,o=t._cfg,l={x:n.x,y:n.y},c=[],h=n.startAngle,f=n.endAngle;r.isNumberEqual(f-h,2*Math.PI)&&(f-=1e-5);var d=e(h,n.re,l),v=e(f,n.re,l),y=f>h?1:0,m=Math.abs(f-h)>Math.PI?1:0,x=n.rs,_=n.re,w=e(h,n.rs,l),S=e(f,n.rs,l);n.rs>0?(c.push("M "+v.x+","+v.y),c.push("L "+S.x+","+S.y),c.push("A "+x+","+x+",0,"+m+","+(1===y?0:1)+","+w.x+","+w.y),c.push("L "+d.x+" "+d.y)):(c.push("M "+l.x+","+l.y),c.push("L "+d.x+","+d.y)),c.push("A "+_+","+_+",0,"+m+","+y+","+v.x+","+v.y),n.rs>0?c.push("L "+S.x+","+S.y):c.push("Z"),o.el.setAttribute("d",c.join(" "))},e._updateText=function(t){var e=t._attrs,n=t._cfg.attrs,r=t._cfg.el;for(var o in this._setFont(t),e)if(e[o]!==n[o]){if("text"===o){this._setText(t,""+e[o]);continue}if("fillStyle"===o||"strokeStyle"===o){this._setColor(t,o,e[o]);continue}if("matrix"===o){this._setTransform(t);continue}f[o]&&r.setAttribute(f[o],e[o])}t._cfg.attrs=Object.assign({},t._attrs),t._cfg.hasUpdate=!1},e._setFont=function(t){var e=t.get("el"),n=t._attrs,r=n.fontSize;e.setAttribute("alignment-baseline",d[n.textBaseline]||"baseline"),e.setAttribute("text-anchor",v[n.textAlign]||"left"),r&&+r<12&&(n.matrix=[1,0,0,0,1,0,0,0,1],t.transform([["t",-n.x,-n.y],["s",+r/12,+r/12],["t",n.x,n.y]]))},e._setText=function(t,text){var e=t._cfg.el,n=t._attrs.textBaseline||"bottom";if(text)if(~text.indexOf("\n")){var o=t._attrs.x,l=text.split("\n"),c=l.length-1,h="";r.each(l,(function(t,i){0===i?"alphabetic"===n?h+='<tspan x="'+o+'" dy="'+-c+'em">'+t+"</tspan>":"top"===n?h+='<tspan x="'+o+'" dy="0.9em">'+t+"</tspan>":"middle"===n?h+='<tspan x="'+o+'" dy="'+-(c-1)/2+'em">'+t+"</tspan>":"bottom"===n?h+='<tspan x="'+o+'" dy="-'+(c+.3)+'em">'+t+"</tspan>":"hanging"===n&&(h+='<tspan x="'+o+'" dy="'+(-(c-1)-.3)+'em">'+t+"</tspan>"):h+='<tspan x="'+o+'" dy="1em">'+t+"</tspan>"})),e.innerHTML=h}else e.innerHTML=text;else e.innerHTML=""},e._setClip=function(t,e){var n=t._cfg.el;if(e)if(n.hasAttribute("clip-path"))e._cfg.hasUpdate&&this._updateShape(e);else{this._createDom(e),this._updateShape(e);var r=this.context.addClip(e);n.setAttribute("clip-path","url(#"+r+")")}else n.removeAttribute("clip-path")},e._setColor=function(t,e,n){var r=t._cfg.el,defs=this.context;if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var o=defs.find("gradient",n);o||(o=defs.addGradient(n)),r.setAttribute(f[e],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){var l=defs.find("pattern",n);l||(l=defs.addPattern(n)),r.setAttribute(f[e],"url(#"+l+")")}else r.setAttribute(f[e],n);else r.setAttribute(f[e],"none")},e._setShadow=function(t){var e=t._cfg.el,n=t._attrs,r={dx:n.shadowOffsetX,dy:n.shadowOffsetY,blur:n.shadowBlur,color:n.shadowColor};if(r.dx||r.dy||r.blur||r.color){var o=this.context.find("filter",r);o||(o=this.context.addShadow(r,this)),e.setAttribute("filter","url(#"+o+")")}else e.removeAttribute("filter")},t}();t.exports=y},function(t,e,n){var r=n(1),o=n(224),l=n(225),c=n(226),h=n(227),f=n(228),d=function(){function t(canvas){var t=document.createElementNS("http://www.w3.org/2000/svg","defs"),e=r.uniqueId("defs_");t.id=e,canvas.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=canvas}var e=t.prototype;return e.find=function(t,e){for(var n=this.children,r=null,i=0;i<n.length;i++)if(n[i].match(t,e)){r=n[i].id;break}return r},e.findById=function(t){for(var e=this.children,n=null,i=0;i<e.length;i++)if(e[i].id===t){n=e[i];break}return n},e.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},e.getDefaultArrow=function(t,e){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var r=new c(t,e);return this.defaultArrow[n]=r,this.el.appendChild(r.el),r.id},e.addGradient=function(t){var e=new o(t);return this.el.appendChild(e.el),this.add(e),e.id},e.addArrow=function(t,e){var n=new c(t,e);return this.el.appendChild(n.el),n.id},e.addShadow=function(t){var shadow=new l(t);return this.el.appendChild(shadow.el),this.add(shadow),shadow.id},e.addPattern=function(t){var pattern=new f(t);return this.el.appendChild(pattern.el),this.add(pattern),pattern.id},e.addClip=function(t){var e=new h(t);return this.el.appendChild(e.el),this.add(e),e.id},t}();t.exports=d},function(t,e,n){var r=n(1),o=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,l=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,c=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function h(t){var e=t.match(c);if(!e)return"";var n="";return e.sort((function(a,b){return a=a.split(":"),b=b.split(":"),Number(a[0])-Number(b[0])})),r.each(e,(function(t){t=t.split(":"),n+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'})),n}var f=function(){function t(t){var e=null,n=r.uniqueId("gradient_");return"l"===t.toLowerCase()[0]?function(t,e){var n,l,c=o.exec(t),f=r.mod(r.toRadian(parseFloat(c[1])),2*Math.PI),d=c[2];f>=0&&f<.5*Math.PI?(n={x:0,y:0},l={x:1,y:1}):.5*Math.PI<=f&&f<Math.PI?(n={x:1,y:0},l={x:0,y:1}):Math.PI<=f&&f<1.5*Math.PI?(n={x:1,y:1},l={x:0,y:0}):(n={x:0,y:1},l={x:1,y:0});var v=Math.tan(f),y=v*v,m=(l.x-n.x+v*(l.y-n.y))/(y+1)+n.x,x=v*(l.x-n.x+v*(l.y-n.y))/(y+1)+n.y;e.setAttribute("x1",n.x),e.setAttribute("y1",n.y),e.setAttribute("x2",m),e.setAttribute("y2",x),e.innerHTML=h(d)}(t,e=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")):function(t,e){var n=l.exec(t),r=parseFloat(n[1]),o=parseFloat(n[2]),c=parseFloat(n[3]),f=n[4];e.setAttribute("cx",r),e.setAttribute("cy",o),e.setAttribute("r",c),e.innerHTML=h(f)}(t,e=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")),e.setAttribute("id",n),this.el=e,this.id=n,this.cfg=t,this}return t.prototype.match=function(t,e){return this.cfg===e},t}();t.exports=f},function(t,e,n){var r=n(1),o={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},l={x:"-40%",y:"-40%",width:"200%",height:"200%"},c=function(){function t(t){this.type="filter";var e=document.createElementNS("http://www.w3.org/2000/svg","filter");return r.each(l,(function(t,n){e.setAttribute(n,t)})),this.el=e,this.id=r.uniqueId("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,e),this}var e=t.prototype;return e.match=function(t,e){if(this.type!==t)return!1;var n=!0,o=this.cfg;return r.each(Object.keys(o),(function(t){if(o[t]!==e[t])return n=!1,!1})),n},e.update=function(t,e){var n=this.cfg;return n[o[t]]=e,this._parseShadow(n,this.el),this},e._parseShadow=function(t,e){var n='<feDropShadow \n      dx="'+(t.dx||0)+'" \n      dy="'+(t.dy||0)+'" \n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=n},t}();t.exports=c},function(t,e,n){var r=n(1),o=function(){function t(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","marker"),o=r.uniqueId("marker_");n.setAttribute("id",o);var l=document.createElementNS("http://www.w3.org/2000/svg","path");return l.setAttribute("stroke","none"),l.setAttribute("fill",t.stroke||"#000"),n.appendChild(l),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=l,this.id=o,this.cfg=t["marker-start"===e?"startArrow":"endArrow"],this.stroke=t.stroke||"#000",!0===this.cfg?this._setDefaultPath(e,l):this._setMarker(t.lineWidth,l),this}var e=t.prototype;return e.match=function(){return!1},e._setDefaultPath=function(t,e){var n=this.el;e.setAttribute("d","M0,0 L6,3 L0,6 L3,3Z"),n.setAttribute("refX",3),n.setAttribute("refY",3)},e._setMarker=function(t,e){var n=this.el,path=this.cfg.path,o=this.cfg.d;r.isArray(path)&&(path=path.map((function(t){return t.join(" ")})).join("")),e.setAttribute("d",path),n.appendChild(e),o&&n.setAttribute("refX",o/t)},e.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},t}();t.exports=o},function(t,e,n){var r=n(1),o=function(){function t(t){this.type="clip";var e=document.createElementNS("http://www.w3.org/2000/svg","clipPath");this.el=e,this.id=r.uniqueId("clip_"),e.id=this.id;var n=t._cfg.el;return e.appendChild(n.cloneNode(!0)),this.cfg=t,this}var e=t.prototype;return e.match=function(){return!1},e.remove=function(){var t=this.el;t.parentNode.removeChild(t)},t}();t.exports=o},function(t,e,n){var r=n(1),o=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,l=function(){function t(t){var e=document.createElementNS("http://www.w3.org/2000/svg","pattern");e.setAttribute("patternUnits","userSpaceOnUse");var n=document.createElementNS("http://www.w3.org/2000/svg","image");e.appendChild(n);var l=r.uniqueId("pattern_");e.id=l,this.el=e,this.id=l,this.cfg=t;var source=o.exec(t)[2];n.setAttribute("href",source);var img=new Image;function c(){console.log(img.width,img.height),e.setAttribute("width",img.width),e.setAttribute("height",img.height)}return source.match(/^data:/i)||(img.crossOrigin="Anonymous"),img.src=source,img.complete?c():(img.onload=c,img.src=img.src),this}return t.prototype.match=function(t,e){return this.cfg===e},t}();t.exports=l},function(t,e){var n={svg:"svg",circle:"circle",rect:"rect",text:"text",path:"path",foreignObject:"foreignObject",polygon:"polygon",ellipse:"ellipse",image:"image"};t.exports=function(t,e,r){var o=r.target||r.srcElement;if(!n[o.tagName]){for(var l=o.parentNode;l&&!n[l.tagName];)l=l.parentNode;o=l}return this._cfg.el===o?this:this.find((function(t){return t._cfg&&t._cfg.el===o}))}},function(t,e,n){t.exports={addEventListener:n(231),createDom:n(94),getBoundingClientRect:n(232),getHeight:n(233),getOuterHeight:n(234),getOuterWidth:n(235),getRatio:n(236),getStyle:n(237),getWidth:n(238),modifyCSS:n(95),requestAnimationFrame:n(96)}},function(t,e){t.exports=function(t,e,n){if(t){if(t.addEventListener)return t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}};if(t.attachEvent)return t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}}}},function(t,e){t.exports=function(t,e){if(t&&t.getBoundingClientRect){var rect=t.getBoundingClientRect(),n=document.documentElement.clientTop,r=document.documentElement.clientLeft;return{top:rect.top-n,bottom:rect.bottom-n,left:rect.left-r,right:rect.right-r}}return e||null}},function(t,e){t.exports=function(t,e){var n=this.getStyle(t,"height",e);return"auto"===n&&(n=t.offsetHeight),parseFloat(n)}},function(t,e){t.exports=function(t,e){var n=this.getHeight(t,e),r=parseFloat(this.getStyle(t,"borderTopWidth"))||0,o=parseFloat(this.getStyle(t,"paddingTop"))||0,l=parseFloat(this.getStyle(t,"paddingBottom"))||0;return n+r+(parseFloat(this.getStyle(t,"borderBottomWidth"))||0)+o+l}},function(t,e){t.exports=function(t,e){var n=this.getWidth(t,e),r=parseFloat(this.getStyle(t,"borderLeftWidth"))||0,o=parseFloat(this.getStyle(t,"paddingLeft"))||0,l=parseFloat(this.getStyle(t,"paddingRight"))||0;return n+r+(parseFloat(this.getStyle(t,"borderRightWidth"))||0)+o+l}},function(t,e){t.exports=function(){return window.devicePixelRatio?window.devicePixelRatio:2}},function(t,e,n){var r=n(5);t.exports=function(t,e,n){try{return window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.currentStyle[e]}catch(t){return r(n)?null:n}}},function(t,e){t.exports=function(t,e){var n=this.getStyle(t,"width",e);return"auto"===n&&(n=t.offsetWidth),parseFloat(n)}},function(t,e,n){t.exports={contains:n(41),difference:n(240),find:n(241),firstValue:n(242),flatten:n(243),flattenDeep:n(244),getRange:n(245),merge:n(42),pull:n(90),pullAt:n(129),reduce:n(246),remove:n(247),sortBy:n(248),union:n(249),uniq:n(130),valuesOfKey:n(65)}},function(t,e,n){var filter=n(64),r=n(41);t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return filter(t,(function(t){return!r(e,t)}))}},function(t,e,n){var r=n(11),o=n(26),l=n(127);t.exports=function(t,e){var n=void 0;if(r(e)&&(n=e),o(e)&&(n=function(a){return l(a,e)}),n)for(var i=0;i<t.length;i+=1)if(n(t[i]))return t[i];return null}},function(t,e,n){var r=n(5),o=n(4);t.exports=function(data,t){for(var e=null,i=0;i<data.length;i++){var n=data[i][t];if(!r(n)){e=o(n)?n[0]:n;break}}return e}},function(t,e,n){var r=n(4),o=n(2);t.exports=function(t){if(!r(t))return t;var e=[];return o(t,(function(t){r(t)?o(t,(function(t){e.push(t)})):e.push(t)})),e}},function(t,e,n){var r=n(4);t.exports=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(r(e))for(var i=0;i<e.length;i+=1)t(e[i],n);else n.push(e);return n}},function(t,e,n){var filter=n(64),r=n(4);t.exports=function(t){if(!(t=filter(t,(function(t){return!isNaN(t)}))).length)return{min:0,max:0};if(r(t[0])){for(var e=[],i=0;i<t.length;i++)e=e.concat(t[i]);t=e}var n=Math.max.apply(null,t);return{min:Math.min.apply(null,t),max:n}}},function(t,e,n){var r=n(4),o=n(26),l=n(2);t.exports=function(t,e,n){if(!r(t)&&!o(t))return t;var c=n;return l(t,(function(data,i){c=e(c,data,i)})),c}},function(t,e,n){var r=n(13),o=n(129);t.exports=function(t,e){var n=[];if(!r(t))return n;for(var i=-1,l=[],c=t.length;++i<c;){var h=t[i];e(h,i,t)&&(n.push(h),l.push(i))}return o(t,l),n}},function(t,e,n){var r=n(10),o=n(11),l=n(4);t.exports=function(t,e){var n=void 0;if(o(e))n=function(a,b){return e(a)-e(b)};else{var c=[];r(e)?c.push(e):l(e)&&(c=e),n=function(a,b){for(var i=0;i<c.length;i+=1){var t=c[i];if(a[t]>b[t])return 1;if(a[t]<b[t])return-1}return 0}}return t.sort(n),t}},function(t,e,n){var r=n(2),o=n(34),l=n(130);t.exports=function(){var t=[],e=o(arguments);return r(e,(function(e){t=t.concat(e)})),l(t)}},function(t,e,n){t.exports={getWrapBehavior:n(251),wrapBehavior:n(252)}},function(t,e){t.exports=function(t,e){return t["_wrap_"+e]}},function(t,e){t.exports=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n}},function(t,e,n){var r=n(254);t.exports={number2color:r,numberToColor:r,parsePath:n(255),parseRadius:n(256)}},function(t,e){var n={};t.exports=function(t){var e=n[t];if(!e){for(var r=t.toString(16),i=r.length;i<6;i++)r="0"+r;e="#"+r,n[t]=e}return e}},function(t,e,n){var r=n(4),o=n(10),l=n(2),c=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,h=/[^\s\,]+/gi;t.exports=function(path){return r(path=path||[])?path:o(path)?(path=path.match(c),l(path,(function(t,e){if((t=t.match(h))[0].length>1){var n=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=n}l(t,(function(sub,i){isNaN(sub)||(t[i]=+sub)})),path[e]=t})),path):void 0}},function(t,e,n){var r=n(4);t.exports=function(t){var e=0,n=0,o=0,l=0;return r(t)?1===t.length?e=n=o=l=t[0]:2===t.length?(e=o=t[0],n=l=t[1]):3===t.length?(e=t[0],n=l=t[1],o=t[2]):(e=t[0],n=t[1],o=t[2],l=t[3]):e=n=o=l=t,{r1:e,r2:n,r3:o,r4:l}}},function(t,e,n){var r=n(35);t.exports={clamp:n(51),fixedBase:n(258),isDecimal:n(259),isEven:n(260),isInteger:n(261),isNegative:n(262),isNumberEqual:r,isOdd:n(263),isPositive:n(264),maxBy:n(131),minBy:n(265),mod:n(93),snapEqual:r,toDegree:n(92),toInt:n(132),toInteger:n(132),toRadian:n(91)}},function(t,e){t.exports=function(t,base){var e=base.toString(),n=e.indexOf(".");if(-1===n)return Math.round(t);var r=e.substr(n+1).length;return r>20&&(r=20),parseFloat(t.toFixed(r))}},function(t,e,n){var r=n(9);t.exports=function(t){return r(t)&&t%1!=0}},function(t,e,n){var r=n(9);t.exports=function(t){return r(t)&&t%2==0}},function(t,e,n){var r=n(9),o=Number.isInteger?Number.isInteger:function(t){return r(t)&&t%1==0};t.exports=o},function(t,e,n){var r=n(9);t.exports=function(t){return r(t)&&t<0}},function(t,e,n){var r=n(9);t.exports=function(t){return r(t)&&t%2!=0}},function(t,e,n){var r=n(9);t.exports=function(t){return r(t)&&t>0}},function(t,e,n){var r=n(4),o=n(11),l=n(2);t.exports=function(t,e){if(r(t)){var n=t[0],c=void 0;c=o(e)?e(t[0]):t[0][e];var data=void 0;return l(t,(function(t){(data=o(e)?e(t):t[e])<c&&(n=t,c=data)})),n}}},function(t,e,n){t.exports={forIn:n(267),has:n(133),hasKey:n(268),hasValue:n(269),keys:n(128),isMatch:n(127),values:n(134)}},function(t,e,n){t.exports=n(2)},function(t,e,n){t.exports=n(133)},function(t,e,n){var r=n(41),o=n(134);t.exports=function(t,e){return r(o(t),e)}},function(t,e,n){var r=n(271),o=n(138),l=n(137),c=n(140);t.exports={catmullRom2Bezier:c,catmullRomToBezier:c,fillPath:n(272),fillPathByDiff:n(273),formatPath:n(275),intersection:r,pathIntersection:r,parsePathArray:n(136),parsePathString:n(139),pathToAbsolute:o,path2absolute:o,pathTocurve:l,path2curve:l,rectPath:n(135)}},function(t,e,n){var r=n(4),o=n(135),l=n(137),c=function(t,e,n,r,o){return t*(t*(-3*e+9*n-9*r+3*o)+6*e-12*n+6*r)-3*e+3*n},h=function(t,e,n,r,o,l,h,f,d){null===d&&(d=1);for(var v=(d=d>1?1:d<0?0:d)/2,y=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],m=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],x=0,i=0;i<12;i++){var _=v*y[i]+v,w=c(_,t,n,o,h),S=c(_,e,r,l,f),M=w*w+S*S;x+=m[i]*Math.sqrt(M)}return v*x},f=function(t,e,n,r,o,l,c,h){for(var f=[],d=[[],[]],a=void 0,b=void 0,v=void 0,y=void 0,i=0;i<2;++i)if(0===i?(b=6*t-12*n+6*o,a=-3*t+9*n-9*o+3*c,v=3*n-3*t):(b=6*e-12*r+6*l,a=-3*e+9*r-9*l+3*h,v=3*r-3*e),Math.abs(a)<1e-12){if(Math.abs(b)<1e-12)continue;(y=-v/b)>0&&y<1&&f.push(y)}else{var m=b*b-4*v*a,x=Math.sqrt(m);if(!(m<0)){var _=(-b+x)/(2*a);_>0&&_<1&&f.push(_);var w=(-b-x)/(2*a);w>0&&w<1&&f.push(w)}}for(var S=f.length,M=S,C=void 0;S--;)C=1-(y=f[S]),d[0][S]=C*C*C*t+3*C*C*y*n+3*C*y*y*o+y*y*y*c,d[1][S]=C*C*C*e+3*C*C*y*r+3*C*y*y*l+y*y*y*h;return d[0][M]=t,d[1][M]=e,d[0][M+1]=c,d[1][M+1]=h,d[0].length=d[1].length=M+2,{min:{x:Math.min.apply(0,d[0]),y:Math.min.apply(0,d[1])},max:{x:Math.max.apply(0,d[0]),y:Math.max.apply(0,d[1])}}},d=function(t,e,n,r,o,l,c,h){if(!(Math.max(t,n)<Math.min(o,c)||Math.min(t,n)>Math.max(o,c)||Math.max(e,r)<Math.min(l,h)||Math.min(e,r)>Math.max(l,h))){var f=(t-n)*(l-h)-(e-r)*(o-c);if(f){var d=((t*r-e*n)*(o-c)-(t-n)*(o*h-l*c))/f,v=((t*r-e*n)*(l-h)-(e-r)*(o*h-l*c))/f,y=+d.toFixed(2),m=+v.toFixed(2);if(!(y<+Math.min(t,n).toFixed(2)||y>+Math.max(t,n).toFixed(2)||y<+Math.min(o,c).toFixed(2)||y>+Math.max(o,c).toFixed(2)||m<+Math.min(e,r).toFixed(2)||m>+Math.max(e,r).toFixed(2)||m<+Math.min(l,h).toFixed(2)||m>+Math.max(l,h).toFixed(2)))return{x:d,y:v}}}},v=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},y=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:o(t,e,n,r),vb:[t,e,n,r].join(" ")}},m=function(t,e,n,o,l,c,h,d){r(t)||(t=[t,e,n,o,l,c,h,d]);var v=f.apply(null,t);return y(v.min.x,v.min.y,v.max.x-v.min.x,v.max.y-v.min.y)},x=function(t,e,n,r,o,l,c,h,f){var d=1-f,v=Math.pow(d,3),y=Math.pow(d,2),m=f*f,x=m*f,_=t+2*f*(n-t)+m*(o-2*n+t),w=e+2*f*(r-e)+m*(l-2*r+e),S=n+2*f*(o-n)+m*(c-2*o+n),M=r+2*f*(l-r)+m*(h-2*l+r);return{x:v*t+3*y*f*n+3*d*f*f*o+x*c,y:v*e+3*y*f*r+3*d*f*f*l+x*h,m:{x:_,y:w},n:{x:S,y:M},start:{x:d*t+f*n,y:d*e+f*r},end:{x:d*o+f*c,y:d*l+f*h},alpha:90-180*Math.atan2(_-S,w-M)/Math.PI}},_=function(t,e,n){if(!function(t,e){return t=y(t),e=y(e),v(e,t.x,t.y)||v(e,t.x2,t.y)||v(e,t.x,t.y2)||v(e,t.x2,t.y2)||v(t,e.x,e.y)||v(t,e.x2,e.y)||v(t,e.x,e.y2)||v(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(m(t),m(e)))return n?0:[];for(var r=~~(h.apply(0,t)/8),o=~~(h.apply(0,e)/8),l=[],c=[],f={},_=n?0:[],i=0;i<r+1;i++){var w=x.apply(0,t.concat(i/r));l.push({x:w.x,y:w.y,t:i/r})}for(var S=0;S<o+1;S++){var M=x.apply(0,e.concat(S/o));c.push({x:M.x,y:M.y,t:S/o})}for(var C=0;C<r;C++)for(var A=0;A<o;A++){var k=l[C],P=l[C+1],T=c[A],I=c[A+1],O=Math.abs(P.x-k.x)<.001?"y":"x",L=Math.abs(I.x-T.x)<.001?"y":"x",E=d(k.x,k.y,P.x,P.y,T.x,T.y,I.x,I.y);if(E){if(f[E.x.toFixed(4)]===E.y.toFixed(4))continue;f[E.x.toFixed(4)]=E.y.toFixed(4);var D=k.t+Math.abs((E[O]-k[O])/(P[O]-k[O]))*(P.t-k.t),F=T.t+Math.abs((E[L]-T[L])/(I[L]-T[L]))*(I.t-T.t);D>=0&&D<=1&&F>=0&&F<=1&&(n?_++:_.push({x:E.x,y:E.y,t1:D,t2:F}))}}return _};t.exports=function(t,e){return function(t,e,n){t=l(t),e=l(e);for(var r=void 0,o=void 0,c=void 0,h=void 0,f=void 0,d=void 0,v=void 0,y=void 0,m=void 0,x=void 0,w=n?0:[],i=0,S=t.length;i<S;i++){var M=t[i];if("M"===M[0])r=f=M[1],o=d=M[2];else{"C"===M[0]?(m=[r,o].concat(M.slice(1)),r=m[6],o=m[7]):(m=[r,o,r,o,f,d,f,d],r=f,o=d);for(var C=0,A=e.length;C<A;C++){var k=e[C];if("M"===k[0])c=v=k[1],h=y=k[2];else{"C"===k[0]?(x=[c,h].concat(k.slice(1)),c=x[6],h=x[7]):(x=[c,h,c,h,v,y,v,y],c=v,h=y);var P=_(m,x,n);if(n)w+=P;else{for(var T=0,I=P.length;T<I;T++)P[T].segment1=i,P[T].segment2=C,P[T].bez1=m,P[T].bez2=x;w=w.concat(P)}}}}}return w}(t,e)}},function(t,e){function n(t,e){var n=[],r=[];return t.length&&function t(e,o){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var l=[],i=0;i<e.length-1;i++)0===i&&n.push(e[0]),i===e.length-2&&r.push(e[i+1]),l[i]=[(1-o)*e[i][0]+o*e[i+1][0],(1-o)*e[i][1]+o*e[i+1][1]];t(l,o)}}(t,e),{left:n,right:r.reverse()}}function r(t,e,r){if(1===r)return[[].concat(t)];var o=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])o=o.concat(function(t,e,r){var o=[[t[1],t[2]]];r=r||2;var l=[];"A"===e[0]?(o.push(e[6]),o.push(e[7])):"C"===e[0]?(o.push([e[1],e[2]]),o.push([e[3],e[4]]),o.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(o.push([e[1],e[2]]),o.push([e[3],e[4]])):o.push([e[1],e[2]]);for(var c=o,h=1/r,i=0;i<r-1;i++){var f=n(c,h/(1-h*i));l.push(f.left),c=f.right}return l.push(c),l.map((function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1])}))}(t,e,r));else{var l=[].concat(t);"M"===l[0]&&(l[0]="L");for(var i=0;i<=r-1;i++)o.push(l)}return o}t.exports=function(source,t){if(1===source.length)return source;var e=source.length-1,n=t.length-1,o=e/n,l=[];if(1===source.length&&"M"===source[0][0]){for(var i=0;i<n-e;i++)source.push(source[0]);return source}for(var c=0;c<n;c++){var h=Math.floor(o*c);l[h]=(l[h]||0)+1}var f=l.reduce((function(t,n,i){return i===e?t.concat(source[e]):t.concat(r(source[i],source[i+1],n))}),[]);return f.unshift(source[0]),"Z"!==t[n]&&"z"!==t[n]||f.push("Z"),f}},function(t,e,n){var r=n(274);function o(del,t,e){var n=null,r=e;return t<r&&(r=t,n="add"),del<r&&(r=del,n="del"),{type:n,min:r}}t.exports=function(source,t){var e=function(source,t){var e=source.length,n=t.length,l=void 0,c=void 0,h=0;if(0===e||0===n)return null;for(var f=[],i=0;i<=e;i++)f[i]=[],f[i][0]={min:i};for(var d=0;d<=n;d++)f[0][d]={min:d};for(var v=1;v<=e;v++){l=source[v-1];for(var y=1;y<=n;y++){c=t[y-1],h=r(l,c)?0:1;var del=f[v-1][y].min+1,m=f[v][y-1].min+1,x=f[v-1][y-1].min+h;f[v][y]=o(del,m,x)}}return f}(source,t),n=source.length,l=t.length,c=[],h=1,f=1;if(e[n][l]!==n){for(var i=1;i<=n;i++){var d=e[i][i].min;f=i;for(var v=h;v<=l;v++)e[i][v].min<d&&(d=e[i][v].min,f=v);h=f,e[i][h].type&&c.push({index:i-1,type:e[i][h].type})}for(var y=c.length-1;y>=0;y--)h=c[y].index,"add"===c[y].type?source.splice(h,0,[].concat(source[h])):source.splice(h,1)}if((n=source.length)<l)for(var m=0;m<l-n;m++)"z"===source[n-1][0]||"Z"===source[n-1][0]?source.splice(n-2,0,source[n-2]):source.push(source[n-1]);return source}},function(t,e,n){var r=n(2);t.exports=function(t,e){if(t.length!==e.length)return!1;var n=!0;return r(t,(function(t,i){if(t!==e[i])return n=!1,!1})),n}},function(t,e){function n(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}function r(t,e,r){for(var o=[].concat(t),l=void 0,c=1/(r+1),h=n(e)[0],i=1;i<=r;i++)c*=i,0===(l=Math.floor(t.length*c))?o.unshift([h[0]*c+t[l][0]*(1-c),h[1]*c+t[l][1]*(1-c)]):o.splice(l,0,[h[0]*c+t[l][0]*(1-c),h[1]*c+t[l][1]*(1-c)]);return o}t.exports=function(t,e){if(t.length<=1)return t;for(var o=void 0,i=0;i<e.length;i++)if(t[i][0]!==e[i][0])switch(o=n(t[i]),e[i][0]){case"M":t[i]=["M"].concat(o[0]);break;case"L":t[i]=["L"].concat(o[0]);break;case"A":t[i]=[].concat(e[i]),t[i][6]=o[0][0],t[i][7]=o[0][1];break;case"Q":if(o.length<2){if(!(i>0)){t[i]=e[i];break}o=r(o,t[i-1],1)}t[i]=["Q"].concat(o.reduce((function(t,i){return t.concat(i)}),[]));break;case"T":t[i]=["T"].concat(o[0]);break;case"C":if(o.length<3){if(!(i>0)){t[i]=e[i];break}o=r(o,t[i-1],2)}t[i]=["C"].concat(o.reduce((function(t,i){return t.concat(i)}),[]));break;case"S":if(o.length<2){if(!(i>0)){t[i]=e[i];break}o=r(o,t[i-1],1)}t[i]=["S"].concat(o.reduce((function(t,i){return t.concat(i)}),[]));break;default:t[i]=e[i]}return t}},function(t,e,n){var r={lc:n(277),lowerCase:n(141),lowerFirst:n(75),substitute:n(278),uc:n(279),upperCase:n(142),upperFirst:n(87)};t.exports=r},function(t,e,n){t.exports=n(141)},function(t,e){t.exports=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]})):t}},function(t,e,n){t.exports=n(142)},function(t,e,n){var r=n(12),o={getType:n(84),isArray:n(4),isArrayLike:n(13),isBoolean:n(82),isFunction:n(11),isNil:n(5),isNull:n(281),isNumber:n(9),isObject:n(25),isObjectLike:n(49),isPlainObject:n(26),isPrototype:n(85),isType:r,isUndefined:n(282),isString:n(10),isRegExp:n(283),isDate:n(80),isArguments:n(284),isError:n(285)};t.exports=o},function(t,e){t.exports=function(t){return null===t}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,n){var r=n(12);t.exports=function(t){return r(t,"RegExp")}},function(t,e,n){var r=n(12);t.exports=function(t){return r(t,"Arguments")}},function(t,e,n){var r=n(12);t.exports=function(t){return r(t,"Error")}},function(t,e){t.exports=function(t,e,n){var r=void 0;return function(){var o=this,l=arguments,c=function(){r=null,n||t.apply(o,l)},h=n&&!r;clearTimeout(r),r=setTimeout(c,e),h&&t.apply(o,l)}}},function(t,e,n){var r=n(13);t.exports=function(t,e){if(!r(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var o=-1,i=0;i<t.length;i++)if(t[i]===e){o=i;break}return o}},function(t,e,n){var r=n(11),o=n(50);t.exports=function(t,e,n){return r(n)?!!n(t,e):o(t,e)}},function(t,e,n){var r=n(2),o=n(13);t.exports=function(t,e){if(!o(t))return t;var n=[];return r(t,(function(t,r){n.push(e(t,r))})),n}},function(t,e,n){var r=n(2),o=n(26),l=Object.prototype.hasOwnProperty;t.exports=function(object,t){if(null===object||!o(object))return{};var e={};return r(t,(function(t){l.call(object,t)&&(e[t]=object[t])})),e}},function(t,e){t.exports=function(t,e,n){var r=void 0,o=void 0,l=void 0,c=void 0,h=0;n||(n={});var f=function(){h=!1===n.leading?0:Date.now(),r=null,c=t.apply(o,l),r||(o=l=null)},d=function(){var d=Date.now();h||!1!==n.leading||(h=d);var v=e-(d-h);return o=this,l=arguments,v<=0||v>e?(r&&(clearTimeout(r),r=null),h=d,c=t.apply(o,l),r||(o=l=null)):r||!1===n.trailing||(r=setTimeout(f,v)),c};return d.cancel=function(){clearTimeout(r),h=0,r=o=l=null},d}},function(t,e,n){var r=n(0),o=n(16),l=r.PathUtil;function c(t,e){var n,o,l=function(t){if(r.isEmpty(t))return null;var e=t[0].x,n=t[0].x,o=t[0].y,l=t[0].y;return r.each(t,(function(t){e=e>t.x?t.x:e,n=n<t.x?t.x:n,o=o>t.y?t.y:o,l=l<t.y?t.y:l})),{minX:e,maxX:n,minY:o,maxY:l,centerX:(e+n)/2,centerY:(o+l)/2}}(t.points||t.get("origin").points),c=e.startAngle,h=e.endAngle-c;return e.isTransposed?(n=l.maxY*h,o=l.minY*h):(n=l.maxX*h,o=l.minX*h),{startAngle:o+=c,endAngle:n+=c}}function h(t,e,n){var o={};return t.delay&&(o.delay=r.isFunction(t.delay)?t.delay(e,n):t.delay),o.easing=r.isFunction(t.easing)?t.easing(e,n):t.easing,o.duration=r.isFunction(t.duration)?t.duration(e,n):t.duration,o.callback=t.callback,o}function f(t,e){var n,r=t._id,o=t.get("index"),l=t.getBBox(),c=t.get("origin").points,f=(l.minX+l.maxX)/2,d=[f,n=c[0].y-c[1].y<=0?l.maxY:l.minY,1];t.apply(d),t.attr("transform",[["t",-f,-n],["s",1,.01],["t",f,n]]);var v={transform:[["t",-f,-n],["s",1,100],["t",f,n]]},y=h(e,o,r);t.animate(v,y.duration,y.easing,y.callback,y.delay)}function d(t,e){var n,r=t._id,o=t.get("index"),l=t.getBBox(),c=t.get("origin").points,f=(l.minY+l.maxY)/2,d=[n=c[0].y-c[1].y>0?l.maxX:l.minX,f,1];t.apply(d),t.attr({transform:[["t",-n,-f],["s",.01,1],["t",n,f]]});var v={transform:[["t",-n,-f],["s",100,1],["t",n,f]]},y=h(e,o,r);t.animate(v,y.duration,y.easing,y.callback,y.delay)}function v(t,e,n){var r,o,l=t._id,c=t.get("index");if(n.isPolar&&"point"!==t.name)r=n.getCenter().x,o=n.getCenter().y;else{var f=t.getBBox();r=(f.minX+f.maxX)/2,o=(f.minY+f.maxY)/2}var d=[r,o,1];t.apply(d),t.attr({transform:[["t",-r,-o],["s",.01,.01],["t",r,o]]});var v={transform:[["t",-r,-o],["s",100,100],["t",r,o]]},y=h(e,c,l);t.animate(v,y.duration,y.easing,y.callback,y.delay)}function y(t,e){if("path"===t.get("type")){var n=t._id,r=t.get("index"),path=l.pathToAbsolute(t.attr("path"));t.attr("path",[path[0]]);var o={path:path},c=h(e,r,n);t.animate(o,c.duration,c.easing,c.callback,c.delay)}}function m(t,e,n,r,l){var c,f=function(t){var e,n,r,l,c,h=t.start,f=t.end,d=t.getWidth(),v=t.getHeight();return t.isPolar?(l=t.getRadius(),r=t.getCenter(),e=t.startAngle,n=t.endAngle,(c=new o.Fan({attrs:{x:r.x,y:r.y,rs:0,re:l+200,startAngle:e,endAngle:e}})).endState={endAngle:n}):(c=new o.Rect({attrs:{x:h.x-200,y:f.y-200,width:t.isTransposed?d+400:0,height:t.isTransposed?0:v+400}}),t.isTransposed?c.endState={height:v+400}:c.endState={width:d+400}),c.isClip=!0,c}(n),canvas=t.get("canvas"),d=t._id,v=t.get("index");r?(f.attr("startAngle",r),f.attr("endAngle",r),c={endAngle:l}):c=f.endState,f.set("canvas",canvas),t.attr("clip",f),t.setSilent("animating",!0);var y=h(e,v,d);f.animate(c,y.duration,y.easing,(function(){t&&!t.get("destroyed")&&(t.attr("clip",null),t.setSilent("cacheShape",null),t.setSilent("animating",!1),f.remove())}),y.delay)}function x(t,e){var n=t._id,o=t.get("index"),l=r.isNil(t.attr("fillOpacity"))?1:t.attr("fillOpacity"),c=r.isNil(t.attr("strokeOpacity"))?1:t.attr("strokeOpacity");t.attr("fillOpacity",0),t.attr("strokeOpacity",0);var f={fillOpacity:l,strokeOpacity:c},d=h(e,o,n);t.animate(f,d.duration,d.easing,d.callback,d.delay)}function _(t,e,n){var r=c(t,n),o=r.endAngle;m(t,e,n,r.startAngle,o)}t.exports={enter:{clipIn:m,zoomIn:v,pathIn:y,scaleInY:f,scaleInX:d,fanIn:_,fadeIn:x},leave:{lineWidthOut:function(t,e){var n={lineWidth:0,opacity:0},r=t._id,o=h(e,t.get("index"),r);t.animate(n,o.duration,o.easing,(function(){t.remove()}),o.delay)},zoomOut:function(t,e,n){var r,o,l=t._id,c=t.get("index");if(n.isPolar&&"point"!==t.name)r=n.getCenter().x,o=n.getCenter().y;else{var f=t.getBBox();r=(f.minX+f.maxX)/2,o=(f.minY+f.maxY)/2}var d=[r,o,1];t.apply(d);var v={transform:[["t",-r,-o],["s",.01,.01],["t",r,o]]},y=h(e,c,l);t.animate(v,y.duration,y.easing,(function(){t.remove()}),y.delay)},pathOut:function(t,e){if("path"===t.get("type")){var n=t._id,r=t.get("index"),o={path:[l.pathToAbsolute(t.attr("path"))[0]]},c=h(e,r,n);t.animate(o,c.duration,c.easing,(function(){t.remove()}),c.delay)}},fadeOut:function(t,e){var n=t._id,r={fillOpacity:0,strokeOpacity:0},o=h(e,t.get("index"),n);t.animate(r,o.duration,o.easing,(function(){t.remove()}),o.delay)}},appear:{clipIn:m,zoomIn:v,pathIn:y,scaleInY:f,scaleInX:d,fanIn:_,fadeIn:x},update:{fadeIn:x,fanIn:_,lineSlideLeft:function(t,e,n){if("line"===t.name){var canvas=t.get("canvas"),r=t.get("cacheShape"),c=t._id,f=t.get("index"),d=new o.Rect({attrs:{x:n.start.x,y:n.end.y,width:n.getWidth(),height:n.getHeight()}});d.isClip=!0,d.set("canvas",canvas);var v=l.pathToAbsolute(r.attrs.path),y=l.pathToAbsolute(t.attr("path")),m=v[1][1]-v[0][1],x=v[v.length-1][1]+m,_=y[y.length-1][2],w=v.concat([["L",x,_]]);t.apply([0,0,1]),t.attr("clip",d),t.attr("path",w);var S={transform:[["t",-m,0]]},M=h(e,f,c);t.animate(S,M.duration,M.easing,(function(){t&&!t.get("destroyed")&&(t.attr("path",y),t.attr({transform:[["t",m,0]]}),t.attr("clip",null),t.setSilent("cacheShape",null),d.remove())}),M.delay)}},areaSlideLeft:function(t,e,n){if("area"===t.name){var canvas=t.get("canvas"),r=t.get("cacheShape"),c=t._id,f=t.get("index"),d=new o.Rect({attrs:{x:n.start.x,y:n.end.y,width:n.getWidth(),height:n.getHeight()}});d.isClip=!0,d.set("canvas",canvas);var v=l.pathToAbsolute(r.attrs.path),y=l.pathToAbsolute(t.attr("path")),m=v[1][1]-v[0][1],x=Math.floor(v.length/2),_=v[x-1][1]+m,w=y[x-1][2],S=[].concat(v.slice(0,x),[["L",_,w],["L",_,y[x][2]]],v.slice(x));t.apply([0,0,1]),t.attr("clip",d),t.attr("path",S);var M={transform:[["t",-m,0]]},C=h(e,f,c);t.animate(M,C.duration,C.easing,(function(){t&&!t.get("destroyed")&&(t.attr("path",y),t.attr({transform:[["t",m,0]]}),t.attr("clip",null),t.setSilent("cacheShape",null),d.remove())}),C.delay)}}}}},function(t,e,n){var r=n(147),o=n(21),l=n(0),c=n(165),h=n(7),f=n(150),d=n(357);function v(t,e,n){var r=(t-e)/(n-e);return r>=0&&r<=1}function y(t,e){var n=!1;if(t)if("theta"===t.type){var r=t.start,o=t.end;n=v(e.x,r.x,o.x)&&v(e.y,r.y,o.y)}else{var l=t.invert(e);n=l.x>=0&&l.y>=0&&l.x<=1&&l.y<=1}return n}var m={};l.each(o,(function(t,e){var n=l.lowerFirst(e);m[n]=function(e){var n=new t(e);return this.addGeom(n),n}}));var x=function(t){var e,n;n=t,(e=v).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=v.prototype;function v(e){var n,r=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n=t.call(this,e)||this);return r._setTheme(),l.each(o,(function(t,e){var n=l.lowerFirst(e);r[n]=function(e){void 0===e&&(e={}),e.viewTheme=r.get("viewTheme");var n=new t(e);return r.addGeom(n),n}})),r.init(),n}return r.getDefaultCfg=function(){return{viewContainer:null,coord:null,start:{x:0,y:0},end:{x:1,y:1},geoms:[],scales:{},options:{},scaleController:null,padding:0,theme:null,parent:null,tooltipEnable:!0,animate:h.animate,visible:!0}},r._setTheme=function(){var t=this.get("theme"),e={},n={};l.isObject(t)?n=t:-1!==l.indexOf(Object.keys(f),t)&&(n=f[t]),l.deepMix(e,h,n),this.set("viewTheme",e)},r.init=function(){this._initViewPlot(),this.get("data")&&this._initData(this.get("data")),this._initOptions(),this._initControllers(),this._bindEvents()},r._initOptions=function(){var t=this,e=l.mix({},t.get("options"));e.scales||(e.scales={}),e.coord||(e.coord={}),!1===e.animate&&this.set("animate",!1),(!1===e.tooltip||l.isNull(e.tooltip))&&this.set("tooltipEnable",!1),e.geoms&&e.geoms.length&&l.each(e.geoms,(function(e){t._createGeom(e)}));var n=t.get("scaleController");n&&(n.defs=e.scales);var r=t.get("coordController");r&&r.reset(e.coord),this.set("options",e)},r._createGeom=function(t){var e,n=t.type;this[n]&&(e=this[n](),l.each(t,(function(t,n){var r;e[n]&&(l.isObject(t)&&t.field?"label"===t?e[n](t.field,t.callback,t.cfg):(l.each(t,(function(t,e){"field"!==e&&(r=t)})),e[n](t.field,r)):e[n](t))})))},r._initControllers=function(){var t=this.get("options"),e=this.get("viewTheme"),canvas=this.get("canvas"),n=new c.Scale({viewTheme:e,defs:t.scales}),r=new c.Coord(t.coord);this.set("scaleController",n),this.set("coordController",r);var o=new c.Axis({canvas:canvas,viewTheme:e});this.set("axisController",o);var l=new c.Guide({viewTheme:e,options:t.guides||[]});this.set("guideController",l)},r._initViewPlot=function(){this.get("viewContainer")||this.set("viewContainer",this.get("middlePlot"))},r._initGeoms=function(){for(var t=this.get("geoms"),e=this.get("filteredData"),n=this.get("coord"),r=this.get("_id"),i=0;i<t.length;i++){var o=t[i];o.set("data",e),o.set("coord",n),o.set("_id",r+"-geom"+i),o.set("keyFields",this.get("keyFields")),o.init()}},r._clearGeoms=function(){for(var t=this.get("geoms"),i=0;i<t.length;i++)t[i].clear()},r._removeGeoms=function(){for(var t=this.get("geoms");t.length>0;)t.shift().destroy()},r._drawGeoms=function(){this.emit("beforedrawgeoms");for(var t=this.get("geoms"),e=this.get("coord"),i=0;i<t.length;i++){var n=t[i];n.setCoord(e),n.paint()}this.emit("afterdrawgeoms")},r.isShapeInView=function(t){var e=this.get("_id"),n=t._id;if(n)return n.split("-")[0]===e;for(var r=t;r;){if(r.get("viewId")===e)return!0;r=r.get("parent")}return!1},r.getViewRegion=function(){var t,e,n=this.get("parent");if(n){var r=n.getViewRegion(),o=this._getViewRegion(r.start,r.end);t=o.start,e=o.end}else t=this.get("start"),e=this.get("end");return{start:t,end:e}},r._getViewRegion=function(t,e){var n=this.get("start"),r=this.get("end"),o=n.x,c=1-r.y,h=r.x,f=1-n.y,d=this.get("padding"),v=l.toAllPadding(d),y=v[0],m=v[1],x=v[2],_=v[3];return{start:{x:o*(e.x-t.x)+t.x+_,y:c*(e.y-t.y)+t.y-x},end:{x:h*(e.x-t.x)+t.x-m,y:f*(e.y-t.y)+t.y+y}}},r._createCoord=function(){var t=this.get("coordController"),e=this.getViewRegion(),n=t.createCoord(e.start,e.end);this.set("coord",n)},r._renderAxes=function(){var t=this.get("options").axes;if(!1!==t){var e=this.get("axisController");e.container=this.get("backPlot"),e.coord=this.get("coord"),e.options=t||{};var n=this.getXScale(),r=this.getYScales(),o=this.get("_id");e.createAxis(n,r,o)}},r._renderGuides=function(){var t=this.get("guideController");if(!l.isEmpty(t.options)){var e=this.get("coord");t.view=this,t.backContainer=this.get("backPlot"),t.frontContainer=this.get("frontPlot"),t.xScales=this._getScales("x"),t.yScales=this._getScales("y"),t.render(e)}},r._bindEvents=function(){var t=new c.Event({view:this,canvas:this.get("canvas")});t.bindEvents(),this.set("eventController",t)},r._clearEvents=function(){var t=this.get("eventController");t&&t.clearEvents()},r._getScales=function(t){for(var e=this.get("geoms"),n={},i=0;i<e.length;i++){var r=e[i],o="x"===t?r.getXScale():r.getYScale();o&&!n[o.field]&&(n[o.field]=o)}return n},r._adjustScale=function(){this._setCatScalesRange();for(var t=this.get("geoms"),e=this.get("scaleController").defs,i=0;i<t.length;i++){var n=t[i];if("interval"===n.get("type")){var r=n.getYScale(),o=r.field,l=r.min,c=r.max,h=r.type;e[o]&&e[o].min||"time"===h||(l>0?r.change({min:0}):c<=0&&r.change({max:0}))}}},r._setCatScalesRange=function(){var t=this.get("coord"),e=this.get("viewTheme"),n=this.getXScale(),r=this.getYScales(),o=[];n&&o.push(n),o=o.concat(r);var c=t.isPolar&&function(t){var e=t.startAngle,n=t.endAngle;return!(!l.isNil(e)&&!l.isNil(n)&&n-e<2*Math.PI)}(t),h=this.get("scaleController").defs;l.each(o,(function(n){if((n.isCategory||n.isIdentity)&&n.values&&(!h[n.field]||!h[n.field].range)){var r,o=n.values.length;if(1===o)r=[.5,1];else{var l=0;r=c?t.isTransposed?[(l=1/o*e.widthRatio.multiplePie)/2,1-l/2]:[0,1-1/o]:[l=1/o*1/2,1-l]}n.range=r}}))},r.getXScale=function(){var t=this.get("geoms"),e=null;return l.isEmpty(t)||(e=t[0].getXScale()),e},r.getYScales=function(){for(var t=this.get("geoms"),e=[],i=0;i<t.length;i++){var n=t[i].getYScale();n&&-1===l.indexOf(e,n)&&e.push(n)}return e},r.getXY=function(t){var e,n,r=this.get("coord"),o=this._getScales("x"),c=this._getScales("y");for(var h in t)o[h]&&(e=o[h].scale(t[h])),c[h]&&(n=c[h].scale(t[h]));return l.isNil(e)||l.isNil(n)?null:r.convert({x:e,y:n})},r.getSnapRecords=function(t){var e=this.get("geoms"),n=[];return l.each(e,(function(e){var r,o=e.get("dataArray");l.each(o,(function(data){(r=e.findPoint(t,data))&&n.push(r)}))})),n},r.addGeom=function(t){this.get("geoms").push(t),t.set("view",this);var e=this.get("viewContainer");t.set("container",e),t.set("animate",this.get("animate")),t.bindEvents()},r.removeGeom=function(t){var e=this.get("geoms");l.Array.remove(e,t),t.destroy()},r.createScale=function(t,data){var e=this.get("scales"),n=this.get("parent"),r=e[t];if(!data){var o=this.get("filteredData"),l=this._getFieldsForLegend();data=o.length&&!l.includes(t)?o:this.get("data")}var c=this.get("scaleController");if(r){if(r.sync){var h=c.createScale(t,data);this._syncScale(r,h)}}else{if((r=c.createScale(t,data)).sync&&n){var f=n.createScale(t,data);r=this._getSyncScale(f,r)}e[t]=r}return r},r._getFieldsForLegend=function(){var t=[],e=this.get("geoms");return l.each(e,(function(e){var n=e.getFieldsForLegend();t=t.concat(n)})),l.uniq(t)},r._getSyncScale=function(t,e){return t.type!==e.type?e:(this._syncScale(t,e),t)},r._syncScale=function(t,e){var n=l.union(t.values,e.values);if(e.isLinear){var r=Math.max(t.max,e.max),o=Math.min(t.min,e.min);t.max===r&&t.min===o||t.change({min:o,max:r,values:n})}n.length!==t.values.length&&t.change({values:n})},r.getFilteredValues=function(t){var e=this.get("scales")[t].values,n=this._getFilters();return n&&n[t]?e.filter(n[t]):e.slice(0)},r.getFilteredOutValues=function(t){var e=this.get("scales")[t].values,n=this._getFilters();return n&&n[t]?e.filter((function(){return!n[t].apply(n,arguments)})):[]},r.filter=function(t,e){var n=this.get("options");n.filters||(n.filters={}),n.filters[t]=e,this.get("scaleController").filters=n.filters},r._getFilters=function(){return this.get("options").filters},r.execFilter=function(data){var t=this._getFilters();return t&&(data=data.filter((function(e){var n=!0;return l.each(t,(function(t,r){if(t&&!(n=t(e[r],e)))return!1})),n}))),data},r.axis=function(t,e){var n=this.get("options");return!1===t?n.axes=!1:(n.axes||(n.axes={}),n.axes[t]=e),this},r.guide=function(){return this.get("guideController")},r._getKeyFields=function(t){var e=[];l.each(t,(function(t,n){t.key&&e.push(n)})),this.set("keyFields",e)},r.scale=function(t,e){var n=this.get("options").scales;return l.isObject(t)?l.mix(n,t):n[t]=e,this._getKeyFields(n),this},r.tooltip=function(t){return this.set("tooltipEnable",t),this},r.animate=function(t){return this.get("options").animate=t,this.set("animate",t),this},r.changeOptions=function(t){return this.set("options",t),this._initOptions(t),this},r.getViewsByPoint=function(t){var e=[],n=this.get("views");return y(this.get("coord"),t)&&e.push(this),l.each(n,(function(view){view.get("visible")&&y(view.get("coord"),t)&&e.push(view)})),e},r.eachShape=function(t){var e=this,n=e.get("views"),canvas=e.get("canvas");l.each(n,(function(view){view.eachShape(t)}));var r=this.get("geoms");return l.each(r,(function(n){var r=n.getShapes();l.each(r,(function(r){var o=r.get("origin");if(l.isArray(o)){var c=o.map((function(t){return t._origin}));t(c,r,n,e)}else{var h=o._origin;t(h,r,n,e)}}))})),canvas.draw(),this},r.filterShape=function(t){return this.eachShape((function(e,n,r,view){t(e,n,r,view)?n.show():n.hide()})),this},r.clearInner=function(){this.set("scales",{}),this.emit("beforeclearinner"),this.get("options").geoms=null,this._clearGeoms(),this.get("guideController")&&this.get("guideController").reset(),this.get("axisController")&&this.get("axisController").clear(),this.emit("afterclearinner")},r.clear=function(){return this.get("options").filters=null,this._removeGeoms(),this.clearInner(),this.get("guideController")&&this.get("guideController").clear(),this.set("isUpdate",!1),this.set("keyFields",[]),this},r.coord=function(t,e){var n=this.get("coordController");return n.reset({type:t,cfg:e}),n},r.resetCoord=function(){this._createCoord()},r.source=function(data,t){return this._initData(data),t&&this.scale(t),this.emit("setdata"),this},r.changeData=function(data){return this.emit("beforechangedata"),this._initData(data),this.emit("afterchangedata"),this.repaint(),this},r._initData=function(data){var t=this.get("dataView");t&&(t.off("change",l.getWrapBehavior(this,"_onViewChange")),this.set("dataView",null)),data&&data.isDataView&&(data.on("change",l.wrapBehavior(this,"_onViewChange")),this.set("dataView",data),data=data.rows),this.set("data",data)},r._onViewChange=function(){this.emit("beforechangedata");var t=this.get("dataView").rows;this.set("data",t),this.emit("afterchangedata"),this.repaint()},r.beforeRender=function(){var t=this.get("views");l.each(t,(function(view){view.beforeRender()})),this.initView()},r.drawComponents=function(){var t=this.get("views");l.each(t,(function(view){view.drawComponents()})),this._renderAxes(),this._renderGuides()},r.drawCanvas=function(t){if(!t){var e=this.get("views");this.get("backPlot").sort();var canvas=this.get("canvas");if(this.get("animate")){var n=this.get("isUpdate");l.each(e,(function(view){d.execAnimation(view,n)})),d.execAnimation(this,n)}else canvas.draw()}},r.render=function(t){return this.clearInner(),this.emit("beforerender"),this.beforeRender(),this.emit("beforepaint"),this.drawComponents(),this.paint(),this.emit("afterpaint"),this.drawCanvas(t),this.emit("afterrender"),this.set("rendered",!0),this},r.initView=function(){var data=this.get("data")||[],t=this.execFilter(data);this.set("filteredData",t),this._createCoord(),this.emit("beforeinitgeoms"),this._initGeoms(),this._adjustScale()},r.paint=function(){var t=this.get("views");l.each(t,(function(view){view.paint()}));var data=this.get("data");l.isEmpty(data)||this._drawGeoms(),this.get("visible")||this.changeVisible(!1,!0)},r.changeVisible=function(t,e){var n=this.get("geoms");l.each(n,(function(e){e.changeVisible(t,!0)})),this.get("axisController")&&this.get("axisController").changeVisible(t),this.get("guideController")&&this.get("guideController").changeVisible(t),e||this.get("canvas").draw()},r.repaint=function(){this.set("isUpdate",!0),this.clearInner(),this.render()},r.destroy=function(){this._clearEvents();var e=this.get("dataView");e&&e.off("change",l.getWrapBehavior(this,"_onViewChange")),this.clear(),t.prototype.destroy.call(this)},v}(r);t.exports=x},function(t,e,n){var r=n(5),o=n(4),l=n(2),c=function(t){var e,n;function c(e){var n;return(n=t.call(this,e)||this).names=["x","y"],n.type="position",n}return n=t,(e=c).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,c.prototype.mapping=function(t,e){var n,c,h,f=this.scales,d=this.coord,v=f[0],y=f[1];if(r(t)||r(e))return[];if(o(e)&&o(t)){n=[],c=[];for(var i=0,m=0,x=t.length,_=e.length;i<x&&m<_;i++,m++)h=d.convertPoint({x:v.scale(t[i]),y:y.scale(e[m])}),n.push(h.x),c.push(h.y)}else if(o(e))t=v.scale(t),c=[],l(e,(function(e){e=y.scale(e),h=d.convertPoint({x:t,y:e}),n&&n!==h.x?(o(n)||(n=[n]),n.push(h.x)):n=h.x,c.push(h.y)}));else if(o(t))e=y.scale(e),n=[],l(t,(function(t){t=v.scale(t),h=d.convertPoint({x:t,y:e}),c&&c!==h.y?(o(c)||(c=[c]),c.push(h.y)):c=h.y,n.push(h.x)}));else{t=v.scale(t),e=y.scale(e);var w=d.convertPoint({x:t,y:e});n=w.x,c=w.y}return[n,c]},c}(n(29));t.exports=c},function(t,e,n){var r=n(10),o=n(148),l=function(t){var e,n;function l(e){var n;return(n=t.call(this,e)||this).names=["color"],n.type="color",n.gradient=null,r(n.values)&&(n.linear=!0),n}return n=t,(e=l).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,l.prototype.getLinearValue=function(t){var e=this.gradient;if(!e){var n=this.values;e=o.gradient(n),this.gradient=e}return e(t)},l}(n(29));t.exports=l},function(t,e,n){var r=function(t){var e,n;function r(e){var n;return(n=t.call(this,e)||this).names=["shape"],n.type="shape",n.gradient=null,n}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r.prototype.getLinearValue=function(t){var e=this.values;return e[Math.round((e.length-1)*t)]},r}(n(29));t.exports=r},function(t,e,n){var r=function(t){var e,n;function r(e){var n;return(n=t.call(this,e)||this).names=["size"],n.type="size",n.gradient=null,n}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r}(n(29));t.exports=r},function(t,e,n){var r=function(t){var e,n;function r(e){var n;return(n=t.call(this,e)||this).names=["opacity"],n.type="opacity",n.gradient=null,n}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r}(n(29));t.exports=r},function(t,e,n){var r=n(8),o=n(30),l=n(300),c=n(301),h=n(149),f=n(302),d=n(303);r(o.prototype,h),r(l.prototype,h,f),r(c.prototype,d),o.Jitter=n(304),o.Symmetric=n(305),o.Dodge=l,o.Stack=c,t.exports=o},function(t,e,n){var r=n(30),o=n(2),l=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var l=r.prototype;return l._initDefaultCfg=function(){this.marginRatio=.5,this.dodgeRatio=.5,this.adjustNames=["x","y"]},l.getDodgeOffset=function(t,e,n){var pre=t.pre,r=t.next,o=r-pre,l=o*this.dodgeRatio/n,c=this.marginRatio*l;return(pre+r)/2+(.5*(o-n*l-(n-1)*c)+((e+1)*l+e*c)-.5*l-.5*o)},l.processAdjust=function(t){var e=this,n=t.length,r=e.xField;o(t,(function(data,t){for(var i=0,o=data.length;i<o;i++){var l=data[i],c=l[r],h={pre:1===o?c-1:c-.5,next:1===o?c+1:c+.5},f=e.getDodgeOffset(h,t,n);l[r]=f}}))},r}(r);r.Dodge=l,t.exports=l},function(t,e,n){var r=n(4),o=n(5),l=n(30),c=function(t){var e,n;function l(){return t.apply(this,arguments)||this}n=t,(e=l).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var c=l.prototype;return c._initDefaultCfg=function(){this.xField=null,this.yField=null},c.processAdjust=function(t){this.processStack(t)},c.processStack=function(t){var e=this.xField,n=this.yField,l=t.length,c={positive:{},negative:{}};this.reverseOrder&&(t=t.slice(0).reverse());for(var i=0;i<l;i++)for(var data=t[i],h=0,f=data.length;h<f;h++){var d=data[h],v=d[e]||0,y=d[n],m=v.toString();if(y=r(y)?y[1]:y,!o(y)){var x=y>=0?"positive":"negative";c[x][m]||(c[x][m]=0),d[n]=[c[x][m],y+c[x][m]],c[x][m]+=y}}},l}(l);l.Stack=c,t.exports=c},function(t,e,n){var r={merge:n(42),values:n(65)},o=n(143),l=n(2);t.exports={processAdjust:function(t){var e=r.merge(t),n=this.dodgeBy,l=t;n&&(l=o(e,n)),this.cacheMap={},this.adjDataArray=l,this.mergeData=e,this.adjustData(l,e),this.adjDataArray=null,this.mergeData=null},getDistribution:function(t){var e=this.adjDataArray,n=this.cacheMap,map=n[t];return map||(map={},l(e,(function(data,e){var n=r.values(data,t);n.length||n.push(0),l(n,(function(t){map[t]||(map[t]=[]),map[t].push(e)}))})),n[t]=map),map},adjustDim:function(t,e,data,n,r){var o=this,map=o.getDistribution(t),c=o.groupData(data,t);l(c,(function(n,c){var h;c=parseFloat(c),h=1===e.length?{pre:e[0]-1,next:e[0]+1}:o.getAdjustRange(t,c,e),l(n,(function(e){var n=e[t],l=map[n],c=l.indexOf(r);e[t]=o.getDodgeOffset(h,c,l.length)}))}))}}},function(t,e){t.exports={_initDefaultCfg:function(){this.xField=null,this.yField=null,this.height=null,this.size=10,this.reverseOrder=!1,this.adjustNames=["y"]},processOneDimStack:function(t){var e=this.xField,n=this.yField||"y",r=this.height,o={};this.reverseOrder&&(t=t.slice(0).reverse());for(var i=0,l=t.length;i<l;i++)for(var data=t[i],c=0,h=data.length;c<h;c++){var f=data[c],d=2*(f.size||this.size)/r,v=f[e];o[v]||(o[v]=d/2),f[n]=o[v],o[v]+=d}},processAdjust:function(t){this.yField?this.processStack(t):this.processOneDimStack(t)}}},function(t,e,n){var r=n(2),o=n(8),l={merge:n(42)},c=n(30),h=n(149),f=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var c=o.prototype;return c._initDefaultCfg=function(){this.xField=null,this.yField=null,this.adjustNames=["x","y"],this.groupFields=null},c.processAdjust=function(t){var e=l.merge(t);this.adjDataArray=t,this.mergeData=e,this.adjustData(t,e),this.adjFrames=null,this.mergeData=null},c.getAdjustOffset=function(pre,t){var e=t-pre;return pre+.05*e+.9*e*Math.random()},c._adjustGroup=function(t,e,n,o){var l=this,c=l.getAdjustRange(e,n,o);r(t,(function(t){t[e]=l.getAdjustOffset(c.pre,c.next)}))},c.adjustDim=function(t,e,data){var n=this,o=n.groupData(data,t);r(o,(function(r,o){o=parseFloat(o),n._adjustGroup(r,t,o,e)}))},o}(c);o(f.prototype,h),c.Jitter=f,t.exports=f},function(t,e,n){var r=n(2),o=n(131),l=n(4),c={merge:n(42)},h=n(30),f=function(t){var e,n;function h(){return t.apply(this,arguments)||this}n=t,(e=h).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var f=h.prototype;return f._initDefaultCfg=function(){this.xField=null,this.yField=null,this.cacheMax=null,this.adjustNames=["y"],this.groupFields=null},f._getMax=function(t){var e=this.mergeData,n=o(e,(function(e){var n=e[t];return l(n)?Math.max.apply(null,n):n}))[t];return l(n)?Math.max.apply(null,n):n},f._getXValuesMax=function(){var t=this.yField,e=this.xField,n={},o=this.mergeData;return r(o,(function(r){var o=r[e],c=r[t],h=l(c)?Math.max.apply(null,c):c;n[o]=n[o]||0,n[o]<h&&(n[o]=h)})),n},f.processAdjust=function(t){var e=c.merge(t);this.mergeData=e,this._processSymmetric(t),this.mergeData=null},f._processSymmetric=function(t){var e,n=this.xField,o=this.yField,c=this._getMax(o),h=t[0][0];h&&l(h[o])&&(e=this._getXValuesMax()),r(t,(function(data){r(data,(function(t){var h,f=t[o];if(l(f)){var d=t[n],v=e[d];h=(c-v)/2;var y=[];r(f,(function(t){y.push(h+t)})),t[o]=y}else h=(c-f)/2,t[o]=[h,f+h]}))}))},h}(h);h.Symmetric=f,t.exports=f},function(t,e,n){var r,o,l=n(0),c=n(151),h=l.deepMix({},c,{background:{fill:"#1F1F1F",radius:2},plotBackground:{fill:"#1F1F1F"},axis:{top:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"}},bottom:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"}},left:{label:{textStyle:{fill:"#A6A6A6"}},grid:{lineStyle:{stroke:"#404040"}}},right:{label:{textStyle:{fill:"#A6A6A6"}},grid:{lineStyle:{stroke:"#404040"}}},circle:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"},grid:{lineStyle:{stroke:"#404040"}}},radius:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"},grid:{lineStyle:{stroke:"#404040"}}},helix:{line:{stroke:"#737373"},tickLine:{stroke:"#737373"}}},label:{textStyle:{fill:"#A6A6A6"}},legend:{right:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},left:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},top:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},bottom:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},html:(r={},r["g2-legend"]={color:"#D9D9D9"},r),gradient:{textStyle:{fill:"#D9D9D9"},lineStyle:{stroke:"#404040"}}},tooltip:(o={},o["g2-tooltip"]={color:"#D9D9D9",backgroundColor:"rgba(0, 0, 0, 0.5)",boxShadow:"0px 0px 2px #000"},o),tooltipCrosshairsRect:{type:"rect",rectStyle:{fill:"#fff",opacity:.1}},tooltipCrosshairsLine:{lineStyle:{stroke:"rgba(255, 255, 255, 0.45)"}},guide:{line:{text:{style:{fill:"#A6A6A6"}}},text:{style:{fill:"#A6A6A6"}},region:{style:{lineWidth:0,fill:"#000",fillOpacity:.04}}}});t.exports=h},function(t,e,n){var r=n(66),o=n(163),l=n(337),c=n(338),h={getLabelsClass:function(t,e){var n=r;return"polar"===t?n=o:"theta"===t?n=l:"interval"!==e&&"polygon"!==e||(n=c),n}};t.exports=h},function(t,e,n){var r=n(31);r.Base=r,r.Circle=n(312),r.Grid=n(152),r.Helix=n(313),r.Line=n(314),r.Polyline=n(315),t.exports=r},function(t,e,n){var r=n(154);function o(label,t,e,n){var r=label.getBBox(),o=r.width,l=r.height,c={x:t,y:e,textAlign:"center"};switch(n){case 0:c.y-=l/2,c.textAlign="left";break;case 1:c.y-=l/2,c.textAlign="right";break;case 2:c.y+=l/2,c.textAlign="right";break;case 3:c.y+=l/2,c.textAlign="left";break;case 5:c.y-=l/2;break;case 6:c.y+=l/2;break;case 7:c.x+=o/2,c.textAlign="left";break;case 8:c.x-=o/2,c.textAlign="right"}return label.attr(c),label.getBBox()}t.exports=function(t){for(var e,label,n,l,c,h=new r,f=[],i=0;i<t.length;i++){n=(label=t[i]).attr("x"),l=label.attr("y"),c=!1;for(var d=0;d<8;d++)if(e=o(label,n,l,d),h.hasGap(e)){h.fillGap(e),c=!0;break}c||f.push(label)}for(var v=0;v<f.length;v++)f[v].remove();return c}},function(t,e,n){var r=n(154);function o(label,t){var e,n=label.attr("x"),r=label.attr("y"),o=label.getBBox(),l=Math.sqrt(o.width*o.width+o.height*o.height),c=1,h=0,f=0,d=function(t){return[(t*=.1)*Math.cos(t),t*Math.sin(t)]};if(t.hasGap(o))return t.fillGap(o),!0;for(var v=!1,y=0;Math.min(Math.abs(h),Math.abs(f))<l&&y<20;)if(h=~~(e=d(c+=-1))[0],f=~~e[1],label.attr({x:n+h,y:r+f}),y++,t.hasGap(label.getBBox())){t.fillGap(o),v=!0;break}return v}t.exports=function(t){for(var label,e=new r,n=[],i=0;i<t.length;i++)o(label=t[i],e)||n.push(label);for(var l=0;l<n.length;l++)n[l].remove()}},function(t,e){t.exports=function(t,e){for(var n,r,o=[],i=0;i<t.length;i++)n=t[i].getBBox(),r=e[i].getBBox(),(n.width>r.width||n.height>r.height||n.width*n.height>r.width*r.height)&&o.push(t[i]);for(var l=0;l<o.length;l++)o[l].remove()}},function(t,e,n){var r=n(3),o=n(31),l=r.MatrixUtil.vec2,c=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var c=o.prototype;return c.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"circle",tickInterval:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},_labelOffset:5})},c.parseTick=function(t,e,n){return{text:t,value:e/n}},c._getCirclePoint=function(t,e){var n=this.get("center");return e=e||this.get("radius"),{x:n.x+Math.cos(t)*e,y:n.y+Math.sin(t)*e}},c.getTickPoint=function(t){var e=this.get("startAngle"),n=e+(this.get("endAngle")-e)*t;return this._getCirclePoint(n)},c.getSideVector=function(t,e){var n=this.get("center"),o=[e.x-n.x,e.y-n.y];if(!r.isNil(t)){var c=l.length(o);l.scale(o,o,t/c)}return o},c.getSidePoint=function(t,e){var n=this.getSideVector(e,t);return{x:t.x+n[0],y:t.y+n[1]}},c.getTickEnd=function(t,e){var n=this.get("tickLine");return e=e||n.length,this.getSidePoint(t,e)},c.getTextAnchor=function(t){var e;return r.snapEqual(t[0],0)?e="center":t[0]>0?e="left":t[0]<0&&(e="right"),e},c.getLinePath=function(){var t=this.get("center"),e=t.x,n=t.y,r=this.get("radius"),o=r,l=this.get("startAngle"),c=this.get("endAngle"),h=this.get("inner"),path=[];if(Math.abs(c-l)===2*Math.PI)path=[["M",e,n],["m",0,-o],["a",r,o,0,1,1,0,2*o],["a",r,o,0,1,1,0,-2*o],["z"]];else{var f=this._getCirclePoint(l),d=this._getCirclePoint(c),v=Math.abs(c-l)>Math.PI?1:0,y=l>c?0:1;if(h){var m=this.getSideVector(h*r,f),x=this.getSideVector(h*r,d),_={x:m[0]+e,y:m[1]+n},w={x:x[0]+e,y:x[1]+n};path=[["M",_.x,_.y],["L",f.x,f.y],["A",r,o,0,v,y,d.x,d.y],["L",w.x,w.y],["A",r*h,o*h,0,v,Math.abs(y-1),_.x,_.y]]}else path=[["M",e,n],["L",f.x,f.y],["A",r,o,0,v,y,d.x,d.y],["L",e,n]]}return path},c.addLabel=function(e,n,r){var o=this.get("label").offset||this.get("_labelOffset")||.001;n=this.getSidePoint(n,o),t.prototype.addLabel.call(this,e,n,r)},c.autoRotateLabels=function(){var t=this.get("ticks"),e=this.get("labelRenderer");if(e&&t.length>12){var n=this.get("radius"),o=this.get("startAngle"),l=this.get("endAngle")-o,c=l/(t.length-1),h=Math.sin(c/2)*n*2,f=this.getMaxLabelWidth(e);r.each(e.get("group").get("children"),(function(label,e){var n=t[e].value*l+o,r=n%(2*Math.PI);f<h?(r<=0&&(n+=Math.PI),r>Math.PI&&(n-=Math.PI),n-=Math.PI/2,label.attr("textAlign","center")):r>Math.PI/2?n-=Math.PI:r<Math.PI/2*-1&&(n+=Math.PI),label.rotateAtStart(n)}))}},o}(o);t.exports=c},function(t,e,n){var r=n(3),o=n(31),l=r.MatrixUtil,c=r.PathUtil,h=l.vec2,f=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var l=o.prototype;return l.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{inner:0,type:"helix",line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,a:0,center:null,axisStart:null,crp:[]})},l.getLinePath=function(){var t=this.get("crp"),e=this.get("axisStart"),path=c.catmullRomToBezier(t);return path.unshift(["M",e.x,e.y]),path},l.getTickPoint=function(t){var e=this.get("startAngle"),n=e+(this.get("endAngle")-e)*t;return this._getHelixPoint(n)},l._getHelixPoint=function(t){var e=this.get("center"),n=this.get("a")*t+this.get("inner");return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},l.getSideVector=function(t,e){var n=this.get("center"),r=[e.x-n.x,e.y-n.y];if(t){var o=h.length(r);h.scale(r,r,t/o)}return r},l.getSidePoint=function(t,e){var n=this.getSideVector(e,t);return{x:t.x+n[0],y:t.y+n[1]}},l.getTickEnd=function(t,e){var n=this.get("tickLine");return e=e||n.length,this.getSidePoint(t,e)},o}(o);t.exports=f},function(t,e,n){var r=n(31),o=n(3),l=o.MatrixUtil.vec2,c=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var c=r.prototype;return c.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return o.mix({},e,{x:null,y:null,line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},isVertical:!1,start:null,end:null})},c._getAvgLabelLength=function(t){var e=t.get("group").get("children");return e[1].attr("x")-e[0].attr("x")},c._getAvgLabelHeightSpace=function(t){var e=t.get("group").get("children");return e[1].attr("y")-e[0].attr("y")},c.getSideVector=function(t){var e=this.get("isVertical"),n=this.get("factor");if(!o.isNumber(t))return[0,0];var r=this.get("start"),c=this.get("end"),h=this.getAxisVector(),f=l.normalize([],h),d=!1;(e&&r.y<c.y||!e&&r.x>c.x)&&(d=!0);var v=l.vertical([],f,d);return l.scale([],v,t*n)},c.getAxisVector=function(){var t=this.get("start"),e=this.get("end");return[e.x-t.x,e.y-t.y]},c.getLinePath=function(){var t=this.get("start"),e=this.get("end"),path=[];return path.push(["M",t.x,t.y]),path.push(["L",e.x,e.y]),path},c.getTickEnd=function(t,e){var n=this.getSideVector(e);return{x:t.x+n[0],y:t.y+n[1]}},c.getTickPoint=function(t){var e=this.get("start"),n=this.get("end"),r=n.x-e.x,o=n.y-e.y;return{x:e.x+r*t,y:e.y+o*t}},c.renderTitle=function(){var title=this.get("title"),t=this.getTickPoint(.5),e=title.offset;if(o.isNil(e)){e=20;var n=this.get("labelsGroup");n&&(e+=this.getMaxLabelWidth(n)+(this.get("label").offset||this.get("_labelOffset")))}var r=title.textStyle,c=o.mix({},r);if(title.text){var h=this.getAxisVector();if(title.autoRotate&&o.isNil(r.rotate)){var f=0;if(!o.snapEqual(h[1],0)){var d=[h[0],h[1]];f=l.angleTo(d,[1,0],!0)}c.rotate=f*(180/Math.PI)}else o.isNil(r.rotate)||(c.rotate=r.rotate/180*Math.PI);var v,y=this.getSideVector(e),m=title.position;v="start"===m?{x:this.get("start").x+y[0],y:this.get("start").y+y[1]}:"end"===m?{x:this.get("end").x+y[0],y:this.get("end").y+y[1]}:{x:t.x+y[0],y:t.y+y[1]},c.x=v.x,c.y=v.y,c.text=title.text;var x=this.get("group").addShape("Text",{zIndex:2,attrs:c});x.name="axis-title",this.get("appendInfo")&&x.setSilent("appendInfo",this.get("appendInfo"))}},c.autoRotateLabels=function(){var t=this.get("labelRenderer"),title=this.get("title");if(t){var e=t.get("group").get("children"),n=this.get("label").offset,r=title?title.offset:48;if(r<0)return;var l,c,h=this.getAxisVector();if(o.snapEqual(h[0],0)&&title&&title.text)(c=this.getMaxLabelWidth(t))>r-n-12&&(l=-1*Math.acos((r-n-12)/c));else if(o.snapEqual(h[1],0)&&e.length>1){var f=Math.abs(this._getAvgLabelLength(t));(c=this.getMaxLabelWidth(t))>f&&(l=Math.asin(1.25*(r-n-12)/c))}if(l){var d=this.get("factor");o.each(e,(function(label){label.rotateAtStart(l),o.snapEqual(h[1],0)&&(d>0?label.attr("textAlign","left"):label.attr("textAlign","right"))}))}}},c.autoHideLabels=function(){var t,e,n=this.get("labelRenderer");if(n){var r=n.get("group").get("children"),l=this.getAxisVector();if(r.length<2)return;if(o.snapEqual(l[0],0)){var c=this.getMaxLabelHeight(n)+8,h=Math.abs(this._getAvgLabelHeightSpace(n));c>h&&(t=c,e=h)}else if(o.snapEqual(l[1],0)&&r.length>1){var f=this.getMaxLabelWidth(n)+8,d=Math.abs(this._getAvgLabelLength(n));f>d&&(t=f,e=d)}if(t&&e){var v=Math.ceil(t/e);o.each(r,(function(label,i){i%v!=0&&label.attr("text","")}))}}},r}(r);t.exports=c},function(t,e,n){var r=n(3),o=n(31),l=r.MatrixUtil,c=r.PathUtil,h=l.vec2,f=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var l=o.prototype;return l.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"polyline"})},l.getLinePath=function(){var t=this.get("tickPoints"),e=this.get("start"),n=this.get("end"),o=[];o.push(e.x),o.push(e.y),r.each(t,(function(t){o.push(t.x),o.push(t.y)})),o.push(n.x),o.push(n.y);var path=c.catmullRomToBezier(o);return path.unshift(["M",e.x,e.y]),path},l.getTickPoint=function(t,e){return this.get("tickPoints")[e]},l.getTickEnd=function(t,e,n){var r=this.get("tickLine"),o=e||r.length,l=this.getSideVector(o,t,n);return{x:t.x+l[0],y:t.y+l[1]}},l.getSideVector=function(t,e,n){var r;if(0===n){if((r=this.get("start")).x===e.x&&r.y===e.y)return[0,0]}else r=this.get("tickPoints")[n-1];var o=[e.x-r.x,e.y-r.y],l=h.normalize([],o),c=h.vertical([],l,!1);return h.scale([],c,t)},o}(o);t.exports=f},function(t,e,n){t.exports={Guide:n(15),Arc:n(317),DataMarker:n(318),DataRegion:n(319),Html:n(320),Image:n(321),Line:n(322),Region:n(323),Text:n(324)}},function(t,e,n){var r=n(3),o=n(15),l=Math.PI,c=Math.atan;function h(t,e){var n,r=t.x-e.x,o=t.y-e.y;return 0===o?n=r<0?l/2:270*l/180:r>=0&&o>0?n=2*l-c(r/o):r<=0&&o<0?n=l-c(r/o):r>0&&o<0?n=l+c(-r/o):r<0&&o>0&&(n=c(r/-o)),n}var f=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var c=o.prototype;return c.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"arc",start:null,end:null,style:{stroke:"#999",lineWidth:1}})},c.render=function(t,e){var n=this.parsePoint(t,this.get("start")),o=this.parsePoint(t,this.get("end"));if(n&&o){var path,c=t.getCenter(),f=Math.sqrt((n.x-c.x)*(n.x-c.x)+(n.y-c.y)*(n.y-c.y)),d=h(n,c),v=h(o,c);if(v<d&&(v+=2*l),r.isNumberEqual(n.x,o.x)&&r.isNumberEqual(n.y,o.y)&&(this.get("start")[0]!==this.get("end")[0]||this.get("start")[1]!==this.get("end")[1]))path=[["M",n.x,n.y],["A",f,f,0,1,1,2*c.x-n.x,2*c.y-n.y],["A",f,f,0,1,1,n.x,n.y]];else{var y=(v-d)%(2*l)>l?1:0;path=[["M",n.x,n.y],["A",f,f,0,y,1,o.x,o.y]]}var m=e.addShape("path",{zIndex:this.get("zIndex"),attrs:r.mix({path:path},this.get("style"))});m.name="guide-arc",this.get("appendInfo")&&m.setSilent("appendInfo",this.get("appendInfo")),this.set("el",m)}},o}(o);t.exports=f},function(t,e,n){var r=n(3),o=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var l=o.prototype;return l.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"dataMarker",zIndex:1,top:!0,position:null,style:{point:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2},line:{stroke:"#A3B1BF",lineWidth:1},text:{fill:"#000000",opacity:.65,fontSize:12,textAlign:"start"}},display:{point:!0,line:!0,text:!0},lineLength:20,direction:"upward",autoAdjust:!0})},l.render=function(t,e){var n=this.parsePoint(t,this.get("position"));if(n){var r=e.addGroup();r.name="guide-data-marker";var o,l,c=this._getElementPosition(n),h=this.get("display");if(h.line){var f=c.line;o=this._drawLine(f,r)}if(h.text&&this.get("content")){var d=c.text;l=this._drawText(d,r)}if(h.point){var v=c.point;this._drawPoint(v,r)}if(this.get("autoAdjust")){var y=r.getBBox(),m=y.minX,x=y.minY,_=y.maxX,w=y.maxY,S=t.start,M=t.end;if(l){m<=S.x&&l.attr("textAlign","start"),_>=M.x&&l.attr("textAlign","end");var C=this.get("direction");if("upward"===C&&x<=M.y||"upward"!==C&&w>=S.y){var A,k;"upward"===C&&x<=M.y?(A="top",k=1):(A="bottom",k=-1),l.attr("textBaseline",A);var P=0;if(this.get("display").line){P=this.get("lineLength");var T=[["M",n.x,n.y],["L",n.x,n.y+P*k]];o.attr("path",T)}var I=n.y+(P+2)*k;l.attr("y",I)}}}this.get("appendInfo")&&r.setSilent("appendInfo",this.get("appendInfo")),this.set("el",r)}},l._getElementPosition=function(t){var e=t.x,n=t.y,r=this.get("display").line?this.get("lineLength"):0,o=this.get("direction");this.get("style").text.textBaseline="upward"===o?"bottom":"top";var l="upward"===o?-1:1;return{point:{x:e,y:n},line:[{x:e,y:n},{x:e,y:r*l+n}],text:{x:e,y:(r+2)*l+n}}},l._drawLine=function(t,g){var e=this.get("style").line,n=[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y]];return g.addShape("path",{attrs:r.mix({path:n},e)})},l._drawText=function(t,g){var e=this.get("style").text;return g.addShape("text",{attrs:r.mix({text:this.get("content")},e,t)})},l._drawPoint=function(t,g){var e=this.get("style").point;return g.addShape("circle",{attrs:r.mix({},e,t)})},o}(n(15));t.exports=o},function(t,e,n){var r=n(3),o=n(155),l=function(t){var e,n;function l(){return t.apply(this,arguments)||this}n=t,(e=l).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var c=l.prototype;return c.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"dataRegion",start:null,end:null,content:"",style:{region:{lineWidth:0,fill:"#000000",opacity:.04},text:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:"rgba(0, 0, 0, .65)"}}})},c.render=function(t,e,data){var n=this.get("lineLength")||0,o=this._getRegionData(t,data);if(o.length){var l=this._getBBox(o),path=[];path.push(["M",o[0].x,l.yMin-n]);for(var i=0,c=o.length;i<c;i++){var p=["L",o[i].x,o[i].y];path.push(p)}path.push(["L",o[o.length-1].x,l.yMin-n]);var style=this.get("style"),h=style.region,f=style.text,d=e.addGroup();d.name="guide-data-region",d.addShape("path",{attrs:r.mix({path:path},h)});var content=this.get("content");content&&d.addShape("Text",{attrs:r.mix({x:(l.xMin+l.xMax)/2,y:l.yMin-n,text:content},f)}),this.get("appendInfo")&&d.setSilent("appendInfo",this.get("appendInfo")),this.set("el",d)}},c._getRegionData=function(t,data){for(var e,n=this.get("start"),l=this.get("end"),c=o.getFirstScale(this.get("xScales")).field,h=o.getFirstScale(this.get("yScales")).field,f=r.isArray(n)?n[0]:n[c],d=r.isArray(l)?l[0]:l[c],v=[],i=0,y=data.length;i<y;i++){var m=data[i];if(m[c]===f&&(e=i),i>=e){var x=this.parsePoint(t,[m[c],m[h]]);x&&v.push(x)}if(m[c]===d)break}return v},c._getBBox=function(data){for(var t=[],e=[],i=0;i<data.length;i++)t.push(data[i].x),e.push(data[i].y);var n=r.arrayUtil.getRange(t),o=r.arrayUtil.getRange(e);return{xMin:n.min,xMax:n.max,yMin:o.min,yMax:o.max}},l}(n(15));t.exports=l},function(t,e,n){var r=n(3),o=r.DomUtil,l=function(t){var e,n;function l(){return t.apply(this,arguments)||this}n=t,(e=l).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var c=l.prototype;return c.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"html",zIndex:7,position:null,alignX:"middle",alignY:"middle",offsetX:null,offsetY:null,html:null})},c.render=function(t,e){var n=this.parsePoint(t,this.get("position"));if(n){var l=e.get("canvas").get("el").parentNode,c=o.createDom('<div class="g-guide"></div>');l.appendChild(c);var html=this.get("htmlContent")||this.get("html");r.isFunction(html)&&(html=html(this.get("xScales"),this.get("yScales")));var h=o.createDom(html);c.appendChild(h),o.modifyCSS(c,{position:"absolute"}),this._setDomPosition(c,h,n),this.set("el",c)}},c._setDomPosition=function(t,e,n){var r=this.get("alignX"),l=this.get("alignY"),c=o.getOuterWidth(e),h=o.getOuterHeight(e),f={x:n.x,y:n.y};"middle"===r&&"top"===l?f.x-=Math.round(c/2):"middle"===r&&"bottom"===l?(f.x-=Math.round(c/2),f.y-=Math.round(h)):"left"===r&&"bottom"===l?f.y-=Math.round(h):"left"===r&&"middle"===l?f.y-=Math.round(h/2):"left"===r&&"top"===l?(f.x=n.x,f.y=n.y):"right"===r&&"bottom"===l?(f.x-=Math.round(c),f.y-=Math.round(h)):"right"===r&&"middle"===l?(f.x-=Math.round(c),f.y-=Math.round(h/2)):"right"===r&&"top"===l?f.x-=Math.round(c):(f.x-=Math.round(c/2),f.y-=Math.round(h/2));var d=this.get("offsetX");d&&(f.x+=d);var v=this.get("offsetY");v&&(f.y+=v),o.modifyCSS(t,{top:Math.round(f.y)+"px",left:Math.round(f.x)+"px",visibility:"visible",zIndex:this.get("zIndex")})},c.clear=function(){var t=this.get("el");t&&t.parentNode&&t.parentNode.removeChild(t)},l}(n(15));t.exports=l},function(t,e,n){var r=n(3),o=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var l=o.prototype;return l.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"image",start:null,end:null,src:null,offsetX:null,offsetY:null})},l.render=function(t,e){var n=this.parsePoint(t,this.get("start"));if(n){var r={x:n.x,y:n.y};if(r.img=this.get("src"),this.get("end")){var o=this.parsePoint(t,this.get("end"));if(!o)return;r.width=o.x-n.x,r.height=o.y-n.y}else r.width=this.get("width")||32,r.height=this.get("height")||32;this.get("offsetX")&&(r.x+=this.get("offsetX")),this.get("offsetY")&&(r.y+=this.get("offsetY"));var l=e.addShape("Image",{zIndex:1,attrs:r});l.name="guide-image",this.get("appendInfo")&&l.setSilent("appendInfo",this.get("appendInfo")),this.set("el",l)}},o}(n(15));t.exports=o},function(t,e,n){var r=n(3),o=n(15),l=r.MatrixUtil.vec2,c=n(14).FONT_FAMILY,h=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var h=o.prototype;return h.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"line",start:null,end:null,lineStyle:{stroke:"#000",lineWidth:1},text:{position:"end",autoRotate:!0,style:{fill:"#999",fontSize:12,fontWeight:500,fontFamily:c},content:null}})},h.render=function(t,e){var n=this.parsePoint(t,this.get("start")),r=this.parsePoint(t,this.get("end"));if(n&&r){var o=e.addGroup({viewId:e.get("viewId")});this._drawLines(n,r,o);var text=this.get("text");text&&text.content&&this._drawText(n,r,o),this.set("el",o)}},h._drawLines=function(t,e,n){var path=[["M",t.x,t.y],["L",e.x,e.y]],o=n.addShape("Path",{attrs:r.mix({path:path},this.get("lineStyle"))});o.name="guide-line",this.get("appendInfo")&&o.setSilent("appendInfo",this.get("appendInfo"))},h._drawText=function(t,e,n){var o,c=this.get("text"),h=c.position,f=c.style||{};((o="start"===h?0:"center"===h?.5:r.isString(h)&&-1!==h.indexOf("%")?parseInt(h,10)/100:r.isNumber(h)?h:1)>1||o<0)&&(o=1);var d={x:t.x+(e.x-t.x)*o,y:t.y+(e.y-t.y)*o};if(c.offsetX&&(d.x+=c.offsetX),c.offsetY&&(d.y+=c.offsetY),d.text=c.content,d=r.mix({},d,f),c.autoRotate&&r.isNil(f.rotate)){var v=l.angleTo([e.x-t.x,e.y-t.y],[1,0],1);d.rotate=v}else r.isNil(f.rotate)||(d.rotate=f.rotate*Math.PI/180);var y=n.addShape("Text",{attrs:d});y.name="guide-line-text",this.get("appendInfo")&&y.setSilent("appendInfo",this.get("appendInfo"))},o}(o);t.exports=h},function(t,e,n){var r=n(3),o=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var l=o.prototype;return l.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"region",zIndex:1,start:null,end:null,style:{lineWidth:0,fill:"#CCD7EB",opacity:.4}})},l.render=function(t,e){var n=this.get("style"),path=this._getPath(t);if(path.length){var o=e.addShape("path",{zIndex:this.get("zIndex"),attrs:r.mix({path:path},n)});o.name="guide-region",this.get("appendInfo")&&o.setSilent("appendInfo",this.get("appendInfo")),this.set("el",o)}},l._getPath=function(t){var e=this.parsePoint(t,this.get("start")),n=this.parsePoint(t,this.get("end"));return e&&n?[["M",e.x,e.y],["L",n.x,e.y],["L",n.x,n.y],["L",e.x,n.y],["z"]]:[]},o}(n(15));t.exports=o},function(t,e,n){var r=n(3),o=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var l=o.prototype;return l.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"text",position:null,content:null,style:{fill:"#999",fontSize:12,fontWeight:500,textAlign:"center"},offsetX:null,offsetY:null,top:!0})},l.render=function(t,e){var n=this.parsePoint(t,this.get("position"));if(n){var o=r.mix({},this.get("style")),l=this.get("offsetX"),c=this.get("offsetY");l&&(n.x+=l),c&&(n.y+=c),o.rotate&&(o.rotate=o.rotate*Math.PI/180);var h=e.addShape("Text",{zIndex:this.get("zIndex"),attrs:r.mix({text:this.get("content")},o,n)});h.name="guide-text",this.get("appendInfo")&&h.setSilent("appendInfo",this.get("appendInfo")),this.set("el",h)}},o}(n(15));t.exports=o},function(t,e,n){var r=n(153);t.exports=r},function(t,e,n){t.exports={Category:n(156),CatHtml:n(158),CatPageHtml:n(327),Color:n(328),Size:n(330),CircleSize:n(331)}},function(t,e,n){var r=n(3),o=n(158),l=n(14).FONT_FAMILY,c=r.DomUtil;function h(t,e){return t.getElementsByClassName(e)[0]}var f=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var f=o.prototype;return f.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"category-page-legend",container:null,caretStyle:{fill:"rgba(0,0,0,0.65)"},pageNumStyle:{display:"inline-block",fontSize:"12px",fontFamily:l,cursor:"default"},slipDomStyle:{width:"auto",height:"auto",position:"absolute"},slipTpl:'<div class="g2-slip" ><svg viewBox="64 64 896 896" class="g2-caret-up" data-icon="left" style = "display:inline-block;vertical-align:middle;" width="1em" height="1em" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg><p class="cur-pagenum" style = "display:inline-block;vertical-align:middle;">1</p><p class="next-pagenum" style = "display:inline-block;vertical-align:middle;"">/2</p><svg viewBox="64 64 896 896" class="g2-caret-down" data-icon="right" style = "display:inline-block;vertical-align:middle;" width="1em" height="1em" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"></path></svg></div>',slipWidth:65,legendOverflow:"unset"})},f.render=function(){t.prototype._renderHTML.call(this),this._renderFlipPage()},f._renderFlipPage=function(){var t=this.get("legendWrapper"),e=h(t,"g2-legend-list"),n=this.get("position"),o=this.get("layout"),l="right"===n||"left"===n||"vertical"===o,f=l?"block":"inline-block",d=t.offsetHeight;if(t.scrollHeight>d){var v=this.get("slipTpl"),y=c.createDom(v),m=h(y,"g2-caret-up"),x=h(y,"g2-caret-down");c.modifyCSS(m,this.get("caretStyle")),c.modifyCSS(m,{fill:"rgba(0,0,0,0.25)"}),c.modifyCSS(x,this.get("caretStyle"));var _=h(y,"cur-pagenum"),w=h(y,"next-pagenum"),S=this.get("pageNumStyle");if(c.modifyCSS(_,r.mix({},S,{paddingLeft:"10px"})),c.modifyCSS(w,r.mix({},S,{opacity:.3,paddingRight:"10px"})),c.modifyCSS(y,r.mix({},this.get("slipDomStyle"),l?{top:d+"px"}:{right:0,top:"50%",transform:"translate(0, -50%)"})),t.style.overflow=this.get("legendOverflow"),t.appendChild(y),!l){var M=Math.max(t.offsetWidth-10-y.offsetWidth,0);c.modifyCSS(e,{maxWidth:M+"px"})}for(var li=e.childNodes,C=0,A=1,k=[],i=0;i<li.length;i++)li[i].style.display=f,(C=li[i].offsetTop+li[i].offsetHeight)>d&&(A++,k.forEach((function(t){t.style.display="none"})),k=[]),k.push(li[i]);w.innerText="/"+A,li.forEach((function(t){t.style.display=f,(C=t.offsetTop+t.offsetHeight)>d&&(t.style.display="none")})),m.addEventListener("click",(function(){if(li[0].style.display!==f){var t=-1;li.forEach((function(e,i){e.style.display===f&&(t=-1===t?i:t,e.style.display="none")}));for(var e=t-1;e>=0&&(li[e].style.display=f,C=li[t-1].offsetTop+li[t-1].offsetHeight,li[e].style.display="none",C<=d);e--)li[e].style.display=f;var n=Number.parseInt(_.innerText,10)-1;m.style.fill=1===n?"rgba(0,0,0,0.25)":"rgba(0,0,0,0.65)",x.style.fill="rgba(0,0,0,0.65)",_.innerText=n}})),x.addEventListener("click",(function(){if(li[li.length-1].style.display!==f){var t=-1;li.forEach((function(e,i){e.style.display===f&&(t=i,e.style.display="none")}));for(var e=t+1;e<li.length&&(li[e].style.display=f,C=li[e].offsetTop+li[e].offsetHeight,li[e].style.display="none",C<=d);e++)li[e].style.display=f;var n=Number.parseInt(_.innerText,10)+1;x.style.fill=n===A?"rgba(0,0,0,0.25)":"rgba(0,0,0,0.65)",m.style.fill="rgba(0,0,0,0.65)",_.innerText=n}})),this.set("slipDom",y)}},f.destroy=function(){var e=this.get("slipDom");e&&e.parentNode&&e.parentNode.removeChild(e),t.prototype.destroy.call(this)},o}(o);t.exports=f},function(t,e,n){var r=n(73).ColorUtil,o=n(3),l=function(t){var e,n;function l(){return t.apply(this,arguments)||this}n=t,(e=l).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var c=l.prototype;return c.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return o.mix({},e,{type:"color-legend",layout:"vertical",triggerAttr:{fill:"#fff",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10,shadowColor:"#ccc",radius:3},isSegment:!1})},c._setPercentage=function(){var t=this.get("items");if(!t[0].percentage){var e=t[0].value,n=t[t.length-1].value;o.each(t,(function(t){t.percentage=(t.value-e)/(n-e)}))}},c._renderSliderShape=function(){this._setPercentage();var t,e=this.get("slider").get("backgroundElement"),n=this.get("width"),l=this.get("height"),c=this.get("layout"),h=this.get("items"),f="";return"vertical"===c?(f+="l (90) ",o.each(h,(function(e){t=r.toRGB(e.color),f+=1-e.percentage+":"+t+" "}))):(f+="l (0) ",o.each(h,(function(e){t=r.toRGB(e.color),f+=e.percentage+":"+t+" "}))),this._addMiddleBar(e,"Rect",{x:0,y:0,width:n,height:l,fill:f,strokeOpacity:0})},c._renderUnslidable=function(){this._setPercentage();var t=this.get("titleShape"),e=this.get("titleGap");e=t?t.getBBox().height+e:e;var n,l=this.get("width"),c=this.get("height"),h=this.get("layout"),f=this.get("items"),d="",path=[],v=this.get("group").addGroup(),y=f.length;if("vertical"===h){d+="l (90) ";for(var i=0;i<y;i+=1){if(0!==i&&i!==y-1&&(path.push(["M",0,c-f[i].percentage*c]),path.push(["L",l,c-f[i].percentage*c])),n=r.toRGB(f[i].color),d+=1-f[i].percentage+":"+n+" ",this.get("isSegment")&&i>0){var m=r.toRGB(f[i-1].color);d+=1-f[i].percentage+":"+m+" "}v.addShape("text",{attrs:o.mix({},{x:l+this.get("textOffset")/2,y:c-f[i].percentage*c,text:this._formatItemValue(f[i].value)+""},this.get("textStyle"),{textAlign:"start"})})}}else{d+="l (0) ";for(var x=0;x<y;x+=1){if(0!==x&&x!==y-1&&(path.push(["M",f[x].percentage*l,0]),path.push(["L",f[x].percentage*l,c])),n=r.toRGB(f[x].color),this.get("isSegment")&&x>0){var _=r.toRGB(f[x-1].color);d+=f[x].percentage+":"+_+" "}d+=f[x].percentage+":"+n+" ",v.addShape("text",{attrs:o.mix({},{x:f[x].percentage*l,y:c+5+this.get("textOffset"),text:this._formatItemValue(f[x].value)+""},this.get("textStyle"))})}}v.addShape("rect",{attrs:{x:0,y:0,width:l,height:c,fill:d,strokeOpacity:0}}),v.addShape("path",{attrs:o.mix({path:path},this.get("lineStyle"))}),v.move(0,e)},l}(n(68));t.exports=l},function(t,e,n){var r=n(3),o=r.DomUtil,l=function(t){var e,n;function l(){return t.apply(this,arguments)||this}n=t,(e=l).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var c=l.prototype;return c.getDefaultCfg=function(){return{range:null,middleAttr:{fill:"#fff",fillOpacity:0},backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},c._beforeRenderUI=function(){var t=this.get("layout"),e=this.get("backgroundElement"),n=this.get("minHandleElement"),r=this.get("maxHandleElement"),o=this.addShape("rect",{attrs:this.get("middleAttr")}),l="vertical"===t?"ns-resize":"ew-resize";this.add([e,n,r]),this.set("middleHandleElement",o),e.set("zIndex",0),o.set("zIndex",1),n.set("zIndex",2),r.set("zIndex",2),o.attr("cursor","move"),n.attr("cursor",l),r.attr("cursor",l),this.sort()},c._renderUI=function(){"horizontal"===this.get("layout")?this._renderHorizontal():this._renderVertical()},c._transform=function(t){var e=this.get("range"),n=e[0]/100,r=e[1]/100,o=this.get("width"),l=this.get("height"),c=this.get("minHandleElement"),h=this.get("maxHandleElement"),f=this.get("middleHandleElement");c.resetMatrix(),h.resetMatrix(),"horizontal"===t?(f.attr({x:o*n,y:0,width:(r-n)*o,height:l}),c.translate(n*o,l),h.translate(r*o,l)):(f.attr({x:0,y:l*(1-r),width:o,height:(r-n)*l}),c.translate(1,(1-n)*l),h.translate(1,(1-r)*l))},c._renderHorizontal=function(){this._transform("horizontal")},c._renderVertical=function(){this._transform("vertical")},c._bindUI=function(){this.on("mousedown",r.wrapBehavior(this,"_onMouseDown"))},c._isElement=function(t,e){var element=this.get(e);return t===element||!!element.isGroup&&element.get("children").indexOf(t)>-1},c._getRange=function(t,e){var n=t+e;return n=(n=n>100?100:n)<0?0:n},c._updateStatus=function(t,e){var n="x"===t?this.get("width"):this.get("height");t=r.upperFirst(t);var o,l=this.get("range"),c=this.get("page"+t),h=this.get("currentTarget"),f=this.get("rangeStash"),d="vertical"===this.get("layout")?-1:1,v=e["page"+t],y=(v-c)/n*100*d;l[1]<=l[0]?(this._isElement(h,"minHandleElement")||this._isElement(h,"maxHandleElement"))&&(l[0]=this._getRange(y,l[0]),l[1]=this._getRange(y,l[0])):(this._isElement(h,"minHandleElement")&&(l[0]=this._getRange(y,l[0])),this._isElement(h,"maxHandleElement")&&(l[1]=this._getRange(y,l[1]))),this._isElement(h,"middleHandleElement")&&(o=f[1]-f[0],l[0]=this._getRange(y,l[0]),l[1]=l[0]+o,l[1]>100&&(l[1]=100,l[0]=l[1]-o)),this.emit("sliderchange",{range:l}),this.set("page"+t,v),this._renderUI(),this.get("canvas").draw()},c._onMouseDown=function(t){var e=t.currentTarget,n=t.event,r=this.get("range");n.stopPropagation(),n.preventDefault(),this.set("pageX",n.pageX),this.set("pageY",n.pageY),this.set("currentTarget",e),this.set("rangeStash",[r[0],r[1]]),this._bindCanvasEvents()},c._bindCanvasEvents=function(){var t=this.get("canvas").get("containerDOM");this.onMouseMoveListener=o.addEventListener(t,"mousemove",r.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=o.addEventListener(t,"mouseup",r.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=o.addEventListener(t,"mouseleave",r.wrapBehavior(this,"_onCanvasMouseUp"))},c._onCanvasMouseMove=function(t){this._mouseOutArea(t)||("horizontal"===this.get("layout")?this._updateStatus("x",t):this._updateStatus("y",t))},c._onCanvasMouseUp=function(){this._removeDocumentEvents()},c._removeDocumentEvents=function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove()},c._mouseOutArea=function(t){var e=this.get("canvas").get("el").getBoundingClientRect(),n=this.get("parent"),r=n.getBBox(),o=n.attr("matrix")[6],l=n.attr("matrix")[7],c=o+r.width,h=l+r.height,f=t.clientX-e.x,d=t.clientY-e.y;return f<o||f>c||d<l||d>h},l}(r.Group);t.exports=l},function(t,e,n){var r=n(3),o=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var l=o.prototype;return l.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"size-legend",width:100,height:200,_unslidableElementStyle:{fill:"#4E7CCC",fillOpacity:1},frontMiddleBarStyle:{fill:"rgb(64, 141, 251)"}})},l._renderSliderShape=function(){var t=this.get("slider").get("backgroundElement"),e=this.get("layout"),n=this.get("width"),o=this.get("height"),l=this.get("height")/2,c=this.get("frontMiddleBarStyle"),h="vertical"===e?[[0,0],[n,0],[n,o],[n-4,o]]:[[0,l+o/2],[0,l+o/2-4],[n,l-o/2],[n,l+o/2]];return this._addMiddleBar(t,"Polygon",r.mix({points:h},c))},l._renderUnslidable=function(){var t=this.get("layout"),e=this.get("width"),n=this.get("height"),o=this.get("frontMiddleBarStyle"),l="vertical"===t?[[0,0],[e,0],[e,n],[e-4,n]]:[[0,n],[0,n-4],[e,0],[e,n]];this.get("group").addGroup().addShape("Polygon",{attrs:r.mix({points:l},o)});var c=this._formatItemValue(this.get("firstItem").value),h=this._formatItemValue(this.get("lastItem").value);"vertical"===this.get("layout")?(this._addText(e+10,n-3,c),this._addText(e+10,3,h)):(this._addText(0,n,c),this._addText(e,n,h))},l._addText=function(t,e,text){var n=this.get("group").addGroup(),o=this.get("textStyle"),l=this.get("titleShape"),c=this.get("titleGap");l&&(c+=l.getBBox().height),"vertical"===this.get("layout")?n.addShape("text",{attrs:r.mix({x:t+this.get("textOffset"),y:e,text:0===text?"0":text},o)}):(e+=c+this.get("textOffset")-20,l||(e+=10),n.addShape("text",{attrs:r.mix({x:t,y:e,text:0===text?"0":text},o)}))},o}(n(68));t.exports=o},function(t,e,n){var r=n(3),o=n(68),l=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var l=o.prototype;return l.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"size-circle-legend",width:100,height:200,_unslidableCircleStyle:{stroke:"rgb(99, 161, 248)",fill:"rgb(99, 161, 248)",fillOpacity:.3,lineWidth:1.5},triggerAttr:{fill:"white",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10,shadowColor:"#ccc"},frontMiddleBarStyle:{fill:"rgb(64, 141, 251)"}})},l._renderSliderShape=function(){var t=this.get("slider").get("backgroundElement"),e=this.get("layout"),n="vertical"===e?2:this.get("width"),o="vertical"===e?this.get("height"):2,l=this.get("height")/2,c=this.get("frontMiddleBarStyle"),h="vertical"===e?[[0,0],[n,0],[n,o],[0,o]]:[[0,l+o],[0,l-o],[5+n-4,l-o],[5+n-4,l+o]];return this._addMiddleBar(t,"Polygon",r.mix({points:h},c))},l._addHorizontalTrigger=function(t,e,n,o){var l=this.get("slider").get(t+"HandleElement"),c=-this.get("height")/2,button=l.addShape("circle",{attrs:r.mix({x:0,y:c,r:o},e)}),text=l.addShape("text",{attrs:r.mix(n,{x:0,y:c+o+10,textAlign:"center",textBaseline:"middle"})}),h="vertical"===this.get("layout")?"ns-resize":"ew-resize";button.attr("cursor",h),text.attr("cursor",h),this.set(t+"ButtonElement",button),this.set(t+"TextElement",text)},l._addVerticalTrigger=function(t,e,n,o){var l=this.get("slider").get(t+"HandleElement"),button=l.addShape("circle",{attrs:r.mix({x:0,y:0,r:o},e)}),text=l.addShape("text",{attrs:r.mix(n,{x:o+10,y:0,textAlign:"start",textBaseline:"middle"})}),c="vertical"===this.get("layout")?"ns-resize":"ew-resize";button.attr("cursor",c),text.attr("cursor",c),this.set(t+"ButtonElement",button),this.set(t+"TextElement",text)},l._renderTrigger=function(){var t=this.get("firstItem"),e=this.get("lastItem"),n=this.get("layout"),o=this.get("textStyle"),l=this.get("triggerAttr"),c=r.mix({},l),h=r.mix({},l),f=r.mix({text:this._formatItemValue(t.value)+""},o),d=r.mix({text:this._formatItemValue(e.value)+""},o);"vertical"===n?(this._addVerticalTrigger("min",c,f,5),this._addVerticalTrigger("max",h,d,16)):(this._addHorizontalTrigger("min",c,f,5),this._addHorizontalTrigger("max",h,d,16))},l._bindEvents=function(){var t=this;this.get("slidable")&&this.get("slider").on("sliderchange",(function(e){var n=e.range,r=t.get("firstItem").value,o=t.get("lastItem").value,l=r+n[0]/100*(o-r),c=r+n[1]/100*(o-r),h=5+n[0]/100*11,f=5+n[1]/100*11;t._updateElement(l,c,h,f);var d=new Event("itemfilter",e,!0,!0);d.range=[l,c],t.emit("itemfilter",d)}))},l._updateElement=function(e,n,r,o){t.prototype._updateElement.call(this,e,n);var l=this.get("minTextElement"),c=this.get("maxTextElement"),h=this.get("minButtonElement"),f=this.get("maxButtonElement");if(h.attr("r",r),f.attr("r",o),"vertical"===this.get("layout"))l.attr("x",r+10),c.attr("x",o+10);else{var d=-this.get("height")/2;l.attr("y",d+r+10),c.attr("y",d+o+10)}},l._addCircle=function(t,e,n,text,o){var l=this.get("group").addGroup(),c=this.get("_unslidableCircleStyle"),h=this.get("textStyle"),f=this.get("titleShape"),d=this.get("titleGap");f&&(d+=f.getBBox().height),l.addShape("circle",{attrs:r.mix({x:t,y:e+d,r:0===n?1:n},c)}),"vertical"===this.get("layout")?l.addShape("text",{attrs:r.mix({x:o+20+this.get("textOffset"),y:e+d,text:0===text?"0":text},h)}):l.addShape("text",{attrs:r.mix({x:t,y:e+d+o+13+this.get("textOffset"),text:0===text?"0":text},h)})},l._renderUnslidable=function(){var t=this.get("firstItem").value,e=this.get("lastItem").value;if(t>e){var n=e;e=t,t=n}var r=this._formatItemValue(t),o=this._formatItemValue(e),l=t<5?5:t,c=e>16?16:e;l>c&&(l=5,c=16),"vertical"===this.get("layout")?(this._addCircle(c,c,l,r,2*c),this._addCircle(c,2*c+16+l,c,o,2*c)):(this._addCircle(c,c,l,r,2*c),this._addCircle(2*c+16+l,c,c,o,2*c))},l.activate=function(e){this.get("slidable")&&t.prototype.activate.call(this,e)},o}(o);t.exports=l},function(t,e,n){var r=n(69);r.Html=n(333),r.Canvas=n(162),r.Mini=n(335),t.exports=r},function(t,e,n){function r(){return(r=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var e in source)Object.prototype.hasOwnProperty.call(source,e)&&(t[e]=source[e])}return t}).apply(this,arguments)}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var l=n(20),c=n(69),h=n(3),f=h.DomUtil,d=n(334),v=n(159),y=n(160),m=n(161),x=l.Marker;function _(t,e){return t.getElementsByClassName(e)[0]}var w=function(t){var e,n;n=t,(e=c).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var l=c.prototype;function c(e){var n;n=t.call(this,e)||this,h.assign(o(n),y),h.assign(o(n),m);var style=d;n.style=function(t,e){return Object.keys(t).forEach((function(n){e[n]&&(t[n]=h.mix(t[n],e[n]))})),t}(style,e),n._init_(),n.get("items")&&n.render();var r=n.get("crosshairs");if(r){var l="rect"===r.type?n.get("backPlot"):n.get("frontPlot"),c=new v(h.mix({plot:l,plotRange:n.get("plotRange"),canvas:n.get("canvas")},n.get("crosshairs")));c.hide(),n.set("crosshairGroup",c)}return n}return l.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return h.mix({},e,{containerTpl:' <div class="g2-tooltip"> <div class="g2-tooltip-title"></div><ul class="g2-tooltip-list"></ul></div>',itemTpl:'<li data-index={index}>\n      <svg viewBox="0 0 5 5" class="g2-tooltip-marker"></svg>\n      {name}<span class="g2-tooltip-value">{value}</span></li>',htmlContent:null,follow:!0,enterable:!1})},l._init_=function(){var t,e=this.get("containerTpl"),n=this.get("canvas").get("el").parentNode;if(!this.get("htmlContent")){if(/^\#/.test(e)){var r=e.replace("#","");t=document.getElementById(r)}else t=f.createDom(e),f.modifyCSS(t,this.style["g2-tooltip"]),n.appendChild(t),n.style.position="relative";this.set("container",t)}},l.render=function(){if(this.clear(),this.get("htmlContent")){var t=this.get("canvas").get("el").parentNode,e=this._getHtmlContent();t.appendChild(e),this.set("container",e)}else this._renderTpl()},l._renderTpl=function(){var t=this,e=t.get("showTitle"),n=t.get("titleContent"),r=t.get("container"),o=_(r,"g2-tooltip-title"),l=_(r,"g2-tooltip-list"),c=t.get("items");o&&e&&(f.modifyCSS(o,t.style["g2-tooltip-title"]),o.innerHTML=n),l&&(f.modifyCSS(l,t.style["g2-tooltip-list"]),h.each(c,(function(e,n){l.appendChild(t._addItem(e,n))})))},l.clear=function(){var t=this.get("container");if(this.get("htmlContent"))t&&t.remove();else{var e=_(t,"g2-tooltip-title"),n=_(t,"g2-tooltip-list");e&&(e.innerHTML=""),n&&(n.innerHTML="")}},l.show=function(){var e=this.get("container");if(e&&!this.destroyed){e.style.visibility="visible",e.style.display="block";var n=this.get("crosshairGroup");n&&n.show();var r=this.get("markerGroup");r&&r.show(),t.prototype.show.call(this),this.get("canvas").draw()}},l.hide=function(){var e=this.get("container");if(e&&!this.destroyed){e.style.visibility="hidden",e.style.display="none";var n=this.get("crosshairGroup");n&&n.hide();var r=this.get("markerGroup");r&&r.hide(),t.prototype.hide.call(this),this.get("canvas").draw()}},l.destroy=function(){var e=this.get("container"),n=this.get("containerTpl");e&&!/^\#/.test(n)&&e.parentNode.removeChild(e);var r=this.get("crosshairGroup");r&&r.destroy();var o=this.get("markerGroup");o&&o.remove(),t.prototype.destroy.call(this)},l._getMarkerSvg=function(t){var e,marker=t.marker||{},symbol=marker.activeSymbol||marker.symbol;return h.isFunction(symbol)?e=symbol:h.isString(symbol)&&(e=x.Symbols[symbol]),'<path d="'+(e=h.isFunction(e)?e:x.Symbols.circle)(2.5,2.5,2.5).reduce((function(t,e){return""+t+e[0]+e.slice(1).join(",")}),"")+'" fill="'+(marker.fill||"none")+'" stroke="'+(marker.stroke||"none")+'" />'},l._addItem=function(t,e){var n=this.get("itemTpl"),o=h.substitute(n,h.mix({index:e},t)),l=f.createDom(o);f.modifyCSS(l,this.style["g2-tooltip-list-item"]);var c=_(l,"g2-tooltip-marker");if(c){f.modifyCSS(c,r({},this.style["g2-tooltip-marker"],{borderRadius:"unset"}));var d=this._getMarkerSvg(t);c.innerHTML=d}var v=_(l,"g2-tooltip-value");return v&&f.modifyCSS(v,this.style["g2-tooltip-value"]),l},l._getHtmlContent=function(){var t=this.get("htmlContent")(this.get("titleContent"),this.get("items"));return f.createDom(t)},l.setPosition=function(e,n,r){var o,l=this.get("container"),c=this.get("canvas").get("el"),d=f.getWidth(c),v=f.getHeight(c),y=l.clientWidth,m=l.clientHeight,x=e,_=n,w=this.get("prePosition")||{x:0,y:0};if(y||(l.style.display="block",y=l.clientWidth,m=l.clientHeight,l.style.display="none"),this.get("enterable")?(o=[e,n-=l.clientHeight/2],w&&e-w.x>0?e-=l.clientWidth+1:e+=1):this.get("position")?(e=(o=this._calcTooltipPosition(e,n,this.get("position"),y,m,r))[0],n=o[1]):(e=(o=this._constraintPositionInBoundary(e,n,y,m,d,v))[0],n=o[1]),this.get("inPlot")){var S=this.get("plotRange");e=(o=this._constraintPositionInPlot(e,n,y,m,S,this.get("enterable")))[0],n=o[1]}var M=this.get("markerItems");h.isEmpty(M)||(x=M[0].x,_=M[0].y),this.set("prePosition",o),this.get("follow")&&(l.style.left=e+"px",l.style.top=n+"px");var C=this.get("crosshairGroup");if(C){var A=this.get("items");C.setPosition(x,_,A)}t.prototype.setPosition.call(this,e,n)},c}(c);t.exports=w},function(t,e,n){var r,o=n(14).FONT_FAMILY,l=((r={crosshairs:!1,offset:15})["g2-tooltip"]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:o,lineHeight:"20px",padding:"10px 10px 6px 10px"},r["g2-tooltip-title"]={marginBottom:"4px"},r["g2-tooltip-list"]={margin:0,listStyleType:"none",padding:0},r["g2-tooltip-list-item"]={marginBottom:"4px"},r["g2-tooltip-marker"]={width:"5px",height:"5px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},r["g2-tooltip-value"]={display:"inline-block",float:"right",marginLeft:"30px"},r);t.exports=l},function(t,e,n){var r=n(3),o=n(162),l=n(14).FONT_FAMILY,c=r.DomUtil,h=r.MatrixUtil,f=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var f=o.prototype;return f.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{boardStyle:{x:0,y:0,width:0,height:0,radius:3},valueStyle:{x:0,y:0,text:"",fontFamily:l,fontSize:12,stroke:"#fff",lineWidth:2,fill:"black",textBaseline:"top",textAlign:"start"},padding:{top:5,right:5,bottom:0,left:5},triangleWidth:10,triangleHeight:4})},f._init_=function(){var t=this.get("padding"),e=this.get("frontPlot").addGroup();this.set("container",e);var n=e.addShape("rect",{attrs:r.mix({},this.get("boardStyle"))});this.set("board",n);var o=e.addShape("path",{attrs:{fill:this.get("boardStyle").fill}});this.set("triangleShape",o);var l=e.addGroup();l.move(t.left,t.top);var c=l.addShape("text",{attrs:r.mix({},this.get("valueStyle"))});this.set("valueShape",c)},f.render=function(){this.clear();var t=this.get("board"),e=this.get("valueShape"),n=this.get("padding"),r=this.get("items")[0];e&&e.attr("text",r.value);var o=e?e.getBBox():{width:80,height:30},l=n.left+o.width+n.right,c=n.top+o.height+n.bottom;t.attr("width",l),t.attr("height",c),this._centerTriangleShape()},f.clear=function(){this.get("valueShape").attr("text","")},f.setPosition=function(t,e,n){var r=this.get("container"),o=this.get("plotRange"),l=r.getBBox(),f=l.width,d=l.height;if(t-=f/2,!n||"point"!==n.name&&"interval"!==n.name||(e=n.getBBox().y),e-=d,this.get("inPlot"))t<o.tl.x?(t=o.tl.x,this._leftTriangleShape()):t+f/2>o.tr.x?(t=o.tr.x-f,this._rightTriangleShape()):this._centerTriangleShape(),e<o.tl.y?e=o.tl.y:e+d>o.bl.y&&(e=o.bl.y-d);else{var v=this.get("canvas").get("el"),y=c.getWidth(v),m=c.getHeight(v);t<0?(t=0,this._leftTriangleShape()):t+f/2>y?(t=y-f,this._rightTriangleShape()):this._centerTriangleShape(),e<0?e=0:e+d>m&&(e=m-d)}var x=h.transform([1,0,0,0,1,0,0,0,1],[["t",t,e]]);r.stopAnimate(),r.animate({matrix:x},this.get("animationDuration"))},f._centerTriangleShape=function(){var t=this.get("triangleShape"),e=this.get("triangleWidth"),n=this.get("triangleHeight"),r=this.get("board").getBBox(),o=r.width,l=r.height,c=[["M",0,0],["L",e,0],["L",e/2,n],["L",0,0],["Z"]];t.attr("path",c),t.move(o/2-e/2,l-1)},f._leftTriangleShape=function(){var t=this.get("triangleShape"),e=this.get("triangleWidth"),n=this.get("triangleHeight"),r=this.get("board").getBBox().height,o=[["M",0,0],["L",e,0],["L",0,n+3],["L",0,0],["Z"]];t.attr("path",o),t.move(0,r-3)},f._rightTriangleShape=function(){var t=this.get("triangleShape"),e=this.get("triangleWidth"),n=this.get("triangleHeight"),r=this.get("board").getBBox(),o=r.width,l=r.height,c=[["M",0,0],["L",e,0],["L",e,n+4],["L",0,0],["Z"]];t.attr("path",c),t.move(o-e-1,l-4)},o}(o);t.exports=f},function(t,e,n){var r=n(0).MatrixUtil.vec2;t.exports={catmullRom2bezier:function(t,e,n){for(var o=!!e,l=[],i=0,c=t.length;i<c;i+=2)l.push([t[i],t[i+1]]);for(var h,f,p,d=function(t,e,n,o){var l,c,h,f,d=[],v=!!o;if(v){h=[1/0,1/0],f=[-1/0,-1/0];for(var i=0,y=t.length;i<y;i++){var m=t[i];h=r.min([],h,m),f=r.max([],f,m)}h=r.min([],h,o[0]),f=r.max([],f,o[1])}for(var x=0,_=t.length;x<_;x++){var w=t[x];if(n)l=t[x?x-1:_-1],c=t[(x+1)%_];else{if(0===x||x===_-1){d.push(w);continue}l=t[x-1],c=t[x+1]}var S=[];S=r.sub(S,c,l),S=r.scale(S,S,e);var M=r.distance(w,l),C=r.distance(w,c),A=M+C;0!==A&&(M/=A,C/=A);var k=r.scale([],S,-M),P=r.scale([],S,C),T=r.add([],w,k),I=r.add([],w,P);v&&(T=r.max([],T,h),T=r.min([],T,f),I=r.max([],I,h),I=r.min([],I,f)),d.push(T),d.push(I)}return n&&d.push(d.shift()),d}(l,.4,o,n),v=l.length,y=[],m=0;m<v-1;m++)h=d[2*m],f=d[2*m+1],p=l[m+1],y.push(["C",h[0],h[1],f[0],f[1],p[0],p[1]]);return o&&(h=d[v],f=d[v+1],p=l[0],y.push(["C",h[0],h[1],f[0],f[1],p[0],p[1]])),y}}},function(t,e,n){var r=n(0),o=n(163),l=n(23),c=n(7);function h(t,e,n){return{x:t.x+n*Math.cos(e),y:t.y+n*Math.sin(e)}}var f=function t(e){t.superclass.constructor.call(this,e)};r.extend(f,o),r.augment(f,{getDefaultCfg:function(){return{label:c.thetaLabels}},getDefaultOffset:function(t){return t.offset||0},adjustItems:function(t){var e=t[0]?t[0].offset:0;return e>0&&(t=this._distribute(t,e)),f.superclass.adjustItems.call(this,t)},_distribute:function(t,e){var n=this.get("coord"),r=n.getRadius(),o=this.get("label").labelHeight,l=n.getCenter(),c=2*(r+e)+2*o,h={start:n.start,end:n.end},f=this.get("geom");if(f){var view=f.get("view");h=view.getViewRegion()}var d=[[],[]];return t.forEach((function(label){label&&("right"===label.textAlign?d[0].push(label):d[1].push(label))})),d.forEach((function(t,e){var n=parseInt(c/o,10);t.length>n&&(t.sort((function(a,b){return b["..percent"]-a["..percent"]})),t.splice(n,t.length-n)),t.sort((function(a,b){return a.y-b.y})),function(t,e,n,r,o){var i,l=!0,c=n.start,h=n.end,f=Math.min(c.y,h.y),d=Math.abs(c.y-h.y),v=0,y=Number.MIN_VALUE,m=t.map((function(label){return label.y>v&&(v=label.y),label.y<y&&(y=label.y),{size:e,targets:[label.y-f]}}));for(y-=f,v-f>d&&(d=v-f);l;)for(m.forEach((function(t){var e=(Math.min.apply(y,t.targets)+Math.max.apply(y,t.targets))/2;t.pos=Math.min(Math.max(y,e-t.size/2),d-t.size)})),l=!1,i=m.length;i--;)if(i>0){var x=m[i-1],_=m[i];x.pos+x.size>_.pos&&(x.size+=_.size,x.targets=x.targets.concat(_.targets),x.pos+x.size>d&&(x.pos=d-x.size),m.splice(i,1),l=!0)}i=0,m.forEach((function(b){var n=f+e/2;b.targets.forEach((function(){t[i].y=b.pos+n,n+=e,i++}))})),t.forEach((function(label){var t=label.r*label.r,e=Math.pow(Math.abs(label.y-r.y),2);if(t<e)label.x=r.x;else{var n=Math.sqrt(t-e);label.x=o?r.x+n:r.x-n}}))}(t,o,h,l,e)})),d[0].concat(d[1])},lineToLabel:function(label){var t=this.get("coord"),e=t.getRadius(),n=label.offset,r=label.orignAngle||label.angle,o=t.getCenter(),l=h(o,r,e+2.5),c=h(o,r,e+n/2);label.labelLine||(label.labelLine=this.get("label").labelLine||{}),label.labelLine.path=["M"+l.x,l.y+" Q"+c.x,c.y+" "+label.x,label.y].join(",")},getLabelRotate:function(t,e){var n;return e<0&&((n=180*t/Math.PI)>90&&(n-=180),n<-90&&(n+=180)),n/180*Math.PI},getLabelAlign:function(t){var e,n=this.get("coord").getCenter();return e=t.angle<=Math.PI/2&&t.x>=n.x?"left":"right",this.getDefaultOffset(t)<=0&&(e="right"===e?"left":"right"),e},getArcPoint:function(t){return t},getPointAngle:function(t){var e=this.get("coord"),n={x:r.isArray(t.x)?t.x[0]:t.x,y:t.y[0]};this.transLabelPoint(n);var o,c={x:r.isArray(t.x)?t.x[1]:t.x,y:t.y[1]};this.transLabelPoint(c);var h=l.getPointAngle(e,n);if(t.points&&t.points[0].y===t.points[1].y)o=h;else{var f=l.getPointAngle(e,c);h>=f&&(f+=2*Math.PI),o=h+(f-h)/2}return o},getCirclePoint:function(t,e){var n=this.get("coord"),r=n.getCenter(),o=n.getRadius()+e,l=h(r,t,o);return l.angle=t,l.r=o,l}}),t.exports=f},function(t,e,n){var r=n(0),o=n(66),l=function t(e){t.superclass.constructor.call(this,e)};r.extend(l,o),r.augment(l,{setLabelPosition:function(t,e,n,o){r.isFunction(o)&&(o=o(t.text,e._origin,n));var l=this.get("coord"),c=l.isTransposed,h=l.convertPoint(e.points[0]),f=l.convertPoint(e.points[2]),d=(h.x-f.x)/2*(c?-1:1),v=(h.y-f.y)/2*(c?-1:1);switch(o){case"right":c?(t.x-=d,t.y+=v,t.textAlign=t.textAlign||"center"):(t.x-=d,t.y+=v,t.textAlign=t.textAlign||"left");break;case"left":c?(t.x-=d,t.y-=v,t.textAlign=t.textAlign||"center"):(t.x+=d,t.y+=v,t.textAlign=t.textAlign||"right");break;case"bottom":c?(t.x-=2*d,t.textAlign=t.textAlign||"left"):(t.y+=2*v,t.textAlign=t.textAlign||"center");break;case"middle":c?t.x-=d:t.y+=v,t.textAlign=t.textAlign||"center";break;case"top":t.textAlign=c?t.textAlign||"left":t.textAlign||"center"}}}),t.exports=l},function(t,e,n){var r=n(0),o=n(7).defaultColor;function l(t){return t.alias||t.field}var c={_getIntervalSize:function(t){var e=null,n=this.get("type"),o=this.get("coord");if(o.isRect&&("interval"===n||"schema"===n)){e=this.getSize(t._origin);var l=o.isTransposed?"y":"x";r.isArray(t[l])&&(e=e<Math.abs(t[l][1]-t[l][0])?null:e)}return e},_snapEqual:function(t,e,n){return t=n.translate(t),e=n.translate(e),n.isCategory?t===e:r.snapEqual(t,e)},_getScaleValueByPoint:function(t){var e=0,n=this.get("coord"),r=this.getXScale(),o=n.invert(t).x;return this.isInCircle()&&o>(1+r.rangeMax())/2&&(o=r.rangeMin()),e=r.invert(o),r.isCategory&&(e=r.translate(e)),e},_getOriginByPoint:function(t){var e=this.getXScale(),n=this.getYScale(),r=e.field,o=n.field,l=this.get("coord").invert(t),c=e.invert(l.x),h=n.invert(l.y),f={};return f[r]=c,f[o]=h,f},_getScale:function(t){var e=this.get("scales"),n=null;return r.each(e,(function(e){if(e.field===t)return n=e,!1})),n},_getTipValueScale:function(){var t,e=this.getAttrsForLegend();r.each(e,(function(e){var n=e.getScale(e.type);if(n.isLinear)return t=n,!1}));var n=this.getXScale(),o=this.getYScale();return!t&&o&&"..y"===o.field?n:t||o||n},_getTipTitleScale:function(t){if(t)return this._getScale(t);var e,n=this.getAttr("position").getFields();return r.each(n,(function(t){if(!t.includes(".."))return e=t,!1})),this._getScale(e)},_filterValue:function(t,e){var n=this.get("coord"),o=this.getYScale(),l=o.field,c=n.invert(e).y;c=o.invert(c);var h=t[t.length-1];return r.each(t,(function(t){var e=t._origin;if(e[l][0]<=c&&e[l][1]>=c)return h=t,!1})),h},getXDistance:function(){var t=this.get("xDistance");if(!t){var e=this.getXScale();if(e.isCategory)t=1;else{var n=e.values,o=e.translate(n[0]),l=o;r.each(n,(function(t){(t=e.translate(t))<o&&(o=t),t>l&&(l=t)}));var c=n.length;t=(l-o)/(c-1)}this.set("xDistance",t)}return t},findPoint:function(t,e){var n=this,o=n.get("type"),l=n.getXScale(),c=n.getYScale(),h=l.field,f=c.field,d=null;if(r.indexOf(["heatmap","point"],o)>-1){var v=n.get("coord").invert(t),y=l.invert(v.x),m=c.invert(v.y),x=1/0;return r.each(e,(function(t){var e=Math.pow(t._origin[h]-y,2)+Math.pow(t._origin[f]-m,2);e<x&&(x=e,d=t)})),d}var _=e[0],w=e[e.length-1];if(!_)return d;var S=n._getScaleValueByPoint(t),M=_._origin[h],C=_._origin[f],A=w._origin[h],k=c.isLinear&&r.isArray(C);if(r.isArray(M))r.each(e,(function(t){var e=t._origin;if(l.translate(e[h][0])<=S&&l.translate(e[h][1])>=S){if(!k)return d=t,!1;r.isArray(d)||(d=[]),d.push(t)}})),r.isArray(d)&&(d=this._filterValue(d,t));else{var P;if(l.isLinear||"timeCat"===l.type){if((S>l.translate(A)||S<l.translate(M))&&(S>l.max||S<l.min))return null;for(var T,I=0,O=e.length-1;I<=O;){T=Math.floor((I+O)/2);var L=e[T]._origin[h];if(n._snapEqual(L,S,l))return e[T];l.translate(L)<=l.translate(S)?(I=T+1,w=e[T],P=e[T+1]):(0===O&&(w=e[0]),O=T-1)}}else r.each(e,(function(t,o){var c=t._origin;if(n._snapEqual(c[h],S,l)){if(!k)return d=t,!1;r.isArray(d)||(d=[]),d.push(t)}else l.translate(c[h])<=S&&(w=t,P=e[o+1])})),r.isArray(d)&&(d=this._filterValue(d,t));w&&P&&Math.abs(l.translate(w._origin[h])-S)>Math.abs(l.translate(P._origin[h])-S)&&(w=P)}var E=n.getXDistance();return!d&&Math.abs(l.translate(w._origin[h])-S)<=E/2&&(d=w),d},getTipTitle:function(t,e){var n="",r=this._getTipTitleScale(e);if(r){var o=t[r.field];n=r.getText(o)}else if("heatmap"===this.get("type")){var l=this.getXScale(),c=this.getYScale();n="( "+l.getText(t[l.field])+", "+c.getText(t[c.field])+" )"}return n},getTipValue:function(t,e){var n,o=e.field,l=t.key;if(n=t[o],r.isArray(n)){var c=[];r.each(n,(function(sub){c.push(e.getText(sub))})),n=c.join("-")}else n=e.getText(n,l);return n},getTipName:function(t){var e,n,o=this._getGroupScales();if(o.length&&r.each(o,(function(t){return n=t,!1})),n){var c=n.field;e=n.getText(t[c])}else e=l(this._getTipValueScale());return e},getTipItems:function(t,e){var n,c,h=this,f=t._origin,d=h.getTipTitle(f,e),v=h.get("tooltipCfg"),y=[];function m(e,n,l){if(!r.isNil(n)&&""!==n){var c={title:d,point:t,name:e||d,value:n,color:t.color||o,marker:!0};c.size=h._getIntervalSize(t),y.push(r.mix({},c,l))}}if(v){var x=v.fields,_=v.cfg,w=[];if(r.each(x,(function(t){w.push(f[t])})),_){r.isFunction(_)&&(_=_.apply(null,w));var S=r.mix({},{point:t,title:d,color:t.color||o,marker:!0},_);S.size=h._getIntervalSize(t),y.push(S)}else r.each(x,(function(t){if(!r.isNil(f[t])){var e=h._getScale(t);n=l(e),c=e.getText(f[t]),m(n,c)}}))}else{var M=h._getTipValueScale();r.isNil(f[M.field])||(c=h.getTipValue(f,M),m(n=h.getTipName(f),c))}return y},isShareTooltip:function(){var t,e=this.get("shareTooltip"),n=this.get("type"),view=this.get("view");if(t=view.get("parent")?view.get("parent").get("options"):view.get("options"),"interval"===n){var o=this.get("coord"),l=o.type;("theta"===l||"polar"===l&&o.isTransposed)&&(e=!1)}else this.getYScale()&&!r.inArray(["contour","point","polygon","edge"],n)||(e=!1);return t.tooltip&&r.isBoolean(t.tooltip.shared)&&(e=t.tooltip.shared),e}};t.exports=c},function(t,e,n){var r=n(0),o=n(164);function l(t,e){if(!t)return!0;if(t.length!==e.length)return!0;var n=!1;return r.each(e,(function(e,o){if(!function(t,e){if(r.isNil(t)||r.isNil(e))return!1;var n=t.get("origin"),o=e.get("origin");return r.isEqual(n,o)}(e,t[o]))return n=!0,!1})),n}function c(t,e){var n={};return r.each(t,(function(t,o){var l=e.attr(o);r.isArray(l)&&(l=r.cloneDeep(l)),n[o]=l})),n}var h={_isAllowActive:function(){var t=this.get("allowActive");if(!r.isNil(t))return t;var view=this.get("view"),e=this.isShareTooltip();return!1===view.get("options").tooltip||!e},_onMouseenter:function(t){var e=t.shape,n=this.get("shapeContainer");e&&n.contain(e)&&this._isAllowActive()&&this.setShapesActived(e)},_onMouseleave:function(){var canvas=this.get("view").get("canvas");this.get("activeShapes")&&(this.clearActivedShapes(),canvas.draw())},_bindActiveAction:function(){var view=this.get("view"),t=this.get("type");view.on(t+":mouseenter",r.wrapBehavior(this,"_onMouseenter")),view.on(t+":mouseleave",r.wrapBehavior(this,"_onMouseleave"))},_offActiveAction:function(){var view=this.get("view"),t=this.get("type");view.off(t+":mouseenter",r.getWrapBehavior(this,"_onMouseenter")),view.off(t+":mouseleave",r.getWrapBehavior(this,"_onMouseleave"))},_setActiveShape:function(t){var e=this.get("activedOptions")||{},n=t.get("origin"),l=n.shape||this.getDefaultValue("shape");r.isArray(l)&&(l=l[0]);var h=this.get("shapeFactory"),f=r.mix({},t.attr(),{origin:n}),d=h.getActiveCfg(l,f);e.style&&r.mix(d,e.style);var v=c(d,t);t.setSilent("_originActiveAttrs",v),e.animate?t.animate(d,300):t.attr(d),o.toFront(t)},setShapesActived:function(t){var e=this;r.isArray(t)||(t=[t]);var n=e.get("activeShapes");if(l(n,t)){var canvas=e.get("view").get("canvas"),o=e.get("activedOptions");o&&o.highlight?(r.each(t,(function(t){t.get("animating")&&t.stopAnimate()})),e.highlightShapes(t)):(n&&e.clearActivedShapes(),r.each(t,(function(t){t.get("animating")&&t.stopAnimate(),t.get("visible")&&e._setActiveShape(t)}))),e.set("activeShapes",t),canvas.draw()}},clearActivedShapes:function(){var t=this.get("shapeContainer"),e=this.get("activedOptions"),n=e&&e.animate;if(t&&!t.get("destroyed")){var l=this.get("activeShapes");if(r.each(l,(function(t){var e=t.get("_originActiveAttrs");n?(t.stopAnimate(),t.animate(e,300)):t.attr(e),o.resetZIndex(t),t.setSilent("_originActiveAttrs",null)})),this.get("preHighlightShapes")){var c=t.get("children");r.each(c,(function(t){var e=t.get("_originActiveAttrs");e&&(n?(t.stopAnimate(),t.animate(e,300)):t.attr(e),o.resetZIndex(t),t.setSilent("_originActiveAttrs",null))}))}this.set("activeShapes",null),this.set("preHighlightShapes",null)}},getGroupShapesByPoint:function(t){var e=this.get("shapeContainer"),n=[];if(e){var o=this.getXScale().field,l=this.getShapes(),c=this._getOriginByPoint(t);r.each(l,(function(t){var e=t.get("origin");t.get("visible")&&e&&e._origin[o]===c[o]&&n.push(t)}))}return n},getSingleShapeByPoint:function(t){var e,n=this.get("shapeContainer"),r=n.get("canvas").get("pixelRatio");if(n&&(e=n.getShape(t.x*r,t.y*r)),e&&e.get("origin"))return e},highlightShapes:function(t,e){r.isArray(t)||(t=[t]);var n=this.get("activeShapes");if(l(n,t)){n&&this.clearActivedShapes();var h=this.getShapes(),f=this.get("activedOptions"),d=f&&f.animate,v=f&&f.style;r.each(h,(function(n){var l={};n.stopAnimate(),-1!==r.indexOf(t,n)?(r.mix(l,v,e),o.toFront(n)):(r.mix(l,{fillOpacity:.3,opacity:.3}),o.resetZIndex(n));var h=c(l,n);n.setSilent("_originActiveAttrs",h),d?n.animate(l,300):n.attr(l)})),this.set("preHighlightShapes",t),this.set("activeShapes",t)}}};t.exports=h},function(t,e,n){var r=n(0),o=n(164);function l(t,e){if(r.isNil(t)||r.isNil(e))return!1;var n=t.get("origin"),o=e.get("origin");return r.isEqual(n,o)}var c={_isAllowSelect:function(){var t=this.get("allowSelect");if(!r.isNil(t))return t;var e=this.get("type"),n=this.get("coord"),o=n&&n.type;return"interval"===e&&"theta"===o},_onClick:function(t){if(this._isAllowSelect()){var e=t.shape,n=this.get("shapeContainer");e&&n.contain(e)&&this.setShapeSelected(e)}},_bindSelectedAction:function(){var view=this.get("view"),t=this.get("type");view.on(t+":click",r.wrapBehavior(this,"_onClick"))},_offSelectedAction:function(){var view=this.get("view"),t=this.get("type");view.off(t+":click",r.getWrapBehavior(this,"_onClick"))},_setShapeStatus:function(t,e){var view=this.get("view"),n=this.get("selectedOptions")||{},animate=!1!==n.animate,canvas=view.get("canvas");t.set("selected",e);var l=t.get("origin");if(e){var c=l.shape||this.getDefaultValue("shape");r.isArray(c)&&(c=c[0]);var h=this.get("shapeFactory"),f=r.mix({geom:this,point:l},n),d=h.getSelectedCfg(c,f);r.mix(d,f.style),t.get("_originAttrs")||(t.get("animating")&&t.stopAnimate(),t.set("_originAttrs",function(t,e){var n={};return r.each(t,(function(t,o){"transform"===o&&(o="matrix");var l=e.attr(o);r.isArray(l)&&(l=r.cloneDeep(l)),n[o]=l})),n}(d,t))),n.toFront&&o.toFront(t),animate?t.animate(d,300):(t.attr(d),canvas.draw())}else{var v=t.get("_originAttrs");n.toFront&&o.resetZIndex(t),t.set("_originAttrs",null),animate?t.animate(v,300):(t.attr(v),canvas.draw())}},setShapeSelected:function(t){var e=this._getSelectedShapes(),n=this.get("selectedOptions")||{},o=!1!==n.cancelable;if("multiple"===n.mode)-1===r.indexOf(e,t)?(e.push(t),this._setShapeStatus(t,!0)):o&&(r.Array.remove(e,t),this._setShapeStatus(t,!1));else{var c=e[0];o&&(t=l(c,t)?null:t),l(c,t)||(c&&this._setShapeStatus(c,!1),t&&this._setShapeStatus(t,!0))}},clearSelected:function(){var t=this,e=t.get("shapeContainer");if(e&&!e.get("destroyed")){var n=t._getSelectedShapes();r.each(n,(function(e){t._setShapeStatus(e,!1),e.set("_originAttrs",null)}))}},setSelected:function(t){var e=this,n=e.getShapes();return r.each(n,(function(n){var r=n.get("origin");r&&r._origin===t&&e.setShapeSelected(n)})),this},_getSelectedShapes:function(){var t=this.getShapes(),e=[];return r.each(t,(function(t){t.get("selected")&&e.push(t)})),this.set("selectedShapes",e),e}};t.exports=c},function(t,e,n){var r=n(0);t.exports=function(t){return r.isArray(t)?t:r.isString(t)?t.split("*"):[t]}},function(t,e,n){var r=n(74),o=n(0),l=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,c="linear",h="cat",f="time",d=function(){function t(t){this.defs={},this.viewTheme={scales:{}},this.filters={},o.assign(this,t)}var e=t.prototype;return e._getDef=function(t){var defs=this.defs,e=this.viewTheme,n=null;return(e.scales[t]||defs[t])&&(n=o.mix({},e.scales[t]),o.each(defs[t],(function(t,e){o.isNil(t)?delete n[e]:n[e]=t})),this.filters[t]&&(delete n.min,delete n.max)),n},e._getDefaultType=function(t,data){var e=c,n=o.Array.firstValue(data,t);return o.isArray(n)&&(n=n[0]),l.test(n)?e=f:o.isString(n)&&(e=h),e},e._getScaleCfg=function(t,e,data){var n={field:e},l=o.Array.values(data,e);if(n.values=l,!r.isCategory(t)&&"time"!==t){var c=o.Array.getRange(l);n.min=c.min,n.max=c.max,n.nice=!0}return"time"===t&&(n.nice=!1),n},e.createScale=function(t,data){var e,n=this._getDef(t),l=data||[],c=o.Array.firstValue(l,t);if(o.isNumber(t)||o.isNil(c)&&!n)e=r.identity({value:t,field:t.toString(),values:[t]});else{var h;n&&(h=n.type),h=h||this._getDefaultType(t,l);var f=this._getScaleCfg(h,t,l);n&&o.mix(f,n),e=r[h](f)}return e},t}();t.exports=d},function(t,e,n){var r=n(0),o=n(345),l=function(){function t(option){this.type="rect",this.actions=[],this.cfg={},r.mix(this,option),this.option=option||{}}var e=t.prototype;return e.reset=function(t){return this.actions=t.actions||[],this.type=t.type,this.cfg=t.cfg,this.option.actions=this.actions,this.option.type=this.type,this.option.cfg=this.cfg,this},e._execActions=function(t){var e=this.actions;r.each(e,(function(e){var n=e[0];t[n](e[1],e[2])}))},e.hasAction=function(t){var e=this.actions,n=!1;return r.each(e,(function(e){if(t===e[0])return n=!0,!1})),n},e.createCoord=function(t,e){var n,l,c=this.type,h=this.cfg,f=r.mix({start:t,end:e},h);return"theta"===c?(n=o.Polar,this.hasAction("transpose")||this.transpose(),(l=new n(f)).type=c):l=new(n=o[r.upperFirst(c||"")]||o.Rect)(f),this._execActions(l),l},e.rotate=function(t){return t=t*Math.PI/180,this.actions.push(["rotate",t]),this},e.reflect=function(t){return this.actions.push(["reflect",t]),this},e.scale=function(t,e){return this.actions.push(["scale",t,e]),this},e.transpose=function(){return this.actions.push(["transpose"]),this},t}();t.exports=l},function(t,e,n){"use strict";var r=n(44);r.Cartesian=n(346),r.Rect=r.Cartesian,r.Polar=n(347),r.Helix=n(348),t.exports=r},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}function h(t,p){return(h=Object.setPrototypeOf||function(t,p){return t.__proto__=p,t})(t,p)}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var base=function(object,t){for(;!Object.prototype.hasOwnProperty.call(object,t)&&null!==(object=d(object)););return object}(t,e);if(base){var desc=Object.getOwnPropertyDescriptor(base,e);return desc.get?desc.get.call(n):desc.value}})(t,e,n||t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=n(8),y=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=o(this,d(e).call(this,t)))._init(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,t),c(e,[{key:"getDefaultCfg",value:function(){var t=f(d(e.prototype),"getDefaultCfg",this).call(this);return v({},t,{start:{x:0,y:0},end:{x:0,y:0},type:"cartesian",isRect:!0})}}]),c(e,[{key:"_init",value:function(){var t=this.start,e=this.end,n={start:t.x,end:e.x},r={start:t.y,end:e.y};this.x=n,this.y=r}},{key:"convertPoint",value:function(t){var e,n;return this.isTransposed?(e=t.y,n=t.x):(e=t.x,n=t.y),{x:this.convertDim(e,"x"),y:this.convertDim(n,"y")}}},{key:"invertPoint",value:function(t){var e=this.invertDim(t.x,"x"),n=this.invertDim(t.y,"y");return this.isTransposed?{x:n,y:e}:{x:e,y:n}}}]),e}(n(44));t.exports=y},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}function h(t,p){return(h=Object.setPrototypeOf||function(t,p){return t.__proto__=p,t})(t,p)}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var base=function(object,t){for(;!Object.prototype.hasOwnProperty.call(object,t)&&null!==(object=d(object)););return object}(t,e);if(base){var desc=Object.getOwnPropertyDescriptor(base,e);return desc.get?desc.get.call(n):desc.value}})(t,e,n||t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=n(43),y=n(35),m=n(8),x=n(44),_=v.mat3,w=v.vec2,S=v.vec3,M=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=o(this,d(e).call(this,t)))._init(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,t),c(e,[{key:"getDefaultCfg",value:function(){var t=f(d(e.prototype),"getDefaultCfg",this).call(this);return m({},t,{startAngle:-Math.PI/2,endAngle:3*Math.PI/2,innerRadius:0,type:"polar",isPolar:!0})}}]),c(e,[{key:"_init",value:function(){for(var t=this.radius,e=this.innerRadius,n=this.center,r=this.startAngle,o=this.endAngle;o<r;)o+=2*Math.PI;this.endAngle=o;var l,c,h=this.getOneBox(),f=h.maxX-h.minX,d=h.maxY-h.minY,v=Math.abs(h.minX)/f,y=Math.abs(h.minY)/d,m=this.width,x=this.height;x/d>m/f?(l=m/f,c={x:n.x-(.5-v)*m,y:n.y-(.5-y)*l*d}):(l=x/d,c={x:n.x-(.5-v)*l*f,y:n.y-(.5-y)*x}),t?t>0&&t<=1?t*=l:(t<=0||t>l)&&(t=l):t=l;var _={start:r,end:o},w={start:e*t,end:t};this.x=_,this.y=w,this.radius=t,this.circleCentre=c,this.center=c}},{key:"getCenter",value:function(){return this.circleCentre}},{key:"getOneBox",value:function(){var t=this.startAngle,e=this.endAngle;if(Math.abs(e-t)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var n=[0,Math.cos(t),Math.cos(e)],r=[0,Math.sin(t),Math.sin(e)],i=Math.min(t,e);i<Math.max(t,e);i+=Math.PI/18)n.push(Math.cos(i)),r.push(Math.sin(i));return{minX:Math.min.apply(Math,n),maxX:Math.max.apply(Math,n),minY:Math.min.apply(Math,r),maxY:Math.max.apply(Math,r)}}},{key:"getRadius",value:function(){return this.radius}},{key:"convertPoint",value:function(t){var e=this.getCenter(),n=this.isTransposed?t.y:t.x,r=this.isTransposed?t.x:t.y;return n=this.convertDim(n,"x"),r=this.convertDim(r,"y"),{x:e.x+Math.cos(n)*r,y:e.y+Math.sin(n)*r}}},{key:"invertPoint",value:function(t){var e=this.getCenter(),n=[t.x-e.x,t.y-e.y],r=this.x,o=[1,0,0,0,1,0,0,0,1];_.rotate(o,o,r.start);var l=[1,0,0];S.transformMat3(l,l,o),l=[l[0],l[1]];var c=w.angleTo(l,n,r.end<r.start);y(c,2*Math.PI)&&(c=0);var h=w.length(n),f=c/(r.end-r.start);f=r.end-r.start>0?f:-f;var d=this.invertDim(h,"y"),v={};return v.x=this.isTransposed?d:f,v.y=this.isTransposed?f:d,v}}]),e}(x);t.exports=M},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}function h(t,p){return(h=Object.setPrototypeOf||function(t,p){return t.__proto__=p,t})(t,p)}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var base=function(object,t){for(;!Object.prototype.hasOwnProperty.call(object,t)&&null!==(object=d(object)););return object}(t,e);if(base){var desc=Object.getOwnPropertyDescriptor(base,e);return desc.get?desc.get.call(n):desc.value}})(t,e,n||t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=n(43),y=n(35),m=n(8),x=n(44),_=v.vec2,w=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=o(this,d(e).call(this,t)))._init(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,t),c(e,[{key:"getDefaultCfg",value:function(){var t=f(d(e.prototype),"getDefaultCfg",this).call(this);return m({},t,{startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,innerRadius:0,type:"helix",isHelix:!0})}}]),c(e,[{key:"_init",value:function(){var t=this.width,e=this.height,n=this.radius,r=this.innerRadius,o=this.startAngle,l=this.endAngle,c=(l-o)/(2*Math.PI)+1,h=Math.min(t,e)/2;n&&n>=0&&n<=1&&(h*=n);var f=Math.floor(h*(1-r)/c),a=f/(2*Math.PI),d={start:o,end:l},v={start:r*h,end:r*h+.99*f};this.a=a,this.d=f,this.x=d,this.y=v}},{key:"getCenter",value:function(){return this.center}},{key:"convertPoint",value:function(t){var e,n,a=this.a,r=this.center;this.isTransposed?(e=t.y,n=t.x):(e=t.x,n=t.y);var o=this.convertDim(e,"x"),l=a*o,c=this.convertDim(n,"y");return{x:r.x+Math.cos(o)*(l+c),y:r.y+Math.sin(o)*(l+c)}}},{key:"invertPoint",value:function(t){var e=this.center,a=this.a,n=this.d+this.y.start,r=_.subtract([],[t.x,t.y],[e.x,e.y]),o=_.angleTo(r,[1,0],!0),l=o*a;_.length(r)<l&&(l=_.length(r));var c=a*(o=2*Math.floor((_.length(r)-l)/n)*Math.PI+o),h=_.length(r)-c;h=y(h,0)?0:h;var f=this.invertDim(o,"x"),d=this.invertDim(h,"y");f=y(f,0)?0:f,d=y(d,0)?0:d;var v={};return v.x=this.isTransposed?d:f,v.y=this.isTransposed?f:d,v}}]),e}(x);t.exports=w},function(t,e,n){var r=n(0),o=n(22).Axis,l=r.MatrixUtil.vec2;function c(t,e){return void 0===e&&(e=0),"middle"===t&&(e=.5),t.includes("%")&&(e=parseInt(t,10)/100),e}var h=function(){function t(t){this.visible=!0,this.canvas=null,this.container=null,this.coord=null,this.options=null,this.axes=[],r.mix(this,t)}var e=t.prototype;return e._isHide=function(t){var e=this.options;return!(!e||!1!==e[t])},e._getMiddleValue=function(t,e,n,r){if(0===t&&!r)return 0;if(1===t)return 1;var o=e[n+1].value;return r||1!==o?(t+o)/2:1},e._getLineRange=function(t,e,n,r){var o,l,h,f=e.field,d=this.options,v="";if(d[f]&&d[f].position&&(v=d[f].position),"x"===n){var y="top"===v?1:0;o={x:0,y:y=c(v,y)},l={x:1,y:y},h=!1}else{if(r){var m="left"===v?0:1;o={x:m=c(v,m),y:0},l={x:m,y:1}}else{var x="right"===v?1:0;o={x:x=c(v,x),y:0},l={x:x,y:1}}h=!0}return{start:o=t.convert(o),end:l=t.convert(l),isVertical:h}},e._getLineCfg=function(t,e,n,r){var o=this._getLineRange(t,e,n,r),l=o.isVertical,c=o.start,h=o.end,f=t.center;return t.isTransposed&&(l=!l),{isVertical:l,factor:l&&c.x>f.x||!l&&c.y>f.y?1:-1,start:c,end:h}},e._getCircleCfg=function(t){var e,n={},r=t.x,o=t.y,c=o.start>o.end;e=t.isTransposed?{x:c?0:1,y:0}:{x:0,y:c?0:1},e=t.convert(e);var h,f=t.circleCentre,d=[e.x-f.x,e.y-f.y],v=[1,0],y=(h=e.y>f.y?l.angle(d,v):-1*l.angle(d,v))+(r.end-r.start);return n.startAngle=h,n.endAngle=y,n.center=f,n.radius=Math.sqrt(Math.pow(e.x-f.x,2)+Math.pow(e.y-f.y,2)),n.inner=t.innerRadius||0,n},e._getRadiusCfg=function(t){var e,n,r=t.x.start<0?-1:1;return t.isTransposed?(e={x:0,y:0},n={x:1,y:0}):(e={x:0,y:0},n={x:0,y:1}),{factor:r,start:t.convert(e),end:t.convert(n)}},e._getAxisPosition=function(t,e,n,r){var o="",l=this.options;if(l[r]&&l[r].position)o=l[r].position;else{var c=t.type;t.isRect?"x"===e?o="bottom":"y"===e&&(o=n?"right":"left"):o="helix"===c?"helix":"x"===e?t.isTransposed?"radius":"circle":t.isTransposed?"circle":"radius"}return o},e._getAxisDefaultCfg=function(t,e,n,o){var l=this.viewTheme,c={},h=this.options,f=e.field;if((c=r.deepMix({},l.axis[o],c,h[f])).viewTheme=l,c.title){var title=r.isPlainObject(c.title)?c.title:{};title.text=title.text||e.alias||f,r.deepMix(c,{title:title})}return c.ticks=e.getTicks(),t.isPolar&&!e.isCategory&&"x"===n&&Math.abs(t.endAngle-t.startAngle)===2*Math.PI&&c.ticks.pop(),c.coord=t,c.label&&r.isNil(c.label.autoRotate)&&(c.label.autoRotate=!0),h.hasOwnProperty("xField")&&h.xField.hasOwnProperty("grid")&&"left"===c.position&&r.deepMix(c,h.xField),c},e._getAxisCfg=function(t,e,n,o,l,c){void 0===l&&(l="");var h=this,f=h._getAxisPosition(t,o,l,e.field),d=h._getAxisDefaultCfg(t,e,o,f);if(!r.isEmpty(d.grid)&&n){var v=[],y=[],m=function(t){var e=[];if(t.length>0){var n=(e=t.slice(0))[0],r=e[e.length-1];0!==n.value&&e.unshift({value:0}),1!==r.value&&e.push({value:1})}return e}(n.getTicks());if(m.length){var x=function(t,e,n){var r=[];return t.length<1||(t.length>=2&&e&&n&&r.push({text:"",tickValue:"",value:0}),0!==t[0].value&&r.push({text:"",tickValue:"",value:0}),1!==(r=r.concat(t))[r.length-1].value&&r.push({text:"",tickValue:"",value:1})),r}(d.ticks,e.isLinear,"center"===d.grid.align);r.each(x,(function(n,f){y.push(n.tickValue);var _=[],w=n.value;if("center"===d.grid.align&&(w=h._getMiddleValue(w,x,f,e.isLinear)),!r.isNil(w)){var S=t.x,M=t.y;r.each(m,(function(e){var n="x"===o?w:e.value,r="x"===o?e.value:w,l=t.convert({x:n,y:r});if(t.isPolar){var c=t.circleCentre;M.start>M.end&&(r=1-r),l.flag=S.start>S.end?0:1,l.radius=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}_.push(l)})),v.push({_id:c+"-"+o+l+"-grid-"+n.tickValue,points:_})}}))}d.grid.items=v,d.grid.tickValues=y}return d.type=e.type,d},e._getHelixCfg=function(t){for(var e={},a=t.a,n=t.startAngle,r=t.endAngle,o=[],i=0;i<=100;i++){var l=t.convert({x:i/100,y:0});o.push(l.x),o.push(l.y)}var c=t.convert({x:0,y:0});return e.a=a,e.startAngle=n,e.endAngle=r,e.crp=o,e.axisStart=c,e.center=t.center,e.inner=t.y.start,e},e._drawAxis=function(t,e,n,l,c,h,f){var d,v,y=this.container,canvas=this.canvas;"cartesian"===t.type?(d=o.Line,v=this._getLineCfg(t,e,l,f)):"helix"===t.type&&"x"===l?(d=o.Helix,v=this._getHelixCfg(t)):"x"===l?(d=o.Circle,v=this._getCircleCfg(t)):(d=o.Line,v=this._getRadiusCfg(t));var m=this._getAxisCfg(t,e,n,l,f,c);m=r.mix({},m,v),"y"===l&&h&&"circle"===h.get("type")&&(m.circle=h),m._id=c+"-"+l,r.isNil(f)||(m._id=c+"-"+l+f),r.mix(m,{canvas:canvas,group:y.addGroup({viewId:c})});var x=new d(m);return x.render(),this.axes.push(x),x},e.createAxis=function(t,e,n){var o,l=this,c=this.coord,h=c.type;"theta"===h||"polar"===h&&c.isTransposed||(t&&!l._isHide(t.field)&&(o=l._drawAxis(c,t,e[0],"x",n)),r.isEmpty(e)||"helix"===h||r.each(e,(function(e,r){l._isHide(e.field)||l._drawAxis(c,e,t,"y",n,o,r)})))},e.changeVisible=function(t){var e=this.axes;r.each(e,(function(e){e.set("visible",t)}))},e.clear=function(){var t=this.axes;r.each(t,(function(t){t.destroy()})),this.axes=[]},t}();t.exports=h},function(t,e,n){var r=n(0),o=n(351),l=function(){function t(t){this.guides=[],this.options=[],this.xScales=null,this.yScales=null,this.view=null,this.viewTheme=null,this.frontGroup=null,this.backGroup=null,r.mix(this,t)}var e=t.prototype;return e._creatGuides=function(){var t=this,e=this.options,n=this.xScales,l=this.yScales,view=this.view,c=this.viewTheme;return this.backContainer&&view&&(this.backGroup=this.backContainer.addGroup({viewId:view.get("_id")})),this.frontContainer&&view&&(this.frontGroup=this.frontContainer.addGroup({viewId:view.get("_id")})),e.forEach((function(option){var e=option.type,h=r.deepMix({xScales:n,yScales:l,viewTheme:c},c?c.guide[e]:{},option);e=r.upperFirst(e);var f=new o[e](h);t.guides.push(f)})),t.guides},e.line=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"line"},t)),this},e.arc=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"arc"},t)),this},e.text=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"text"},t)),this},e.image=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"image"},t)),this},e.region=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"region"},t)),this},e.regionFilter=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"regionFilter"},t)),this},e.dataMarker=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"dataMarker"},t)),this},e.dataRegion=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"dataRegion"},t)),this},e.html=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"html"},t)),this},e.render=function(t){var e=this,view=e.view,n=view&&view.get("data"),o=e._creatGuides();r.each(o,(function(r){var o;o=r.get("top")?e.frontGroup||e.frontContainer:e.backGroup||e.backContainer,r.render(t,o,n,view)}))},e.clear=function(){this.options=[],this.reset()},e.changeVisible=function(t){var e=this.guides;r.each(e,(function(e){e.changeVisible(t)}))},e.reset=function(){var t=this.guides;r.each(t,(function(t){t.clear()})),this.guides=[],this.backGroup&&this.backGroup.remove(),this.frontGroup&&this.frontGroup.remove()},t}();t.exports=l},function(t,e,n){var r=n(22).Guide,o=n(352);r.RegionFilter=o,t.exports=r},function(t,e,n){var r=n(0),o=n(15),l=n(20).Path,c=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var c=o.prototype;return c.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"regionFilter",zIndex:1,top:!0,start:null,end:null,color:null,apply:null,style:{opacity:1}})},c.render=function(t,e,n,view){var r=this,o=e.addGroup();o.name="guide-region-filter",view.once("afterpaint",(function(){if(!o.get("destroyed")){r._drawShapes(view,o);var e=r._drawClip(t);o.attr({clip:e}),r.set("clip",e),r.get("appendInfo")&&o.setSilent("appendInfo",r.get("appendInfo")),r.set("el",o)}}))},c._drawShapes=function(view,t){var e=this,output=[];return view.getAllGeoms().map((function(n){var o=n.getShapes(),l=n.get("type");return e._geomFilter(l)&&o.map((function(n){var o=n.type,l=r.cloneDeep(n.attr());e._adjustDisplay(l);var s=t.addShape(o,{attrs:l});return output.push(s),n})),n})),output},c._drawClip=function(t){var e=this.parsePoint(t,this.get("start")),n=this.parsePoint(t,this.get("end")),path=[["M",e.x,e.y],["L",n.x,e.y],["L",n.x,n.y],["L",e.x,n.y],["z"]];return new l({attrs:{path:path,opacity:1}})},c._adjustDisplay=function(t){var e=this.get("color");t.fill&&(t.fill=t.fillStyle=e),t.stroke=t.strokeStyle=e},c._geomFilter=function(t){var e=this.get("apply");return!e||r.contains(e,t)},c.clear=function(){t.prototype.clear.call(this);var e=this.get("clip");e&&e.remove()},o}(o);t.exports=c},function(t,e,n){function r(){return(r=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var e in source)Object.prototype.hasOwnProperty.call(source,e)&&(t[e]=source[e])}return t}).apply(this,arguments)}var o=n(0),l=n(22).Legend,c=n(354),h=n(19),f=n(166),d=n(168),v=n(7),y=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,m=["cross","tick","plus","hyphen","line","hollowCircle","hollowSquare","hollowDiamond","hollowTriangle","hollowTriangleDown","hollowHexagon","hollowBowtie"],x=function(){function t(t){this.options={},o.mix(this,t),this.clear();var e=this.chart;this.container=e.get("frontPlot"),this.plotRange=e.get("plotRange")}var e=t.prototype;return e.clear=function(){var t=this.legends;this.backRange=null,o.each(t,(function(t){o.each(t,(function(legend){legend.destroy()}))})),this.legends={}},e.getBackRange=function(){var t=this.backRange;if(!t){var e=this.chart.get("backPlot");t=f(e,d(this.chart.get("plotRange")));var n=this.plotRange;t.maxX-t.minX<n.br.x-n.tl.x&&t.maxY-t.minY<n.br.y-n.tl.y&&(t={minX:n.tl.x,minY:n.tl.y,maxX:n.br.x,maxY:n.br.y}),this.backRange=t}return t},e._isFieldInView=function(t,e,view){var n=!1,r=view.get("scales")[t];return r&&r.values&&(n=o.inArray(r.values,e)),n},e._bindClickEvent=function(legend,t,e){var n=this,r=n.chart,l=r.get("views"),c=t.field,h=n.options;legend.on("itemclick",(function(t){if(h.onClick&&!0!==h.defaultClickHandlerEnabled)h.onClick(t);else{var f=t.item,d=t.checked,v="single"===legend.get("selectedMode"),y=f.dataValue;d?(o.Array.remove(e,y),n._isFieldInView(c,y,r)&&r.filter(c,(function(t){return v?t===y:!o.inArray(e,t)})),o.each(l,(function(view){n._isFieldInView(c,y,view)&&view.filter(c,(function(t){return v?t===y:!o.inArray(e,t)}))}))):v||(e.push(y),n._isFieldInView(c,y,r)&&r.filter(c,(function(t){return!o.inArray(e,t)})),o.each(l,(function(view){n._isFieldInView(c,y,view)&&view.filter(c,(function(t){return!o.inArray(e,t)}))}))),h.onClick&&h.onClick(t),r.set("keepLegend",!0),r.set("keepPadding",!0),r.repaint(),r.set("keepPadding",!1),r.set("keepLegend",!1)}}))},e._bindClickEventForMix=function(legend){var t=this.chart.getAllGeoms();legend.on("itemclick",(function(e){var n=e.item.field;e.checked?o.each(t,(function(t){t.getYScale().field===n&&t.show()})):o.each(t,(function(t){t.getYScale().field===n&&t.hide()}))}))},e._filterLabels=function(t,e,n){if(t.get("gLabel"))t.get("gLabel").set("visible",n);else{var r=e.get("labelCfg");if(r&&r.fields&&r.fields.length>0){var l=e.getXScale(),c=e.getYScale(),h=l.field,f=c.field,d=t.get("origin")._origin,v=e.get("labelContainer").get("labelsGroup").get("children");o.each(v,(function(label){var e=label.get("origin")||[];e[h]===d[h]&&e[f]===d[f]&&(label.set("visible",n),t.set("gLabel",label))}))}}},e._bindFilterEvent=function(legend,t){var e=this,n=this.chart,r=t.field;legend.on("itemfilter",(function(t){var l=t.range;n.filterShape((function(t,n,c){if(!o.isNil(t[r])){var h=t[r]>=l[0]&&t[r]<=l[1];return e._filterLabels(n,c,h),h}return!0}));for(var c=n.getAllGeoms()||[],h=function(i){var t=c[i];"heatmap"===t.get("type")&&y((function(){t.drawWithRange(l)}))},i=0;i<c.length;i++)h(i)}))},e._getShapeData=function(t){var e=t.get("origin");return o.isArray(e)&&(e=e[0]),e._origin},e._bindHoverEvent=function(legend,t){var e=this,n=e.chart,r=n.getAllGeoms(),l=e.options,canvas=n.get("canvas");legend.on("itemhover",(function(n){var c=n.item.value,pre=e.pre;if(pre){if(pre===c)return}else o.each(r,(function(r){var h=r.get("shapeContainer"),f=r.getShapes(),d=[];if(t){var v=r.get("scales")[t];o.each(f,(function(n){var r=e._getShapeData(n);r&&function(t,e,n){return!o.isNil(n)&&(t=n.translate(t),e=n.translate(e),n.isCategory?t===e:Math.abs(t-e)<=1)}(r[t],c,v)&&d.push(n)}))}else r.getYScale().field===c&&(d=f);o.isEmpty(d)||(n.shapes=d,n.geom=r,l.onHover?(l.onHover(n),h.sort(),canvas.draw()):r.setShapesActived(d))})),e.pre=c})),legend.on("itemunhover",(function(t){e.pre=null,l.onUnhover&&l.onUnhover(t),o.each(r,(function(t){t.get("activeShapes")&&(t.clearActivedShapes(),canvas.draw())}))}))},e._isFiltered=function(t,e,n){if(!t.isCategory)return!0;var r=!0;return n=t.invert(n),o.each(e,(function(e){if(t.getText(e)===t.getText(n))return r=!1,!1})),r},e._alignLegend=function(legend,pre,t,e){var n=this.viewTheme,canvas=this.container.get("canvas"),r=canvas.get("width"),o=canvas.get("height"),l=this.totalRegion,c=this.plotRange,h=this.getBackRange(),f=legend.get("offset")[0]||0,d=legend.get("offset")[1]||0,v=legend.getHeight(),y=legend.getWidth(),m=n.legend.margin,x=n.legend.legendMargin,_=this.legends[e].length,w=e.split("-"),S=0,M=0,C=_>1?l:t;if("left"===w[0]||"right"===w[0])o=c.br.y,S=this._getXAlign(w[0],r,t,h,y,m),M=pre?(pre.get("y")||pre.get("group").get("y"))+pre.getHeight()+x:this._getYAlignVertical(w[1],o,C,h,0,m,canvas.get("height"));else if("top"===w[0]||"bottom"===w[0])if(M=this._getYAlignHorizontal(w[0],o,t,h,v,m),pre){var A=pre.getWidth();S=(pre.get("x")||pre.get("group").get("x"))+A+x}else S=this._getXAlign(w[1],r,C,h,0,m),"right"===w[1]&&(S=c.br.x-C.totalWidth);legend.move(S+f,M+d)},e._getXAlign=function(t,e,n,r,o,l){var c=r.minX-o-l[3]<0?0:r.minX-o-l[3],h="left"===t?c:r.maxX+l[1];return"center"===t&&(h=(e-n.totalWidth)/2),h},e._getYAlignHorizontal=function(t,e,n,r,o,l){return"top"===t?r.minY-o-l[0]:r.maxY+l[2]},e._getYAlignVertical=function(t,e,n,r,o,l,c){var h="top"===t?r.minY-o-l[0]:e-n.totalHeight;return"center"===t&&(h=(c-n.totalHeight)/2),h},e._getSubRegion=function(t){var e=0,n=0,r=0,l=0;return o.each(t,(function(legend){var t=legend.getWidth(),o=legend.getHeight();e<t&&(e=t),r+=t,n<o&&(n=o),l+=o})),{maxWidth:e,totalWidth:r,maxHeight:n,totalHeight:l}},e._getRegion=function(){var t=this,e=t.viewTheme,n=t.legends,r=e.legend.legendMargin,l=[],c=0,h=0;return o.each(n,(function(e){var n=t._getSubRegion(e);l.push(n),c+=n.totalWidth+r,h+=n.totalHeight+r})),{totalWidth:c,totalHeight:h,subs:l}},e._addCategoryLegend=function(t,e,n,f,d){var y=this,m=t.field,x=y.options,_=x[m];_&&(x=_);var w=y.legends;w[d]=w[d]||[];var S=y.container,M=[],C=t.getTicks(),A=!0,k=n.get("shapeType")||"point",P=n.getDefaultValue("shape")||"circle";x[m]&&x[m].marker?(P=x[m].marker,k="point",A=!1):x.marker&&(P=x.marker,k="point",A=!1);var T=y.chart,I=y.viewTheme,canvas=T.get("canvas"),O=y.plotRange,L=d.split("-"),E="right"===L[0]||"left"===L[0]?O.bl.y-O.tr.y:canvas.get("width");o.each(C,(function(e){var r=e.text,l=e.value,c=t.invert(l),d={isInCircle:n.isInCircle()},m=!f||y._isFiltered(t,f,l),x=n.getAttr("color"),_=n.getAttr("shape");if(x)if(x.callback&&x.callback.length>1){var w=Array(x.callback.length-1).fill("");d.color=x.mapping.apply(x,[c].concat(w)).join("")||I.defaultColor}else d.color=x.mapping(c).join("")||I.defaultColor;if(A&&_)if(_.callback&&_.callback.length>1){var S=Array(_.callback.length-1).fill("");P=_.mapping.apply(_,[c].concat(S)).join("")}else P=_.mapping(c).join("");var marker=h.getShapeFactory(k).getMarkerCfg(P,d);v.legendMarkerRadius&&(marker.radius=v.legendMarkerRadius),o.isFunction(P)&&(marker.symbol=P),M.push({value:r,dataValue:c,checked:m,marker:marker})}));var legend,D=o.deepMix({},I.legend[L[0]],x[m]||x,{viewId:T.get("_id"),maxLength:E,items:M,container:S,position:[0,0]});if(D.title&&o.deepMix(D,{title:{text:t.alias||t.field}}),y._isTailLegend(x,n))D.chart=y.chart,D.geom=n,legend=new c(D);else if(x.useHtml){var F=S.get("canvas").get("el");if(S=x.container,o.isString(S)&&/^\#/.test(S)){var B=S.replace("#","");S=document.getElementById(B)}S||(S=F.parentNode),D.container=S,void 0===D.legendStyle&&(D.legendStyle={}),D.legendStyle.CONTAINER_CLASS=r({},D.legendStyle.CONTAINER_CLASS,{position:"absolute",overflow:"auto","z-index":""===F.style.zIndex?1:parseInt(F.style.zIndex,10)+1}),x.flipPage?(D.legendStyle.CONTAINER_CLASS.height="right"===L[0]||"left"===L[0]?E+"px":"auto",D.legendStyle.CONTAINER_CLASS.width="right"!==L[0]&&"left"!==L[0]?E+"px":"auto",legend=new l.CatPageHtml(D)):legend=new l.CatHtml(D)}else legend=new l.Category(D);return y._bindClickEvent(legend,t,f),w[d].push(legend),legend},e._bindChartMove=function(t){var e=this.chart,n=this.legends;e.on("plotmove",(function(e){var r=!1;if(e.target){var l=e.target.get("origin");if(l){var data=l._origin||l[0]._origin,c=t.field;if(data){var h=data[c];o.each(n,(function(t){o.each(t,(function(legend){r=!0,!legend.destroyed&&legend.activate(h)}))}))}}}r||o.each(n,(function(t){o.each(t,(function(legend){!legend.destroyed&&legend.deactivate()}))}))}))},e._addContinuousLegend=function(t,e,n){var r=this.legends;r[n]=r[n]||[];var legend,c,h,f=this.container,d=t.field,v=t.getTicks(),y=[],m=this.viewTheme;o.each(v,(function(n){var r=n.value,o=t.invert(r),l=e.mapping(o).join("");y.push({value:n.tickValue,attrValue:l,color:l,scaleValue:r}),0===r&&(c=!0),1===r&&(h=!0)})),c||y.push({value:t.min,attrValue:e.mapping(0).join(""),color:e.mapping(0).join(""),scaleValue:0}),h||y.push({value:t.max,attrValue:e.mapping(1).join(""),color:e.mapping(1).join(""),scaleValue:1});var x=this.options,_=n.split("-"),w=m.legend[_[0]];(x&&!1===x.slidable||x[d]&&!1===x[d].slidable)&&(w=o.mix({},w,m.legend.gradient));var S=o.deepMix({},w,x[d]||x,{items:y,attr:e,formatter:t.formatter,container:f,position:[0,0]});if(S.title&&o.deepMix(S,{title:{text:t.alias||t.field}}),"color"===e.type)legend=new l.Color(S);else{if("size"!==e.type)return;legend=x&&"circle"===x.sizeType?new l.CircleSize(S):new l.Size(S)}return this._bindFilterEvent(legend,t),r[n].push(legend),legend},e._isTailLegend=function(t,e){if(t.hasOwnProperty("attachLast")&&t.attachLast){var n=e.get("type");if("line"===n||"lineStack"===n||"area"===n||"areaStack"===n)return!0}return!1},e._adjustPosition=function(t,e){var n;if(e)n="right-top";else if(o.isArray(t))n=String(t[0])+"-"+String(t[1]);else{var r=t.split("-");1===r.length?("left"===r[0]&&(n="left-bottom"),"right"===r[0]&&(n="right-bottom"),"top"===r[0]&&(n="top-center"),"bottom"===r[0]&&(n="bottom-center")):n=t}return n},e.addLegend=function(t,e,n,r){var o=this.options,l=t.field,c=o[l],h=this.viewTheme;if(!1===c)return null;if(c&&c.custom)this.addCustomLegend(l);else{var legend,f=o.position||h.defaultLegendPosition;f=this._adjustPosition(f,this._isTailLegend(o,n)),c&&c.position&&(f=this._adjustPosition(c.position,this._isTailLegend(c,n))),(legend=t.isLinear?this._addContinuousLegend(t,e,f):this._addCategoryLegend(t,e,n,r,f))&&(this._bindHoverEvent(legend,l),o.reactive&&this._bindChartMove(t))}},e.addCustomLegend=function(t){var e=this.chart,n=this.viewTheme,r=this.container,c=this.options;t&&(c=c[t]);var h=c.position||n.defaultLegendPosition;h=this._adjustPosition(h);var f=this.legends;f[h]=f[h]||[];var d=c.items;if(d){var y=e.getAllGeoms();o.each(d,(function(t){var e=function(t,e){var n;return o.each(t,(function(t){t.get("visible")&&t.getYScale().field===e&&(n=t)})),n}(y,t.value);o.isPlainObject(t.marker)?t.marker.radius=t.marker.radius||v.legendMarkerRadius||4.5:(t.marker={symbol:t.marker||"circle",radius:v.legendMarkerRadius||4.5},-1!==o.indexOf(m,t.marker.symbol)?t.marker.stroke=t.fill:t.marker.fill=t.fill);var symbol=t.marker.symbol;o.isString(symbol)&&-1!==symbol.indexOf("hollow")&&(t.marker.symbol=o.lowerFirst(symbol.substr(6))),t.checked=!!o.isNil(t.checked)||t.checked,t.geom=e}));var legend,canvas=e.get("canvas"),x=this.plotRange,_=h.split("-"),w="right"===_[0]||"left"===_[0]?x.bl.y-x.tr.y:canvas.get("width"),S=o.deepMix({},n.legend[_[0]],c,{maxLength:w,items:d,container:r,position:[0,0]});if(c.useHtml){var M=c.container;if(/^\#/.test(r)){var C=M.replace("#","");M=document.getElementById(C)}else M||(M=r.get("canvas").get("el").parentNode);S.container=M,void 0===S.legendStyle&&(S.legendStyle={}),S.legendStyle.CONTAINER_CLASS||(S.legendStyle.CONTAINER_CLASS={height:"right"===_[0]||"left"===_[0]?w+"px":"auto",width:"right"!==_[0]&&"left"!==_[0]?w+"px":"auto",position:"absolute",overflow:"auto"}),legend=c.flipPage?new l.CatPageHtml(S):new l.CatHtml(S)}else legend=new l.Category(S);return f[h].push(legend),legend.on("itemclick",(function(t){c.onClick&&c.onClick(t)})),this._bindHoverEvent(legend),legend}},e.addMixedLegend=function(t,e){var n=this.options,r=[];o.each(t,(function(t){var l=t.alias||t.field,c=n[t.field];o.each(e,(function(e){if(e.getYScale()===t&&t.values&&t.values.length>0&&!1!==c){var n=e.get("shapeType")||"point",o=e.getDefaultValue("shape")||"circle",f=h.getShapeFactory(n),d={color:e.getDefaultValue("color")},marker=f.getMarkerCfg(o,d);v.legendMarkerRadius&&(marker.radius=v.legendMarkerRadius);var y={value:l,marker:marker,field:t.field};r.push(y)}}))}));var l={custom:!0,items:r};this.options=o.deepMix({},l,this.options);var legend=this.addCustomLegend();this._bindClickEventForMix(legend)},e.alignLegends=function(){var t=this,e=t.legends,n=t._getRegion(e);t.totalRegion=n;var i=0;return o.each(e,(function(e,r){var l=n.subs[i];o.each(e,(function(legend,n){var pre=e[n-1];legend.get("useHtml")&&!legend.get("autoPosition")||t._alignLegend(legend,pre,l,r)})),i++})),this},t}();t.exports=x},function(t,e,n){var r=n(0),o=n(22),l=n(7),c=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var c=o.prototype;return c.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"tail-legend",layout:"vertical",autoLayout:!0})},c._addItem=function(t){var e=this.get("itemsGroup"),n=this._getNextX(),o=this.get("unCheckColor"),l=e.addGroup({x:0,y:0,value:t.value,scaleValue:t.scaleValue,checked:t.checked});l.translate(n,0),l.set("viewId",e.get("viewId"));var c=this.get("textStyle"),h=this.get("_wordSpaceing"),f=0;if(t.marker){var d=r.mix({},t.marker,{x:t.marker.radius,y:0});t.checked||(d.fill&&(d.fill=o),d.stroke&&(d.stroke=o));var v=l.addShape("marker",{type:"marker",attrs:d});v.attr("cursor","pointer"),v.name="legend-marker",f+=v.getBBox().width+h}var y=r.mix({},c,{x:f,y:0,text:this._formatItemValue(t.value)});t.checked||r.mix(y,{fill:o});var m=l.addShape("text",{attrs:y});m.attr("cursor","pointer"),m.name="legend-text",this.get("appendInfo")&&m.setSilent("appendInfo",this.get("appendInfo"));var x=l.getBBox(),_=this.get("itemWidth"),w=l.addShape("rect",{attrs:{x:n,y:0-x.height/2,fill:"#fff",fillOpacity:0,width:_||x.width,height:x.height}});return w.attr("cursor","pointer"),w.setSilent("origin",t),w.name="legend-item",this.get("appendInfo")&&w.setSilent("appendInfo",this.get("appendInfo")),l.name="legendGroup",l},c._adjust=function(){if(this.get("geom")){this.get("group").attr("matrix")[7]=0;var t=this.get("geom").get("dataArray"),e=this.get("itemsGroup").get("children"),n=0;r.each(e,(function(e){var o=t[n],l=o[o.length-1].y;r.isArray(l)&&(l=l[1]);var c=e.getBBox().height,h=e.get("x"),f=l-c/2;e.translate(h,f),n++})),this.get("autoLayout")&&this._antiCollision(e)}},c.render=function(){var e=this;t.prototype.render.call(this),this.get("chart").once("afterpaint",(function(){e._adjust()}))},c._getPreviousY=function(t){return t.attr("matrix")[7]+t.getBBox().height},c._adjustDenote=function(t,e,n){var r=2*-l.legend.legendMargin;t.addShape("path",{attrs:{path:"M-2,"+e+"L"+r+","+(n+3),lineWidth:1,lineDash:[2,2],stroke:"#999999"}})},c._antiCollision=function(t){if(void 0===t&&(t=[]),t.length){var e=this;t.sort((function(a,b){return a.attr("matrix")[7]-b.attr("matrix")[7]}));var n=!0,r=e.get("chart").get("plotRange"),o=r.tl.y,l=Math.abs(o-r.bl.y),c=t[0].getBBox().height,h=Number.MIN_VALUE,f=0,d=t.map((function(t){var e=t.attr("matrix")[7];return e>f&&(f=e),e<h&&(h=e),{size:t.getBBox().height,targets:[e-o]}}));h-=o;for(var i=0;n;){for(var v=0;v<d.length;v++){var y=d[v],m=(Math.min.apply(h,y.targets)+Math.max.apply(h,y.targets))/2;y.pos=Math.min(Math.max(h,m-y.size/2),l-y.size)}for(n=!1,i=d.length;i--;)if(i>0){var x=d[i-1],_=d[i];x.pos+x.size>_.pos&&(x.size+=_.size,x.targets=x.targets.concat(_.targets),d.splice(i,1),n=!0)}}i=0;var w=this.get("itemsGroup").addGroup();d.forEach((function(b){var n=o+c;b.targets.forEach((function(){var r=t[i].attr("matrix")[7],o=b.pos+n-c/2;Math.abs(r-o)>c/2&&e._adjustDenote(w,o,r-e.get("group").attr("matrix")[7]/2),t[i].translate(0,-r),t[i].translate(0,o),n+=c,i++}))}))}},o}(o.Legend.Category);t.exports=c},function(t,e,n){function r(){return(r=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var e in source)Object.prototype.hasOwnProperty.call(source,e)&&(t[e]=source[e])}return t}).apply(this,arguments)}var o=n(0),l=n(19),c=n(22).Tooltip,h=o.MatrixUtil.vec2,f=["line","area","path","areaStack"],d=["line","area"],v=["marker","showMarker"];function y(t,e){return!!t&&(!!t.className&&(o.isNil(t.className.baseVal)?t.className:t.className.baseVal).includes(e))}function m(t){var e=[];return o.each(t,(function(t){var n=function(t,e){var n=-1;return o.each(t,(function(sub,t){var r=!0;for(var l in e)if(e.hasOwnProperty(l)&&!v.includes(l)&&!o.isObject(e[l])&&e[l]!==sub[l]){r=!1;break}if(r)return n=t,!1})),n}(e,t);-1===n?e.push(t):e[n]=t})),e}var x=function(){function t(t){o.assign(this,t),this.timeStamp=0,this.locked=!1}var e=t.prototype;return e._normalizeEvent=function(t){var e=this.chart,canvas=this._getCanvas(),n=canvas.getPointByClient(t.clientX,t.clientY),r=canvas.get("pixelRatio");n.x=n.x/r,n.y=n.y/r;var o=e.getViewsByPoint(n);return n.views=o,n},e._getCanvas=function(){return this.chart.get("canvas")},e._getTriggerEvent=function(){var t,e=this.options.triggerOn;return e&&"mousemove"!==e?"click"===e?t="plotclick":"none"===e&&(t=null):t="plotmove",t},e._getDefaultTooltipCfg=function(){var t=this.chart,e=this.viewTheme,n=this.options,r=o.mix({},e.tooltip),l=t.getAllGeoms().filter((function(t){return t.get("visible")})),c=[];o.each(l,(function(t){var e=t.get("type"),n=t.get("adjusts"),r=!1;n&&o.each(n,(function(t){if("symmetric"===t.type||"Symmetric"===t.type)return r=!0,!1})),-1!==o.indexOf(c,e)||r||c.push(e)}));var h,f=!(!l.length||!l[0].get("coord"))&&l[0].get("coord").isTransposed;if(l.length&&l[0].get("coord")&&"cartesian"===l[0].get("coord").type)if("interval"===c[0]&&!1!==n.shared){var v=o.mix({},e.tooltipCrosshairsRect);v.isTransposed=f,h={zIndex:0,crosshairs:v}}else if(o.indexOf(d,c[0])>-1){var y=o.mix({},e.tooltipCrosshairsLine);y.isTransposed=f,h={crosshairs:y}}return o.mix(r,h,{})},e._bindEvent=function(){var t=this.chart,e=this._getTriggerEvent();e&&(t.on(e,o.wrapBehavior(this,"onMouseMove")),t.on("plotleave",o.wrapBehavior(this,"onMouseOut")))},e._offEvent=function(){var t=this.chart,e=this._getTriggerEvent();e&&(t.off(e,o.getWrapBehavior(this,"onMouseMove")),t.off("plotleave",o.getWrapBehavior(this,"onMouseOut")))},e._setTooltip=function(t,e,n,r){var l=this.tooltip,c=this.prePoint;if(!c||c.x!==t.x||c.y!==t.y){e=m(e),this.prePoint=t;var h=this.chart,f=this.viewTheme,d=o.isArray(t.x)?t.x[t.x.length-1]:t.x,v=o.isArray(t.y)?t.y[t.y.length-1]:t.y;l.get("visible")||h.emit("tooltip:show",{x:d,y:v,tooltip:l});var y=e[0],title=y.title||y.name;l.isContentChange(title,e)&&(h.emit("tooltip:change",{tooltip:l,x:d,y:v,items:e}),title=e[0].title||e[0].name,l.setContent(title,e),o.isEmpty(n)?(l.clearMarkers(),l.set("markerItems",[])):!0===this.options.hideMarkers?l.set("markerItems",n):l.setMarkers(n,f.tooltipMarker)),r===this._getCanvas()&&"mini"===l.get("type")?l.hide():(l.setPosition(d,v,r),l.show())}},e.hideTooltip=function(){var t=this.tooltip,e=this.chart,canvas=this._getCanvas();this.prePoint=null,t.hide(),e.emit("tooltip:hide",{tooltip:t}),canvas.draw()},e.onMouseMove=function(t){if(!o.isEmpty(t.views)&&!this.locked){var e=this.timeStamp,n=+new Date,r={x:t.x,y:t.y};n-e>16&&!this.chart.get("stopTooltip")&&(this.showTooltip(r,t.views,t.shape),this.timeStamp=n)}},e.onMouseOut=function(t){var e=this.tooltip;e.get("visible")&&e.get("follow")&&!this.locked&&(t&&t.toElement&&(y(t.toElement,"g2-tooltip")||function(t,e){for(var n=t.parentNode,r=!1;n&&n!==document.body;){if(y(n,e)){r=!0;break}n=n.parentNode}return r}(t.toElement,"g2-tooltip"))||this.hideTooltip())},e.renderTooltip=function(){var t=this;if(!t.tooltip){var e,n=t.chart,r=t.viewTheme,canvas=t._getCanvas(),l=t._getDefaultTooltipCfg(),h=t.options;(h=o.deepMix({plotRange:n.get("plotRange"),capture:!1,canvas:canvas,frontPlot:n.get("frontPlot"),viewTheme:r.tooltip,backPlot:n.get("backPlot")},l,h)).crosshairs&&"rect"===h.crosshairs.type&&(h.zIndex=0),h.visible=!1,"mini"===h.type?(h.crosshairs=!1,h.position="top",e=new c.Mini(h)):e=h.useHtml?new c.Html(h):new c.Canvas(h),t.tooltip=e;var f=t._getTriggerEvent(),d=e.get("container");e.get("enterable")||"plotmove"!==f||d&&(d.onmousemove=function(e){var r=t._normalizeEvent(e);n.emit(f,r)}),d&&(d.onmouseleave=function(){t.locked||t.hideTooltip()}),t._bindEvent()}},e._formatMarkerOfItem=function(t,e,n){var r=this.options,l=n.point;if(l&&l.x&&l.y){var c=o.isArray(l.x)?l.x[l.x.length-1]:l.x,h=o.isArray(l.y)?l.y[l.y.length-1]:l.y;l=t.applyMatrix(c,h,1),n.x=l[0],n.y=l[1],n.showMarker=!0,"l("!==n.color.substring(0,2)||r.hasOwnProperty("useHtml")&&!r.useHtml||(n.color=n.color.split(" ")[1].substring(2));var d=this._getItemMarker(e,n);if(n.marker=d,-1!==o.indexOf(f,e.get("type")))return n}return null},e.lockTooltip=function(){this.locked=!0},e.unlockTooltip=function(){this.locked=!1},e.showTooltip=function(t,e,n){var r=this,l=this;if(!o.isEmpty(e)&&t){this.tooltip||this.renderTooltip();var c=l.options,f=[],d=[];if(o.each(e,(function(view){if(!view.get("tooltipEnable"))return!0;var e=view.get("geoms"),n=view.get("coord");o.each(e,(function(e){var h=e.get("type");if(e.get("visible")&&!1!==e.get("tooltipCfg")){var v=e.get("dataArray");if(e.isShareTooltip()||!1===c.shared&&o.inArray(["area","line","path","polygon"],h)){var y=e.getXScale(),m=e.getAttr("color"),x=m?m.field:void 0;if("interval"===h&&y.field===x&&e.hasAdjust("dodge")){var _=o.find(v,(function(n){return!!e.findPoint(t,n)}));o.each(_,(function(t){var r=e.getTipItems(t,c.title);o.each(r,(function(t){var r=l._formatMarkerOfItem(n,e,t);r&&f.push(r)})),d=d.concat(r)}))}else o.each(v,(function(r){var h=e.findPoint(t,r);if(h){var v=e.getTipItems(h,c.title);o.each(v,(function(t){var r=l._formatMarkerOfItem(n,e,t);r&&f.push(r)})),d=d.concat(v)}}))}else{var w=e.get("shapeContainer"),S=w.get("canvas").get("pixelRatio"),M=w.getShape(t.x*S,t.y*S);M&&M.get("visible")&&M.get("origin")&&(d=e.getTipItems(M.get("origin"),c.title)),o.each(d,(function(t){var o=r._formatMarkerOfItem(n,e,t);o&&f.push(o)}))}}})),o.each(d,(function(t){var e=t.point,r=o.isArray(e.x)?e.x[e.x.length-1]:e.x,l=o.isArray(e.y)?e.y[e.y.length-1]:e.y;e=n.applyMatrix(r,l,1),t.x=e[0],t.y=e[1]}))})),d.length){var v=d[0];if(!d.every((function(t){return t.title===v.title}))){var y=v,m=1/0;d.forEach((function(e){var n=h.distance([t.x,t.y],[e.x,e.y]);n<m&&(m=n,y=e)})),d=d.filter((function(t){return t.title===y.title})),f=f.filter((function(t){return t.title===y.title}))}if(!1===c.shared&&d.length>1){var x=d[0],_=Math.abs(t.y-x.y);o.each(d,(function(e){Math.abs(t.y-e.y)<=_&&(x=e,_=Math.abs(t.y-e.y))})),x&&x.x&&x.y&&(f=[x]),d=[x]}l._setTooltip(t,d,f,n)}else l.hideTooltip()}},e.clear=function(){var t=this.tooltip;t&&t.destroy(),this.tooltip=null,this.prePoint=null,this._offEvent()},e._getItemMarker=function(t,e){var n=this.options.marker||this.viewTheme.tooltip.marker;if(o.isFunction(n)){var c=t.get("shapeType")||"point",h=t.getDefaultValue("shape")||"circle",f=l.getShapeFactory(c),d={color:e.color};return n(f.getMarkerCfg(h,d),e)}return r({fill:e.color},n)},t}();t.exports=x},function(t,e,n){var r=n(0);function o(t,e){if(r.isNil(t)||r.isNil(e))return!1;var n=t.get("origin"),o=e.get("origin");return r.isNil(n)&&r.isNil(o)?r.isEqual(t,e):r.isEqual(n,o)}function l(t){t.shape&&t.shape.get("origin")&&(t.data=t.shape.get("origin"))}var c=function(){function t(t){this.view=null,this.canvas=null,r.assign(this,t),this._init()}var e=t.prototype;return e._init=function(){this.pixelRatio=this.canvas.get("pixelRatio")},e._getShapeEventObj=function(t){return{x:t.x/this.pixelRatio,y:t.y/this.pixelRatio,target:t.target,toElement:t.event.toElement||t.event.relatedTarget}},e._getShape=function(t,e){return this.view.get("canvas").getShape(t,e)},e._getPointInfo=function(t){var view=this.view,e={x:t.x/this.pixelRatio,y:t.y/this.pixelRatio},n=view.getViewsByPoint(e);return e.views=n,e},e._getEventObj=function(t,e,n){return{x:e.x,y:e.y,target:t.target,toElement:t.event.toElement||t.event.relatedTarget,views:n}},e.bindEvents=function(){var canvas=this.canvas;canvas.on("mousedown",r.wrapBehavior(this,"onDown")),canvas.on("mousemove",r.wrapBehavior(this,"onMove")),canvas.on("mouseleave",r.wrapBehavior(this,"onOut")),canvas.on("mouseup",r.wrapBehavior(this,"onUp")),canvas.on("click",r.wrapBehavior(this,"onClick")),canvas.on("dblclick",r.wrapBehavior(this,"onClick")),canvas.on("touchstart",r.wrapBehavior(this,"onTouchstart")),canvas.on("touchmove",r.wrapBehavior(this,"onTouchmove")),canvas.on("touchend",r.wrapBehavior(this,"onTouchend"))},e._triggerShapeEvent=function(t,e,n){if(t&&t.name&&!t.get("destroyed")){var view=this.view;if(view.isShapeInView(t)){var r=t.name+":"+e;n.view=view,n.appendInfo=t.get("appendInfo"),view.emit(r,n);var o=view.get("parent");o&&o.emit(r,n)}}},e.onDown=function(t){var view=this.view,e=this._getShapeEventObj(t);e.shape=this.currentShape,l(e),view.emit("mousedown",e),this._triggerShapeEvent(this.currentShape,"mousedown",e)},e.onMove=function(t){var view=this.view,e=this.currentShape;e&&e.get("destroyed")&&(e=null,this.currentShape=null);var n=this._getShape(t.x,t.y)||t.currentTarget,r=this._getShapeEventObj(t);if(r.shape=n,l(r),view.emit("mousemove",r),this._triggerShapeEvent(n,"mousemove",r),e&&!o(e,n)){var c=this._getShapeEventObj(t);c.shape=e,c.toShape=n,l(c),this._triggerShapeEvent(e,"mouseleave",c)}if(n&&!o(e,n)){var h=this._getShapeEventObj(t);h.shape=n,h.fromShape=e,l(h),this._triggerShapeEvent(n,"mouseenter",h)}this.currentShape=n;var f=this._getPointInfo(t),d=this.curViews||[];0===d.length&&f.views.length&&view.emit("plotenter",this._getEventObj(t,f,f.views)),d.length&&0===f.views.length&&view.emit("plotleave",this._getEventObj(t,f,d)),f.views.length&&((r=this._getEventObj(t,f,f.views)).shape=n,l(r),view.emit("plotmove",r)),this.curViews=f.views},e.onOut=function(t){var view=this.view,e=this._getPointInfo(t),n=this.curViews||[],r=this._getEventObj(t,e,n);!this.curViews||0===this.curViews.length||r.toElement&&"CANVAS"===r.toElement.tagName||(view.emit("plotleave",r),this.curViews=[])},e.onUp=function(t){var view=this.view,e=this._getShapeEventObj(t);e.shape=this.currentShape,view.emit("mouseup",e),this._triggerShapeEvent(this.currentShape,"mouseup",e)},e.onClick=function(t){var view=this.view,e=this._getShape(t.x,t.y)||t.currentTarget,n=this._getShapeEventObj(t);n.shape=e,l(n),view.emit("click",n),this._triggerShapeEvent(e,t.type,n),this.currentShape=e;var o=this._getPointInfo(t),c=o.views;if(!r.isEmpty(c)){var h=this._getEventObj(t,o,c);if(this.currentShape){var f=this.currentShape;h.shape=f,l(h)}"dblclick"===t.type?(view.emit("plotdblclick",h),view.emit("dblclick",n)):view.emit("plotclick",h)}},e.onTouchstart=function(t){var view=this.view,e=this._getShape(t.x,t.y)||t.currentTarget,n=this._getShapeEventObj(t);n.shape=e,l(n),view.emit("touchstart",n),this._triggerShapeEvent(e,"touchstart",n),this.currentShape=e},e.onTouchmove=function(t){var view=this.view,e=this._getShape(t.x,t.y)||t.currentTarget,n=this._getShapeEventObj(t);n.shape=e,l(n),view.emit("touchmove",n),this._triggerShapeEvent(e,"touchmove",n),this.currentShape=e},e.onTouchend=function(t){var view=this.view,e=this._getShapeEventObj(t);e.shape=this.currentShape,l(e),view.emit("touchend",e),this._triggerShapeEvent(this.currentShape,"touchend",e)},e.clearEvents=function(){var canvas=this.canvas;canvas.off("mousemove",r.getWrapBehavior(this,"onMove")),canvas.off("mouseleave",r.getWrapBehavior(this,"onOut")),canvas.off("mousedown",r.getWrapBehavior(this,"onDown")),canvas.off("mouseup",r.getWrapBehavior(this,"onUp")),canvas.off("click",r.getWrapBehavior(this,"onClick")),canvas.off("dblclick",r.getWrapBehavior(this,"onClick")),canvas.off("touchstart",r.getWrapBehavior(this,"onTouchstart")),canvas.off("touchmove",r.getWrapBehavior(this,"onTouchmove")),canvas.off("touchend",r.getWrapBehavior(this,"onTouchend"))},t}();t.exports=c},function(t,e,n){var r=n(0),o=n(125),l=r.MatrixUtil.mat3;function c(t,e){var n=[];if(!1===t.get("animate"))return[];var o=t.get("children");return r.each(o,(function(t){if(t.isGroup)n=n.concat(c(t,e));else if(t.isShape&&t._id){var r=t._id;(r=r.split("-")[0])===e&&n.push(t)}})),n}function h(t,e,n,r){return r?o.Action[n][r]:o.getAnimation(t,e,n)}function f(t,e,n){var l=o.getAnimateCfg(t,e);return n&&n[e]?r.deepMix({},l,n[e]):l}function d(t,e,canvas,n){var animate,o,c=!1;if(n){var d=[],v=[];r.each(e,(function(e){var n=t[e._id];n?(e.setSilent("cacheShape",n),d.push(e),delete t[e._id]):v.push(e)})),r.each(t,(function(t){var e=t.name,n=t.coord,d=t._id,v=t.attrs,y=t.index,m=t.type;if(o=f(e,"leave",t.animateCfg),animate=h(e,n,"leave",o.animation),r.isFunction(animate)){var x=canvas.addShape(m,{attrs:v,index:y});if(x._id=d,x.name=e,n&&"label"!==e){var _=x.getMatrix(),w=l.multiply([],_,n.matrix);x.setMatrix(w)}c=!0,animate(x,o,n)}})),r.each(d,(function(t){var e=t.name,n=t.get("coord"),l=t.get("cacheShape").attrs;if(!r.isEqual(l,t.attr())){if(o=f(e,"update",t.get("animateCfg")),animate=h(e,n,"update",o.animation),r.isFunction(animate))animate(t,o,n);else{var d=r.cloneDeep(t.attr());t.attr(l),t.animate(d,o.duration,o.easing,(function(){t.setSilent("cacheShape",null)}))}c=!0}})),r.each(v,(function(t){var e=t.name,n=t.get("coord");o=f(e,"enter",t.get("animateCfg")),animate=h(e,n,"enter",o.animation),r.isFunction(animate)&&(animate(t,o,n),c=!0)}))}else r.each(e,(function(t){var e=t.name,n=t.get("coord");o=f(e,"appear",t.get("animateCfg")),animate=h(e,n,"appear",o.animation),r.isFunction(animate)&&(animate(t,o,n),c=!0)}));return c}t.exports={execAnimation:function(view,t){var e=view.get("middlePlot"),n=view.get("backPlot"),o=view.get("_id"),canvas=view.get("canvas"),l=canvas.get(o+"caches")||[];0===l.length&&(t=!1);var h=c(e,o),f=c(n,o),v=h.concat(f);canvas.setSilent(o+"caches",function(t){var e={};return r.each(t,(function(t){if(t._id&&!t.isClip){var n=t._id;e[n]={_id:n,type:t.get("type"),attrs:r.cloneDeep(t.attr()),name:t.name,index:t.get("index"),animateCfg:t.get("animateCfg"),coord:t.get("coord")}}})),e}(v)),d(l,t?v:h,canvas,t)||canvas.draw()}}},function(t,e,n){var r=n(0),o=n(16).Group,l=function t(e){t.superclass.constructor.call(this,e)};r.extend(l,o),r.augment(l,{getDefaultCfg:function(){return{type:"plotBack",padding:null,background:null,plotRange:null,plotBackground:null}},_beforeRenderUI:function(){this._calculateRange()},_renderUI:function(){this._renderBackground(),this._renderPlotBackground()},_renderBackground:function(){var t=this.get("background");if(t){var canvas=this.get("canvas"),e={x:0,y:0,width:this.get("width")||canvas.get("width"),height:this.get("height")||canvas.get("height")},rect=this.get("backgroundShape");rect?rect.attr(e):(rect=this.addShape("rect",{attrs:r.mix(e,t)}),this.set("backgroundShape",rect))}},_renderPlotBackground:function(){var t=this.get("plotBackground");if(t){var e=this.get("plotRange"),n=e.br.x-e.bl.x,o=e.br.y-e.tr.y,l=e.tl,c={x:l.x,y:l.y,width:n,height:o},h=this.get("plotBackShape");h?h.attr(c):(t.image?(c.img=t.image,h=this.addShape("image",{attrs:c})):(r.mix(c,t),h=this.addShape("rect",{attrs:c})),this.set("plotBackShape",h))}},_convert:function(t,e){if(r.isString(t))if("auto"===t)t=0;else if(t.includes("%")){var canvas=this.get("canvas"),n=this.get("width")||canvas.get("width"),o=this.get("height")||canvas.get("height");t=parseInt(t,10)/100,t=e?t*n:t*o}return t},_calculateRange:function(){var t=this.get("plotRange");r.isNil(t)&&(t={});var e=this.get("padding"),canvas=this.get("canvas"),n=this.get("width")||canvas.get("width"),o=this.get("height")||canvas.get("height"),l=r.toAllPadding(e),c=this._convert(l[0],!1),h=this._convert(l[1],!0),f=this._convert(l[2],!1),d=this._convert(l[3],!0),v=Math.min(d,n-h),y=Math.max(d,n-h),m=Math.min(o-f,c),x=Math.max(o-f,c);t.tl={x:v,y:m},t.tr={x:y,y:m},t.bl={x:v,y:x},t.br={x:y,y:x},t.cc={x:(y+v)/2,y:(x+m)/2},this.set("plotRange",t)},repaint:function(){return this._calculateRange(),this._renderBackground(),this._renderPlotBackground(),this}}),t.exports=l},function(t,e,n){var r=n(7),o=n(0),l={getDefaultSize:function(){var t=this.get("defaultSize"),e=this.get("viewTheme")||r;if(!t){var n,l=this.get("coord"),c=this.getXScale(),h=c.values,f=this.get("dataArray");if(c.isLinear&&h.length>1){h.sort();var d=function(t,e){var n=t.length;o.isString(t[0])&&(t=t.map((function(t){return e.translate(t)})));for(var r=t[1]-t[0],i=2;i<n;i++){var l=t[i]-t[i-1];r>l&&(r=l)}return r}(h,c);n=(c.max-c.min)/d,h.length>n&&(n=h.length)}else n=h.length;var v=c.range,y=1/n,m=1;if(this.isInCircle()?m=l.isTransposed&&n>1?e.widthRatio.multiplePie:e.widthRatio.rose:(c.isLinear&&(y*=v[1]-v[0]),m=e.widthRatio.column),y*=m,this.hasAdjust("dodge")){var x=this._getDodgeCfg(f),_=x.dodgeCount,w=x.dodgeRatio;y/=_,w>0&&(y=w*y/m)}t=y,this.set("defaultSize",t)}return t},_getDodgeCfg:function(t){var e,n,r=this.get("adjusts"),l=t.length;if(o.each(r,(function(t){"dodge"===t.type&&(e=t.dodgeBy,n=t.dodgeRatio)})),e){var c=o.Array.merge(t);l=o.Array.values(c,e).length}return{dodgeCount:l,dodgeRatio:n}},getDimWidth:function(t){var e=this.get("coord"),n=e.convertPoint({x:0,y:0}),r=e.convertPoint({x:"x"===t?1:0,y:"x"===t?0:1}),o=0;return n&&r&&(o=Math.sqrt(Math.pow(r.x-n.x,2)+Math.pow(r.y-n.y,2))),o},_getWidth:function(){var t=this.get("coord");return this.isInCircle()&&!t.isTransposed?(t.endAngle-t.startAngle)*t.radius:this.getDimWidth("x")},_toNormalizedSize:function(t){return t/this._getWidth()},_toCoordSize:function(t){return this._getWidth()*t},getNormalizedSize:function(t){var e=this.getAttrValue("size",t);return e=o.isNil(e)?this.getDefaultSize():this._toNormalizedSize(e)},getSize:function(t){var e=this.getAttrValue("size",t);if(o.isNil(e)){var n=this.getDefaultSize();e=this._toCoordSize(n)}return e}};t.exports=l},function(t,e,n){var r=n(0),o=n(7);t.exports={splitData:function(data){var t=this.get("viewTheme")||o;if(!data.length)return[];var e,n=[],l=[],c=this.getYScale().field;return r.each(data,(function(o){e=o._origin?o._origin[c]:o[c],t.connectNulls?r.isNil(e)||l.push(o):r.isArray(e)&&r.isNil(e[0])||r.isNil(e)?l.length&&(n.push(l),l=[]):l.push(o)})),l.length&&n.push(l),n}}},function(t,e,n){var r=n(21),o=n(360),l=n(0),c=function(t){var e,n;n=t,(e=c).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=c.prototype;function c(e){var n;return n=t.call(this,e)||this,l.assign(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n),o),n}return r.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="path",e.shapeType="line",e},r.getDrawCfg=function(e){var n=t.prototype.getDrawCfg.call(this,e);return n.isStack=this.hasStack(),n},r.draw=function(data,t,e,n){var r=this,o=this.splitData(data),c=this.getDrawCfg(data[0]);r._applyViewThemeShapeStyle(c,c.shape,e),c.origin=data,l.each(o,(function(o,h){if(!l.isEmpty(o)){c.splitedIndex=h,c.points=o;var f=e.drawShape(c.shape,c,t);r.appendShapeInfo(f,n+h)}}))},c}(r);r.Path=c,t.exports=c},function(t,e,n){"use strict";var r=n(373),o=n(374);function l(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===o.b&&e.documentElement.namespaceURI===o.b?e.createElement(t):e.createElementNS(n,t)}}function c(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}e.a=function(t){var e=Object(r.a)(t);return(e.local?c:l)(e)}},function(t,e,n){"use strict";e.a=function(t,e){var svg=t.ownerSVGElement||t;if(svg.createSVGPoint){var n=svg.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,[(n=n.matrixTransform(t.getScreenCTM().inverse())).x,n.y]}var rect=t.getBoundingClientRect();return[e.clientX-rect.left-t.clientLeft,e.clientY-rect.top-t.clientTop]}},function(t,e,n){"use strict";e.a=function(a,b){return a=+a,b=+b,function(t){return a*(1-t)+b*t}}},function(t,e,n){"use strict";e.b=function(t,e,n){var o=t._id;return t.each((function(){var t=Object(r.h)(this,o);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Object(r.f)(t,o).value[e]}};var r=n(46);function o(t,e){var n,o;return function(){var l=Object(r.h)(this,t),c=l.tween;if(c!==n)for(var i=0,h=(o=n=c).length;i<h;++i)if(o[i].name===e){(o=o.slice()).splice(i,1);break}l.tween=o}}function l(t,e,n){var o,l;if("function"!=typeof n)throw new Error;return function(){var c=Object(r.h)(this,t),h=c.tween;if(h!==o){l=(o=h).slice();for(var f={name:e,value:n},i=0,d=l.length;i<d;++i)if(l[i].name===e){l[i]=f;break}i===d&&l.push(f)}c.tween=l}}e.a=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var c,h=Object(r.f)(this.node(),n).tween,i=0,f=h.length;i<f;++i)if((c=h[i]).name===t)return c.value;return null}return this.each((null==e?o:l)(n,t,e))}},function(t,e,n){var r=n(7),o=n(0),l=o.assign,c=o.isNil,h=o.isArray,f=o.cloneDeep,d=o.wrapBehavior,v=o.getWrapBehavior,y=function(){var t=e.prototype;function e(t){var e=this.getDefaultCfg();l(this,e,t),this.init()}return t.getDefaultCfg=function(){return{chart:null,group:null,showTitle:!0,autoSetAxis:!0,padding:10,eachView:null,fields:[],colTitle:{offsetY:-15,style:{fontSize:14,textAlign:"center",fill:"#666",fontFamily:r.fontFamily}},rowTitle:{offsetX:15,style:{fontSize:14,textAlign:"center",rotate:90,fill:"#666",fontFamily:r.fontFamily}}}},t.init=function(){if(!this.chart)throw new Error("Facets Error: please specify the chart!");this._bindEvent(),this.initContainer(),this.chart.get("data")&&this.initViews()},t.initContainer=function(){var t=this.chart.get("frontPlot").addGroup();this.group=t},t.initViews=function(){for(var t=this.chart,data=t.get("data"),e=this.eachView,n=this.generateFacets(data),i=0;i<n.length;i++){var r=n[i],o=r.region,view=t.view({start:o.start,end:o.end,padding:this.padding});view.source(r.data),this.beforeProcessView(view,r),e&&e(view,r),this.afterProcessView(view,r),r.view=view}this.facets=n},t.beforeProcessView=function(){},t.afterProcessView=function(view,t){this.autoSetAxis&&this.processAxis(view,t)},t.processAxis=function(view,t){var e=view.get("options"),n=view.get("geoms");if((!e.coord.type||"rect"===e.coord.type)&&n.length){var r=n[0].get("attrOptions").position.field,o=h(r)?r:r.split("*").map((function(t){return t.trim()})),l=o[0],f=o[1];c(e.axes)&&(e.axes={});var d=e.axes;!1!==d&&(l&&!1!==d[l]&&(d[l]=d[l]||{},this.setXAxis(l,d,t)),f&&!1!==d[f]&&(d[f]=d[f]||{},this.setYAxis(f,d,t)))}},t.setXAxis=function(){},t.setYAxis=function(){},t.renderTitle=function(view,t){this.drawColTitle(view,t)},t.getScaleText=function(t,e,view){var n;if(t){var r=view.get("scales")[t];r||(r=view.createScale(t)),n=r.getText(e)}else n=e;return n},t.drawColTitle=function(view,t){var text=this.getScaleText(t.colField,t.colValue,view),e=l({position:["50%","0%"],content:text},this.colTitle);view.guide().text(e)},t.drawRowTitle=function(view,t){var text=this.getScaleText(t.rowField,t.rowValue,view),e=l({position:["100%","50%"],content:text},f(this.rowTitle));view.guide().text(e)},t.getFilter=function(t){return function(e){var n=!0;return t.forEach((function(t){var r=t.field,o=t.value,l=!0;!c(o)&&r&&(l=e[r]===o),n=n&&l})),n}},t.getFieldValues=function(t,data){for(var e=[],n={},i=0;i<data.length;i++){var r=data[i][t];c(r)||n[r]||(e.push(r),n[r]=!0)}return e},t.getRegion=function(t,e,n,r){var o=1/e,l=1/t,c={x:o*n,y:l*r};return{start:c,end:{x:c.x+o,y:c.y+l}}},t.generateFacets=function(){return[]},t._bindEvent=function(){var t=this.chart;t.on("afterchangedata",d(this,"onDataChange")),t.on("beforeclear",d(this,"onClear")),t.on("beforedestroy",d(this,"destroy")),t.on("beforepaint",d(this,"onPaint")),t.on("setdata",d(this,"onDataChange"))},t._clearEvent=function(){var t=this.chart;t&&(t.off("afterchangedata",v(this,"onDataChange")),t.off("beforeclear",v(this,"onClear")),t.off("beforedestroy",v(this,"destroy")),t.off("beforepaint",v(this,"onPaint")),t.off("setdata",v(this,"onDataChange")))},t._clearFacets=function(){var t=this.facets,e=this.chart;if(t)for(var i=0;i<t.length;i++){var n=t[i];e.removeView(n.view)}this.facets=null},t.onClear=function(){this.onRemove()},t.onPaint=function(){if(this.showTitle)for(var t=this.facets,i=0;i<t.length;i++){var e=t[i],view=e.view;this.renderTitle(view,e)}},t.onDataChange=function(){this._clearFacets(),this.initViews()},t.onRemove=function(){this._clearFacets(),this._clearEvent(),this.group&&this.group.remove(),this.chart=null,this.facets=null,this.group=null},t.destroy=function(){this.onRemove(),this.destroyed=!0},e}();t.exports=y},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var o=n(21),l=n(0),c=n(359);n(368);var h=function(t){r(n,t);var e=n.prototype;function n(e){var n;return n=t.call(this,e)||this,l.assign(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n),c),n}return e.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="interval",e.shapeType="interval",e.generatePoints=!0,e},e.createShapePointsCfg=function(e){var n=t.prototype.createShapePointsCfg.call(this,e);return n.size=this.getNormalizedSize(e),n},e.clearInner=function(){t.prototype.clearInner.call(this),this.set("defaultSize",null)},n}(o),f=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"stack"}],e},e}(h),d=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"dodge"}],e},e}(h),v=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"symmetric"}],e},e}(h);h.Stack=f,h.Dodge=d,h.Symmetric=v,o.Interval=h,o.IntervalStack=f,o.IntervalDodge=d,o.IntervalSymmetric=v,t.exports=h},function(t,e,n){var r=n(0),o=n(19),l=n(23),c=n(45),h=n(7),f=n(16),d=r.PathUtil;function v(t,e){var n,o,l=t.x,c=t.y,h=t.y0,f=t.size,d=h,v=c;r.isArray(c)&&(v=c[1],d=c[0]),r.isArray(l)?(n=l[0],o=l[1]):(n=l-f/2,o=l+f/2);var y=[];return y.push({x:n,y:d},{x:n,y:v}),e?y.push({x:o,y:(v+d)/2}):y.push({x:o,y:v},{x:o,y:d}),y}function y(t){for(var path=[],i=0;i<t.length;i++){var e=t[i];if(e){var n=0===i?"M":"L";path.push([n,e.x,e.y])}}var r=t[0];return path.push(["L",r.x,r.y]),path.push(["z"]),path}function m(t){var e=h.shape.interval,n=r.mix({},e,t.style);return c.addFillAttrs(n,t),t.color&&(n.stroke=n.stroke||t.color),n}function x(t){var e=h.shape.hollowInterval,n=r.mix({},e,t.style);return c.addStrokeAttrs(n,t),n}function _(t,e){var path=[],n=t.points,o=t.nextPoints;return r.isNil(o)?e?path.push(["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],["L",n[2].x,n[2].y],["L",n[3].x,n[3].y],["Z"]):path.push(["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],["L",n[2].x,n[2].y],["L",n[2].x,n[2].y],["Z"]):path.push(["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],["L",o[1].x,o[1].y],["L",o[0].x,o[0].y],["Z"]),path}function w(t,e){var n,o=e.geom.get("coord"),c=e.point;if(o&&"theta"===o.type){var h=function(t,e){var n,o,c,h,f=e.getRadius(),d=f*e.innerRadius;return!r.isArray(t.x)&&r.isArray(t.y)&&(t.x=[t.x,t.x]),r.isArray(t.x)?(c={x:t.x[0],y:t.y[0]},h={x:t.x[1],y:t.y[1]},n=l.getPointAngle(e,c),(o=l.getPointAngle(e,h))<=n&&(o+=2*Math.PI)):(h=t,n=e.startAngle,o=l.getPointAngle(e,h)),{r:f,ir:d,startAngle:n,endAngle:o}}(c,o),f=(h.endAngle-h.startAngle)/2+h.startAngle;n={transform:[["t",7.5*Math.cos(f),7.5*Math.sin(f)]]}}return r.mix({},n)}var S=o.registerFactory("interval",{defaultShapeType:"rect",getActiveCfg:function(t,e){return!t||r.inArray(["rect","funnel","pyramid"],t)?{fillOpacity:(e.fillOpacity||e.opacity||1)-.15}:{lineWidth:(e.lineWidth||0)+1}},getDefaultPoints:function(t){return v(t)},getSelectedCfg:function(t,e){return w(0,e)}});function M(t,e,n,r){return 0===e?[[t+.5*n/Math.PI/2,r/2],[t+.5*n/Math.PI,r],[t+n/4,r]]:1===e?[[t+.5*n/Math.PI/2*(Math.PI-2),r],[t+.5*n/Math.PI/2*(Math.PI-1),r/2],[t+n/4,0]]:2===e?[[t+.5*n/Math.PI/2,-r/2],[t+.5*n/Math.PI,-r],[t+n/4,-r]]:[[t+.5*n/Math.PI/2*(Math.PI-2),-r],[t+.5*n/Math.PI/2*(Math.PI-1),-r/2],[t+n/4,0]]}function C(t,e,n,r,o,l,c){for(var h=2*Math.ceil(2*t/n*4),path=[];r<2*-Math.PI;)r+=2*Math.PI;for(;r>0;)r-=2*Math.PI;var f=l-t+(r=r/Math.PI/2*n)-2*t;path.push(["M",f,e]);for(var d=0,v=0;v<h;++v){var y=M(v*n/4,v%4,n,o);path.push(["C",y[0][0]+f,-y[0][1]+e,y[1][0]+f,-y[1][1]+e,y[2][0]+f,-y[2][1]+e]),v===h-1&&(d=y[2][0])}return path.push(["L",d+f,c+t]),path.push(["L",f,c+t]),path.push(["L",f,e]),path}function A(t,e,n,r,o,l,c,f){for(var d=c.getBBox(),v=d.maxX-d.minX,y=d.maxY-d.minY,i=0;i<r;i++){var m=l.addShape("path",{attrs:{path:C(f,d.minY+y*n,v/4,0,v/64,t,e),fill:o[i],clip:c}});"canvas"===h.renderer&&m.animate({transform:[["t",v/2,0]],repeat:!0},5e3-300*i)}}o.registerShape("interval","rect",{draw:function(t,e){var n=m(t),path=y(t.points);return path=this.parsePath(path),e.addShape("path",{attrs:r.mix(n,{path:path})})},getMarkerCfg:function(t){var e=m(t),n=t.isInCircle;return r.mix({symbol:n?"circle":"square",radius:n?4.5:4},e)}}),o.registerShape("interval","hollowRect",{draw:function(t,e){var n=x(t),path=y(t.points);return path=this.parsePath(path),e.addShape("path",{attrs:r.mix(n,{path:path})})},getMarkerCfg:function(t){var e=x(t),n=t.isInCircle;return r.mix({symbol:n?"circle":"square",radius:n?4.5:4},e)}}),o.registerShape("interval","line",{getPoints:function(t){return n=(e=t).x,o=e.y,l=e.y0,c=[],r.isArray(o)?r.each(o,(function(t,e){c.push({x:r.isArray(n)?n[e]:n,y:t})})):c.push({x:n,y:o},{x:n,y:l}),c;var e,n,o,l,c},draw:function(t,e){var n=x(t);n.lineWidth=t.size||1;var path=y(t.points);return path=this.parsePath(path),e.addShape("path",{attrs:r.mix(n,{path:path})})},getMarkerCfg:function(t){var e=x(t);return r.mix({symbol:"line",radius:5},e)}}),o.registerShape("interval","tick",{getPoints:function(t){return n=(e=t).x,o=r.isArray(e.y)?e.y[1]:e.y,l=r.isArray(e.y)?e.y[0]:e.y0,c=e.size,(h=[]).push({x:n-c/2,y:o},{x:n+c/2,y:o},{x:n,y:o},{x:n,y:l},{x:n-c/2,y:l},{x:n+c/2,y:l}),h;var e,n,o,l,c,h},draw:function(t,e){var n=x(t);n.lineWidth||(n.lineWidth=2);var path=function(t){var path=[];return path.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["M",t[4].x,t[4].y],["L",t[5].x,t[5].y]),path}(t.points);return path=this.parsePath(path),e.addShape("path",{attrs:r.mix(n,{path:path})})},getMarkerCfg:function(t){var e=x(t);return r.mix({symbol:"tick",radius:5},e)}}),o.registerShape("interval","funnel",{getPoints:function(t){return t.size=2*t.size,v(t)},draw:function(t,e){var n=m(t),path=_(t,!0);return path=this.parsePath(path),e.addShape("path",{attrs:r.mix(n,{path:path})})},getMarkerCfg:function(t){var e=m(t);return r.mix({symbol:"square",radius:4},e)}}),o.registerShape("interval","pyramid",{getPoints:function(t){return t.size=2*t.size,v(t,!0)},draw:function(t,e){var n=m(t),path=_(t,!1);return path=this.parsePath(path),e.addShape("path",{attrs:r.mix(n,{path:path})})},getMarkerCfg:function(t){var e=m(t);return r.mix({symbol:"square",radius:4},e)}}),o.registerShape("interval","liquid-fill-gauge",{draw:function(t,e){var n=0,o=1/0;r.each(t.points,(function(p){p.x<o&&(o=p.x),n+=p.x}));var l=n/t.points.length,c=this.parsePoint({x:l,y:.5}),h=this.parsePoint({x:o,y:.5}),d=c.x-h.x,v=Math.min(d,h.y),y=m(t),_=new f.Circle({attrs:{x:c.x,y:c.y,r:v}});return A(c.x,c.y,t.y/(2*c.y),1,[y.fill],e,_,4*v),e.addShape("circle",{attrs:r.mix(x(t),{x:c.x,y:c.y,r:v+v/8})})}});var k={};o.registerShape("interval","liquid-fill-path",{draw:function(t,e){var n=r.mix({},m(t)),path=t.shape[1],o=0,l=1/0;r.each(t.points,(function(p){p.x<l&&(l=p.x),o+=p.x}));var c,h=o/t.points.length,f=this.parsePoint({x:h,y:.5}),v=this.parsePoint({x:l,y:.5}),y=f.x-v.x,_=Math.min(y,v.y);if(k[path])c=k[path];else{var w=d.parsePathString(path);k[path]=c={segments:w}}var S=[];n.rotate&&(S.push(["r",n.rotate/180*Math.PI]),delete n.rotate);var M=e.addShape("path",{attrs:r.mix(n,{fillOpacity:0,path:c.segments})}),C=r.cloneDeep(M.getBBox()),P=C.maxX-C.minX,T=C.maxY-C.minY,I=2*_/Math.max(P,T);M.transform(S.concat([["s",I,I]]));var O=I*P/2,L=I*T/2;M.transform([["t",f.x-O,f.y-L]]),A(f.x,f.y,t.y/(2*f.y),1,[n.fill],e,M,4*v.y);var E=e.addShape("path",{attrs:r.mix(x(t),{path:c.segments})});return E.transform(S.concat([["s",I,I],["t",f.x-O,f.y-L]])),E}}),o.registerShape("interval","top-line",{draw:function(t,e){var n=m(t),style=t.style||{},o=[["M",t.points[1].x,t.points[1].y],["L",t.points[2].x,t.points[2].y]],l={stroke:style.stroke||"white",lineWidth:style.lineWidth||1,path:this.parsePath(o)},path=y(t.points);path=this.parsePath(path),delete n.stroke;var c=e.addShape("path",{attrs:r.mix(n,{zIndex:0,path:path})});return e.addShape("path",{zIndex:1,attrs:l}),c},getMarkerCfg:function(t){var e=m(t),n=t.isInCircle;return r.mix({symbol:n?"circle":"square",radius:n?4.5:4},e)}}),t.exports=S},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var o=n(21),l=n(361);n(370);var c=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="line",e.sortable=!0,e},e}(l),h=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"stack"}],e},e}(c);c.Stack=h,o.Line=c,o.LineStack=h,t.exports=c},function(t,e,n){var r=n(0),o=n(23),l=n(45),c=n(19),h=n(7),f=[1,1],d=[5.5,1];function v(t){var e=h.shape.line,n=r.mix({},e,t.style);return l.addStrokeAttrs(n,t),t.size&&(n.lineWidth=t.size),n}function y(t){var e=h.shape.line,n=r.mix({lineWidth:2,radius:6},e,t.style);return l.addStrokeAttrs(n,t),n}function m(t,e,n,r){var path;if(e){var l=r.constraint;n&&t.length&&t.push({x:t[0].x,y:t[0].y}),path=o.getSplinePath(t,!1,l)}else path=o.getLinePath(t,!1),n&&path.push(["Z"]);return path}function x(t,e){var n=t.points,o=t.isInCircle,c=n[0];return r.isArray(c.y)?function(t,e,n,r){for(var o=[],c=r.isStack,h=[],i=0;i<t.length;i++){var f=t[i],d=l.splitPoints(f);h.push(d[0]),o.push(d[1])}var v=m(o,e,n,r),y=m(h,e,n,r);return c?v:v.concat(y)}(n,e,o,t):m(n,e,o,t)}function _(t,e){return function(t){var path=[];return r.each(t,(function(t,e){var n=0===e?["M",t.x,t.y]:["L",t.x,t.y];path.push(n)})),path}(function(t,e){var n=[];return r.each(t,(function(r,o){var l=t[o+1];n.push(r),l&&(n=n.concat(e(r,l)))})),n}(t.points,e))}function w(t,e,n){return[["M",t-n,e],["L",t+n,e]]}function S(t,e,n){return[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]]}function M(t,e){return r.mix({symbol:e?S:w},y(t))}function C(t,e){return r.mix({symbol:e},y(t))}var A=c.registerFactory("line",{defaultShapeType:"line",getActiveCfg:function(t,e){return{lineWidth:(e.lineWidth||0)+1}},getDefaultPoints:function(t){return l.splitPoints(t)},drawShape:function(t,e,n){var o,l=this.getShape(t);return(o=1===e.points.length&&h.showSinglePoint?function(t,e,n){var o=e.points[0];return n.addShape("circle",{attrs:r.mix({x:o.x,y:o.y,r:2,fill:e.color},e.style)})}(0,e,n):l.draw(e,n))&&(o.set("origin",e.origin),o._id=e.splitedIndex?e._id+e.splitedIndex:e._id,o.name=this.name),o}});c.registerShape("line","line",{draw:function(t,e){var n=v(t),path=x(t,!1);return e.addShape("path",{attrs:r.mix(n,{path:path})})},getMarkerCfg:function(t){return M(t)}}),c.registerShape("line","dot",{draw:function(t,e){var n=v(t),path=x(t,!1);return e.addShape("path",{attrs:r.mix(n,{path:path,lineDash:f})})},getMarkerCfg:function(t){var e=M(t,!1);return e.lineDash=f,e}}),c.registerShape("line","dash",{draw:function(t,e){var n=v(t),path=x(t,!1);return e.addShape("path",{attrs:r.mix({path:path,lineDash:d},n)})},getMarkerCfg:function(t){var e=M(t,!1);return e.lineDash=e.lineDash||d,e}}),c.registerShape("line","smooth",{draw:function(t,e){var n=v(t),o=this._coord;t.constraint=[[o.start.x,o.end.y],[o.end.x,o.start.y]];var path=x(t,!0);return e.addShape("path",{attrs:r.mix(n,{path:path})})},getMarkerCfg:function(t){return M(t,!0)}}),c.registerShape("line","hv",{draw:function(t,e){var n=v(t),path=_(t,(function(t,e){var n=[];return n.push({x:e.x,y:t.y}),n}));return e.addShape("path",{attrs:r.mix(n,{path:path})})},getMarkerCfg:function(t){return C(t,(function(t,e,n){return[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]]}))}}),c.registerShape("line","vh",{draw:function(t,e){var n=v(t),path=_(t,(function(t,e){var n=[];return n.push({x:t.x,y:e.y}),n}));return e.addShape("path",{attrs:r.mix(n,{path:path})})},getMarkerCfg:function(t){return C(t,(function(t,e,n){return[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]]}))}}),c.registerShape("line","hvh",{draw:function(t,e){var n=v(t),path=_(t,(function(t,e){var n=[],r=(e.x-t.x)/2+t.x;return n.push({x:r,y:t.y}),n.push({x:r,y:e.y}),n}));return e.addShape("path",{attrs:r.mix(n,{path:path})})},getMarkerCfg:function(t){return C(t,(function(t,e,n){return[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]]}))}}),c.registerShape("line","vhv",{draw:function(t,e){var n=v(t),path=_(t,(function(t,e){var n=[],r=(e.y-t.y)/2+t.y;return n.push({x:t.x,y:r}),n.push({x:e.x,y:r}),n}));return e.addShape("path",{attrs:r.mix(n,{path:path})})},getMarkerCfg:function(t){return C(t,(function(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}))}}),A.spline=A.smooth,t.exports=A},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var o=n(21),l=n(0);n(372);var c=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="point",e.shapeType="point",e.generatePoints=!0,e},n.drawPoint=function(t,e,n,r){var o,c=this,h=t.shape,f=c.getDrawCfg(t);if(c._applyViewThemeShapeStyle(f,h,n),l.isArray(t.y)){var d=c.hasStack();l.each(t.y,(function(t,l){f.y=t,f.yIndex=l,d&&0===l||(o=n.drawShape(h,f,e),c.appendShapeInfo(o,r+l))}))}else l.isNil(t.y)||(o=n.drawShape(h,f,e),c.appendShapeInfo(o,r))},e}(o),h=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"jitter"}],e},e}(c),f=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"stack"}],e},e}(c);c.Jitter=h,c.Stack=f,o.Point=c,o.PointJitter=h,o.PointStack=f,t.exports=c},function(t,e,n){var r=n(0),o=n(45),l=n(7),c=n(19),h=n(16).Marker,f=r.PathUtil,d=["cross","tick","plus","hyphen","line","pointerLine","pointerArrow"],v=Math.sqrt(3);function y(t){var e=l.shape.point,n=r.mix({},e,t.style);return o.addFillAttrs(n,t),r.isNumber(t.size)&&(n.radius=t.size),n}function m(t){var e=l.shape.hollowPoint,n=r.mix({},e,t.style);return o.addStrokeAttrs(n,t),r.isNumber(t.size)&&(n.radius=t.size),n}r.mix(h.Symbols,{hexagon:function(t,e,n){var r=n/2*v;return[["M",t,e-n],["L",t+r,e-n/2],["L",t+r,e+n/2],["L",t,e+n],["L",t-r,e+n/2],["L",t-r,e-n/2],["Z"]]},bowtie:function(t,e,n){var r=n-1.5;return[["M",t-n,e-r],["L",t+n,e+r],["L",t+n,e-r],["L",t-n,e+r],["Z"]]},cross:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]]},tick:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},plus:function(t,e,n){return[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]]},hyphen:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},line:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]}});var x=c.registerFactory("point",{defaultShapeType:"hollowCircle",getActiveCfg:function(t,e){var n,o=e.radius;return{radius:o+1,shadowBlur:o,shadowColor:n=t&&(0===t.indexOf("hollow")||-1!==r.indexOf(d,t))||!t?e.stroke||e.strokeStyle:e.fill||e.fillStyle,stroke:n,strokeOpacity:1,lineWidth:1}},getDefaultPoints:function(t){return o.splitPoints(t)}});c.registerShape("point","rect",{draw:function(t,e){var n=y(t),path=function(t){var e=t.points[0].x,n=t.points[0].y,r=t.size[0],o=t.size[1];return[["M",e-.5*r,n-.5*o],["L",e+.5*r,n-.5*o],["L",e+.5*r,n+.5*o],["L",e-.5*r,n+.5*o],["z"]]}(t);return path=this.parsePath(path),e.addShape("path",{attrs:r.mix(n,{path:path})})},getMarkerCfg:function(t){var e=y(t);return e.symbol="rect",e.radius=4.5,e}}),r.each(["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],(function(t){c.registerShape("point",t,{draw:function(e,n){var o=y(e);return n.addShape("Marker",{attrs:r.mix(o,{symbol:t,x:e.x,y:e.y})})},getMarkerCfg:function(e){var n=y(e);return n.symbol=t,n.radius=4.5,n}}),c.registerShape("point","hollow"+r.upperFirst(t),{draw:function(e,n){var o=m(e);return n.addShape("Marker",{attrs:r.mix(o,{symbol:t,x:e.x,y:e.y})})},getMarkerCfg:function(e){var n=m(e);return n.symbol=t,n.radius=4.5,n}})})),r.each(d,(function(t){c.registerShape("point",t,{draw:function(e,n){var o=m(e);return n.addShape("Marker",{attrs:r.mix(o,{symbol:t,x:e.x,y:e.y})})},getMarkerCfg:function(e){var n=m(e);return n.symbol=t,n.radius=4.5,n}})})),c.registerShape("point","image",{draw:function(t,e){return t.points=this.parsePoints(t.points),e.addShape("image",{attrs:{x:t.points[0].x-t.size/2,y:t.points[0].y-t.size,width:t.size,height:t.size,img:t.shape[1]}})}});var _={};c.registerShape("point","path",{draw:function(t,e){var n,o=r.mix({},m(t),y(t)),path=t.shape[1],l=t.size||10;if(_[path])n=_[path];else{var c=f.parsePathString(path),h=r.flatten(c).filter((function(t){return r.isNumber(t)}));_[path]=n={range:Math.max.apply(null,h)-Math.min.apply(null,h),segments:c}}var d=l/n.range,v=[];o.rotate&&(v.push(["r",o.rotate/180*Math.PI]),delete o.rotate);var x=e.addShape("path",{attrs:r.mix(o,{path:n.segments})});return v.push(["s",d,d],["t",t.x,t.y]),x.transform(v),x}}),t.exports=x},function(t,e,n){"use strict";var r=n(374);e.a=function(t){var e=t+="",i=e.indexOf(":");return i>=0&&"xmlns"!==(e=t.slice(0,i))&&(t=t.slice(i+1)),r.a.hasOwnProperty(e)?{space:r.a[e],local:t}:t}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r}));var r="http://www.w3.org/1999/xhtml";e.a={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(t,e,n){"use strict";function r(){}e.a=function(t){return null==t?r:function(){return this.querySelector(t)}}},function(t,e,n){"use strict";e.a=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}},function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),e.a=function(t,e,n,r){var l=o;t.sourceEvent=o,o=t;try{return e.apply(n,r)}finally{o=l}};var r={},o=null;function l(t,e,n){return t=c(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function c(t,e,n){return function(r){var l=o;o=r;try{t.call(this,this.__data__,e,n)}finally{o=l}}}function h(t){return t.trim().split(/^|\s+/).map((function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}}))}function f(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function d(t,e,n){var o=r.hasOwnProperty(t.type)?l:c;return function(r,i,l){var c,h=this.__on,f=o(e,i,l);if(h)for(var d=0,v=h.length;d<v;++d)if((c=h[d]).type===t.type&&c.name===t.name)return this.removeEventListener(c.type,c.listener,c.capture),this.addEventListener(c.type,c.listener=f,c.capture=n),void(c.value=e);this.addEventListener(t.type,f,n),c={type:t.type,name:t.name,value:e,listener:f,capture:n},h?h.push(c):this.__on=[c]}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(r={mouseenter:"mouseover",mouseleave:"mouseout"})),e.b=function(t,e,n){var i,r,o=h(t+""),l=o.length;if(!(arguments.length<2)){for(c=e?d:f,null==n&&(n=!1),i=0;i<l;++i)this.each(c(o[i],e,n));return this}var c=this.node().__on;if(c)for(var v,y=0,m=c.length;y<m;++y)for(i=0,v=c[y];i<l;++i)if((r=o[i]).type===v.type&&r.name===v.name)return v.value}},function(t,e,n){"use strict";var r=n(377);e.a=function(){for(var source,t=r.c;source=t.sourceEvent;)t=source;return t}},function(t,e,n){"use strict";n(380),n(396),n(381),n(394),n(397),n(457),n(458);var r=n(364);n.d(e,"a",(function(){return r.a})),n(382),n(398),n(459);var o=n(399);n.d(e,"c",(function(){return o.a}));var l=n(460);n.d(e,"d",(function(){return l.a})),n.d(e,"e",(function(){return l.b})),n(463);var c=n(393);n.d(e,"b",(function(){return c.a})),n(464),n(465),n(466),n(467),n(468),n(469)},function(t,e,n){"use strict";var r=n(17),o=n(393),l=n(396),c=n(397),h=n(364),f=n(398),d=n(399),v=n(395),y=n(382);e.a=function(a,b){var t,e=typeof b;return null==b||"boolean"===e?Object(v.a)(b):("number"===e?h.a:"string"===e?(t=Object(r.a)(b))?(b=t,o.a):d.a:b instanceof r.a?o.a:b instanceof Date?c.a:Object(y.b)(b)?y.a:Array.isArray(b)?l.a:"function"!=typeof b.valueOf&&"function"!=typeof b.toString||isNaN(b)?f.a:h.a)(a,b)}},function(t,e,n){"use strict";function r(t,e,n,r,o){var l=t*t,c=l*t;return((1-3*t+3*l-c)*e+(4-6*l+3*c)*n+(1+3*t+3*l-3*c)*r+c*o)/6}e.a=r,e.b=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[i],l=t[i+1],c=i>0?t[i-1]:2*o-l,h=i<e-1?t[i+2]:2*l-o;return r((n-i/e)*e,c,o,l,h)}}},function(t,e,n){"use strict";e.b=function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},e.a=function(a,b){b||(b=[]);var i,t=a?Math.min(b.length,a.length):0,e=b.slice();return function(n){for(i=0;i<t;++i)e[i]=a[i]*(1-n)+b[i]*n;return e}}},function(t,e){t.exports=function(t){return(t.get("scaleController")||{}).defs}},function(t,e,n){var r=n(383);t.exports=function(t,e){var n=r(t);if(n&&n[e])return n[e]}},function(t,e,n){var r=n(0),o=n(71);t.exports=function(data,t){var e,n=t.field,l=t.type,c=r.Array.values(data,n);return"linear"===l?(e=r.Array.getRange(c),t.min<e.min&&(e.min=t.min),t.max>e.max&&(e.max=t.max)):"timeCat"===l?(r.each(c,(function(t,i){c[i]=o.toTimeStamp(t)})),c.sort((function(t,e){return t-e})),e=c):e=c,e}},function(t,e,n){"use strict";var r=n(70);e.a=function(t){return"string"==typeof t?new r.a([[document.querySelector(t)]],[document.documentElement]):new r.a([[t]],r.c)}},function(t,e,n){"use strict";function r(){return[]}e.a=function(t){return null==t?r:function(){return this.querySelectorAll(t)}}},function(t,e,n){"use strict";e.a=function(t){return function(){return this.matches(t)}}},function(t,e,n){"use strict";e.a=l;var r=n(390),o=n(70);function l(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}e.b=function(){return new o.a(this._enter||this._groups.map(r.a),this._parents)},l.prototype={constructor:l,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}}},function(t,e,n){"use strict";e.a=function(t){return new Array(t.length)}},function(t,e,n){"use strict";e.b=h;var r=n(376);function o(t){return function(){this.style.removeProperty(t)}}function l(t,e,n){return function(){this.style.setProperty(t,e,n)}}function c(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function h(t,e){return t.style.getPropertyValue(e)||Object(r.a)(t).getComputedStyle(t,null).getPropertyValue(e)}e.a=function(t,e,n){return arguments.length>1?this.each((null==e?o:"function"==typeof e?c:l)(t,e,null==n?"":n)):h(this.node(),t)}},function(t,e,n){"use strict";var r=n(46);e.a=function(t,e){var n,o,i,l=t.__transition,c=!0;if(l){for(i in e=null==e?null:e+"",l)(n=l[i]).name===e?(o=n.state>r.d&&n.state<r.b,n.state=r.a,n.timer.stop(),n.on.call(o?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete l[i]):c=!1;c&&delete t.__transition}}},function(t,e,n){"use strict";var r=n(17),o=n(381),l=n(394),c=n(174);function h(t){return function(e){var i,n,o=e.length,l=new Array(o),g=new Array(o),b=new Array(o);for(i=0;i<o;++i)n=Object(r.f)(e[i]),l[i]=n.r||0,g[i]=n.g||0,b[i]=n.b||0;return l=t(l),g=t(g),b=t(b),n.opacity=1,function(t){return n.r=l(t),n.g=g(t),n.b=b(t),n+""}}}e.a=function t(e){var n=Object(c.b)(e);function o(t,e){var o=n((t=Object(r.f)(t)).r,(e=Object(r.f)(e)).r),g=n(t.g,e.g),b=n(t.b,e.b),l=Object(c.a)(t.opacity,e.opacity);return function(e){return t.r=o(e),t.g=g(e),t.b=b(e),t.opacity=l(e),t+""}}return o.gamma=t,o}(1),h(o.b),h(l.a)},function(t,e,n){"use strict";var r=n(381);e.a=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),o=t[(i+e-1)%e],l=t[i%e],c=t[(i+1)%e],h=t[(i+2)%e];return Object(r.a)((n-i/e)*e,o,l,c,h)}}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=o;var r=n(380);function o(a,b){var i,t=b?b.length:0,e=a?Math.min(t,a.length):0,n=new Array(e),o=new Array(t);for(i=0;i<e;++i)n[i]=Object(r.a)(a[i],b[i]);for(;i<t;++i)o[i]=b[i];return function(t){for(i=0;i<e;++i)o[i]=n[i](t);return o}}n(382)},function(t,e,n){"use strict";e.a=function(a,b){var t=new Date;return a=+a,b=+b,function(e){return t.setTime(a*(1-e)+b*e),t}}},function(t,e,n){"use strict";var r=n(380);e.a=function(a,b){var t,i={},e={};for(t in null!==a&&"object"==typeof a||(a={}),null!==b&&"object"==typeof b||(b={}),b)t in a?i[t]=Object(r.a)(a[t],b[t]):e[t]=b[t];return function(n){for(t in i)e[t]=i[t](n);return e}}},function(t,e,n){"use strict";var r=n(364),o=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,l=new RegExp(o.source,"g");e.a=function(a,b){var t,e,n,c=o.lastIndex=l.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(t=o.exec(a))&&(e=l.exec(b));)(n=e.index)>c&&(n=b.slice(c,n),s[i]?s[i]+=n:s[++i]=n),(t=t[0])===(e=e[0])?s[i]?s[i]+=e:s[++i]=e:(s[++i]=null,q.push({i:i,x:Object(r.a)(t,e)})),c=l.lastIndex;return c<b.length&&(n=b.slice(c),s[i]?s[i]+=n:s[++i]=n),s.length<2?q[0]?function(b){return function(t){return b(t)+""}}(q[0].x):function(b){return function(){return b}}(b):(b=q.length,function(t){for(var e,i=0;i<b;++i)s[(e=q[i]).i]=e.x(t);return s.join("")})}},function(t,e,n){"use strict";var r=n(17),o=n(379);e.a=function(a,b){var t;return("number"==typeof b?o.a:b instanceof r.a?o.b:(t=Object(r.a)(b))?(b=t,o.b):o.c)(a,b)}},function(t,e,n){var r=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="rect",e},o.generateFacets=function(data){var t=this,e=t.fields,n=[],r=1,o=1,l=e[0],c=e[1],h=[""],f=[""];return l&&(h=t.getFieldValues(l,data),o=h.length),c&&(f=t.getFieldValues(c,data),r=f.length),h.forEach((function(e,d){f.forEach((function(v,y){var m=[{field:l,value:e,values:h},{field:c,value:v,values:f}],filter=t.getFilter(m),x=data.filter(filter),_={type:t.type,colValue:e,rowValue:v,colField:l,rowField:c,colIndex:d,rowIndex:y,cols:o,rows:r,data:x,region:t.getRegion(r,o,d,y)};n.push(_)}))})),n},o.setXAxis=function(t,e,n){n.rowIndex!==n.rows-1?(e[t].title=null,e[t].label=null):n.colIndex!==parseInt((n.cols-1)/2)&&(e[t].title=null)},o.setYAxis=function(t,e,n){0!==n.colIndex?(e[t].title=null,e[t].label=null):n.rowIndex!==parseInt((n.rows-1)/2)&&(e[t].title=null)},o.renderTitle=function(view,t){0===t.rowIndex&&this.drawColTitle(view,t),t.colIndex===t.cols-1&&this.drawRowTitle(view,t)},r}(n(366));t.exports=r},function(t,e,n){var r=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="list",e.cols=null,e},o.generateFacets=function(data){var t=this,e=t.fields[0];if(!e)throw"Please specify for the field for facet!";var n=t.getFieldValues(e,data),r=n.length,o=t.cols||r,l=parseInt((r+o-1)/o),c=[];return n.forEach((function(h,f){var d=parseInt(f/o),col=f%o,v=[{field:e,value:h,values:n}],filter=t.getFilter(v),y=data.filter(filter),m={type:t.type,count:r,colValue:h,colField:e,rowField:null,rowValue:h,colIndex:col,rowIndex:d,cols:o,rows:l,data:y,region:t.getRegion(l,o,col,d)};c.push(m)})),c},o.setXAxis=function(t,e,n){n.rowIndex!==n.rows-1&&n.cols*n.rowIndex+n.colIndex+1+n.cols<=n.count&&(e[t].label=null,e[t].title=null)},o.setYAxis=function(t,e,n){0!==n.colIndex&&(e[t].title=null,e[t].label=null)},r}(n(366));t.exports=r},function(t,e,n){var r=n(172);n(404),n(406),n(408),n(367),n(369),n(361),n(371),n(409),n(411),n(413),n(489),n(491),n(496),t.exports=r},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var o=n(21),l=n(360),c=n(0);n(405);var h=function(t){r(n,t);var e=n.prototype;function n(e){var n;return n=t.call(this,e)||this,c.assign(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n),l),n}return e.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="area",e.shapeType="area",e.generatePoints=!0,e.sortable=!0,e},e.draw=function(data,t,e,n){var r=this,o=this.getDrawCfg(data[0]);r._applyViewThemeShapeStyle(o,o.shape,e);var l=this.splitData(data);o.origin=data,c.each(l,(function(l,c){o.splitedIndex=c;var h=l.map((function(t){return t.points}));o.points=h;var f=e.drawShape(o.shape,o,t);r.appendShapeInfo(f,n+c)}))},n}(o),f=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"stack"}],e},e}(h);h.Stack=f,o.Area=h,o.AreaStack=f,t.exports=h},function(t,e,n){var r=n(0),o=n(19),l=n(23),c=n(45),h=n(7);function f(t){var e=h.shape.hollowArea,n=r.mix({},e,t.style);return c.addStrokeAttrs(n,t),r.isNumber(t.size)&&(n.lineWidth=t.size),n}function d(t){var e=h.shape.area,n=r.mix({},e,t.style);return c.addFillAttrs(n,t),t.color&&(n.stroke=n.stroke||t.color),r.isNumber(t.size)&&(n.lineWidth=t.size),n}function v(t,e,n){var path=[],o=[],c=[],h=[],f=t.isInCircle;return r.each(t.points,(function(t){c.push(t[1]),h.push(t[0])})),h=h.reverse(),o.push(c,h),r.each(o,(function(r,o){var c=[],h=(r=n.parsePoints(r))[0];f&&r.push({x:h.x,y:h.y}),c=e?l.getSplinePath(r,!1,t.constraint):l.getLinePath(r,!1),o>0&&(c[0][0]="L"),path=path.concat(c)})),path.push(["Z"]),path}function y(t){return{symbol:function(t,e,n){return[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},radius:5,fill:t.color,fillOpacity:.6}}var m=o.registerFactory("area",{defaultShapeType:"area",getDefaultPoints:function(t){var e=[],n=t.x,o=t.y,l=t.y0;return o=r.isArray(o)?o:[l,o],r.each(o,(function(t){e.push({x:n,y:t})})),e},getActiveCfg:function(t,e){return function(t,e){if("line"===t||"smoothLine"===t)return{lineWidth:(e.lineWidth||0)+1};var n=e.fillOpacity||e.opacity||1;return{fillOpacity:n-.15,strokeOpacity:n-.15}}(t,e)},drawShape:function(t,e,n){var o,l=this.getShape(t);return(o=1===e.points.length&&h.showSinglePoint?function(t,e,n){var o=t._coord.convertPoint(e.points[0][1]);return n.addShape("circle",{attrs:r.mix({x:o.x,y:o.y,r:2,fill:e.color},e.style)})}(this,e,n):l.draw(e,n))&&(o.set("origin",e.origin),o._id=e.splitedIndex?e._id+e.splitedIndex:e._id,o.name=this.name),o},getSelectedCfg:function(t,e){return e&&e.style?e.style:this.getActiveCfg(t,e)}});o.registerShape("area","area",{draw:function(t,e){var n=d(t),path=v(t,!1,this);return e.addShape("path",{attrs:r.mix(n,{path:path})})},getMarkerCfg:function(t){return y(t)}}),o.registerShape("area","smooth",{draw:function(t,e){var n=d(t),o=this._coord;t.constraint=[[o.start.x,o.end.y],[o.end.x,o.start.y]];var path=v(t,!0,this);return e.addShape("path",{attrs:r.mix(n,{path:path})})},getMarkerCfg:function(t){return y(t)}}),o.registerShape("area","line",{draw:function(t,e){var n=f(t),path=v(t,!1,this);return e.addShape("path",{attrs:r.mix(n,{path:path})})},getMarkerCfg:function(t){return y(t)}}),o.registerShape("area","smoothLine",{draw:function(t,e){var n=f(t),path=v(t,!0,this);return e.addShape("path",{attrs:r.mix(n,{path:path})})},getMarkerCfg:function(t){return y(t)}}),m.spline=m.smooth,t.exports=m},function(t,e,n){var r=n(21);n(407);var o=function(t){var e,n;function r(){return t.apply(this,arguments)||this}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="edge",e.shapeType="edge",e.generatePoints=!0,e},r}(r);r.Edge=o,t.exports=o},function(t,e,n){var r=n(0),o=n(19),l=n(45),c=n(7),h=n(23);function f(t){var e=c.shape.edge,n=r.mix({},e,t.style);return l.addStrokeAttrs(n,t),t.size&&(n.lineWidth=t.size),n}var d=o.registerFactory("edge",{defaultShapeType:"line",getDefaultPoints:function(t){return l.splitPoints(t)},getActiveCfg:function(t,e){return{lineWidth:(e.lineWidth||0)+1}}});function v(t,e){var n=[];n.push({x:t.x,y:.5*t.y+1*e.y/2}),n.push({y:.5*t.y+1*e.y/2,x:e.x}),n.push(e);var sub=["C"];return r.each(n,(function(t){sub.push(t.x,t.y)})),sub}function y(t,e){var n=[];n.push({x:e.x,y:e.y}),n.push(t);var sub=["Q"];return r.each(n,(function(t){sub.push(t.x,t.y)})),sub}o.registerShape("edge","line",{draw:function(t,e){var n=this.parsePoints(t.points),o=f(t),path=h.getLinePath(n);return e.addShape("path",{attrs:r.mix(o,{path:path})})},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4.5},f(t))}}),o.registerShape("edge","vhv",{draw:function(t,e){var n=t.points,o=f(t),path=function(t,e){var n=[];n.push({y:t.y*(1-1/3)+e.y*(1/3),x:t.x}),n.push({y:t.y*(1-1/3)+e.y*(1/3),x:e.x}),n.push(e);var path=[["M",t.x,t.y]];return r.each(n,(function(t){path.push(["L",t.x,t.y])})),path}(n[0],n[1]);return path=this.parsePath(path),e.addShape("path",{attrs:r.mix(o,{path:path})})},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4.5},f(t))}}),o.registerShape("edge","smooth",{draw:function(t,e){var n=t.points,o=f(t),path=function(t,e){var sub=v(t,e),path=[["M",t.x,t.y]];return path.push(sub),path}(n[0],n[1]);return path=this.parsePath(path),e.addShape("path",{attrs:r.mix(o,{path:path})})},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4.5},f(t))}}),o.registerShape("edge","arc",{draw:function(t,e){var line,path,n=t.points,o=n.length>2?"weight":"normal",l=f(t);if(t.isInCircle){var c={x:0,y:1};"normal"===o?path=function(t,e,n){var sub=y(e,n),path=[["M",t.x,t.y]];return path.push(sub),path}(n[0],n[1],c):(l.fill=l.stroke,path=function(t,e){var n=y(t[1],e),r=y(t[3],e),path=[["M",t[0].x,t[0].y]];return path.push(r),path.push(["L",t[3].x,t[3].y]),path.push(["L",t[2].x,t[2].y]),path.push(n),path.push(["L",t[1].x,t[1].y]),path.push(["L",t[0].x,t[0].y]),path.push(["Z"]),path}(n,c)),path=this.parsePath(path),line=e.addShape("path",{attrs:r.mix(l,{path:path})})}else if("normal"===o)n=this.parsePoints(n),line=e.addShape("arc",{attrs:r.mix(l,{x:(n[1].x+n[0].x)/2,y:n[0].y,r:Math.abs(n[1].x-n[0].x)/2,startAngle:Math.PI,endAngle:2*Math.PI})});else{path=[["M",n[0].x,n[0].y],["L",n[1].x,n[1].y]];var h=v(n[1],n[3]),d=v(n[2],n[0]);path.push(h),path.push(["L",n[3].x,n[3].y]),path.push(["L",n[2].x,n[2].y]),path.push(d),path.push(["Z"]),path=this.parsePath(path),l.fill=l.stroke,line=e.addShape("path",{attrs:r.mix(l,{path:path})})}return line},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4.5},f(t))}}),t.exports=d},function(t,e,n){var r=n(73).ColorUtil,o=n(21),l=n(0),c=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var c=o.prototype;return c.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="heatmap",e.paletteCache={},e},c._prepareRange=function(){var data=this.get("mappedData"),t=this.getAttr("color").field,e=1/0,n=-1/0;data.forEach((function(r){var o=r._origin[t];o>n&&(n=o),o<e&&(e=o)})),e===n&&(e=n-1);var r=[e,n];this.set("valueRange",r)},c._prepareSize=function(){var t=this.getDefaultValue("size");l.isNumber(t)||(t=this._getDefaultSize());var e=this.get("styleOptions"),n=e&&l.isObject(e.style)?e.style.blur:null;l.isFinite(n)&&null!==n||(n=t/2),this.set("heatmapSize",{blur:n,radius:t})},c._getDefaultSize=function(){var t=this.getAttr("position"),e=this.get("coord");return Math.min(e.width/(4*t.scales[0].ticks.length),e.height/(4*t.scales[1].ticks.length))},c._colorize=function(img){for(var t=this.getAttr("color"),e=img.data,n=this.get("paletteCache"),i=3;i<e.length;i+=4){var o=e[i];if(o){var l=void 0;n[o]?l=n[o]:(l=r.rgb2arr(t.gradient(o/256)),n[o]=l),e[i-3]=l[0],e[i-2]=l[1],e[i-1]=l[2],e[i]=o}}},c._prepareGreyScaleBlurredCircle=function(t,e){var n=this.get("grayScaleBlurredCanvas");n||(n=document.createElement("canvas"),this.set("grayScaleBlurredCanvas",n));var r=t+e,o=n.getContext("2d");n.width=n.height=2*r,o.clearRect(0,0,n.width,n.height),o.shadowOffsetX=o.shadowOffsetY=2*r,o.shadowBlur=e,o.shadowColor="black",o.beginPath(),o.arc(-r,-r,t,0,2*Math.PI,!0),o.closePath(),o.fill()},c._drawGrayScaleBlurredCircle=function(t,e,n,r,o){var l=this.get("grayScaleBlurredCanvas");o.globalAlpha=r,o.drawImage(l,t-n,e-n)},c._getShadowCanvasCtx=function(){var canvas=this.get("shadowCanvas");canvas||(canvas=document.createElement("canvas"),this.set("shadowCanvas",canvas));var t=this.get("coord");return t&&(canvas.width=t.width,canvas.height=t.height),canvas.getContext("2d")},c._clearShadowCanvasCtx=function(){var t=this._getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},c._getImageShape=function(){var t=this.get("imageShape");return t||(t=this.get("container").addShape("Image",{}),this.set("imageShape",t),t)},c.clear=function(){this._clearShadowCanvasCtx(),t.prototype.clear.call(this)},c.drawWithRange=function(t){var e=this.get("coord"),n=e.start,r=e.end,o=e.width,l=e.height,c=this.getAttr("color").field,h=this.get("heatmapSize");this._clearShadowCanvasCtx();var f=this._getShadowCanvasCtx(),data=this.get("mappedData");t&&(data=data.filter((function(e){return e._origin[c]<=t[1]&&e._origin[c]>=t[0]})));for(var d=this._getScale(c),i=0;i<data.length;i++){var v=data[i],y=this.getDrawCfg(v),m=d.scale(v._origin[c]);this._drawGrayScaleBlurredCircle(y.x-n.x,y.y-r.y,h.radius+h.blur,m,f)}var x=f.getImageData(0,0,o,l);this._clearShadowCanvasCtx(),this._colorize(x),f.putImageData(x,0,0);var _=this._getImageShape();_.attr("x",n.x),_.attr("y",r.y),_.attr("width",o),_.attr("height",l),_.attr("img",f.canvas)},c.draw=function(data){this.set("mappedData",data),this._prepareRange(),this._prepareSize();var t=this.get("heatmapSize");this._prepareGreyScaleBlurredCircle(t.radius,t.blur);var e=this.get("valueRange");this.drawWithRange(e)},o}(o);o.Heatmap=c,t.exports=c},function(t,e,n){var r=n(21),o=n(0);n(410);var l=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var l=r.prototype;return l.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="polygon",e.shapeType="polygon",e.generatePoints=!0,e},l.createShapePointsCfg=function(e){var n,r=t.prototype.createShapePointsCfg.call(this,e),l=r.x,c=r.y;if(!o.isArray(l)||!o.isArray(c)){var h=this.getXScale(),f=this.getYScale(),d=.5/(h.values?h.values.length:h.ticks.length),v=.5/(f.values?f.values.length:f.ticks.length);h.isCategory&&f.isCategory?(l=[l-d,l-d,l+d,l+d],c=[c-v,c+v,c+v,c-v]):o.isArray(l)?(l=[(n=l)[0],n[0],n[1],n[1]],c=[c-v/2,c+v/2,c+v/2,c-v/2]):o.isArray(c)&&(c=[(n=c)[0],n[1],n[1],n[0]],l=[l-d/2,l-d/2,l+d/2,l+d/2]),r.x=l,r.y=c}return r},r}(r);r.Polygon=l,t.exports=l},function(t,e,n){var r=n(0),o=n(19),l=n(45),c=n(7);function h(t){var e=c.shape.polygon,n=r.mix({},e,t.style);return l.addFillAttrs(n,t),n}function f(t){for(var e=t[0],i=1,path=[["M",e.x,e.y]];i<t.length;){var n=t[i];n.x===t[i-1].x&&n.y===t[i-1].y||(path.push(["L",n.x,n.y]),n.x===e.x&&n.y===e.y&&i<t.length-1&&(e=t[i+1],path.push(["Z"]),path.push(["M",e.x,e.y]),i++)),i++}return r.isEqual(path[path.length-1],e)||path.push(["L",e.x,e.y]),path.push(["Z"]),path}var d=o.registerFactory("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(t){var e=[];return r.each(t.x,(function(n,r){var o=t.y[r];e.push({x:n,y:o})})),e},getActiveCfg:function(t,e){var n=e.lineWidth||1;return"hollow"===t?{lineWidth:n+1}:{fillOpacity:(e.fillOpacity||e.opacity||1)-.08}},getSelectedCfg:function(t,e){return e&&e.style?e.style:this.getActiveCfg(t,e)}});o.registerShape("polygon","polygon",{draw:function(t,e){if(!r.isEmpty(t.points)){var n=h(t),path=f(t.points);return path=this.parsePath(path),e.addShape("path",{attrs:r.mix(n,{path:path})})}},getMarkerCfg:function(t){return r.mix({symbol:"square",radius:4},h(t))}}),o.registerShape("polygon","hollow",{draw:function(t,e){if(!r.isEmpty(t.points)){var n=function(t){var e=c.shape.hollowPolygon,n=r.mix({},e,t.style);return l.addStrokeAttrs(n,t),n}(t),path=f(t.points);return path=this.parsePath(path),e.addShape("path",{attrs:r.mix(n,{path:path})})}},getMarkerCfg:function(t){return r.mix({symbol:"square",radius:4},h(t))}}),t.exports=d},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var o=n(21),l=n(0),c=n(359);n(412);var h=function(t){r(n,t);var e=n.prototype;function n(e){var n;return n=t.call(this,e)||this,l.assign(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n),c),n}return e.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="schema",e.shapeType="schema",e.generatePoints=!0,e},e.createShapePointsCfg=function(e){var n=t.prototype.createShapePointsCfg.call(this,e);return n.size=this.getNormalizedSize(e),n},e.clearInner=function(){t.prototype.clearInner.call(this),this.set("defaultSize",null)},n}(o),f=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"dodge"}],e},e}(h);h.Dodge=f,o.Schema=h,o.SchemaDodge=f,t.exports=h},function(t,e,n){var r=n(0),o=n(19),l=n(45),c=n(7);function h(t){r.isArray(t)||(t=[t]);var e=t[0],n=t[t.length-1],o=t.length>1?t[1]:e;return{min:e,max:n,min1:o,max1:t.length>3?t[3]:n,median:t.length>2?t[2]:o}}function f(t,e,n){var o,l,c,f,d=[];return r.isArray(e)?o=[[t-n/2,(l=h(e)).max],[t+n/2,l.max],[t,l.max],[t,l.max1],[t-n/2,l.min1],[t-n/2,l.max1],[t+n/2,l.max1],[t+n/2,l.min1],[t,l.min1],[t,l.min],[t-n/2,l.min],[t+n/2,l.min],[t-n/2,l.median],[t+n/2,l.median]]:(e=e||.5,o=[[(l=h(t)).min,e-n/2],[l.min,e+n/2],[l.min,e],[l.min1,e],[l.min1,e-n/2],[l.min1,e+n/2],[l.max1,e+n/2],[l.max1,e-n/2],[l.max1,e],[l.max,e],[l.max,e-n/2],[l.max,e+n/2],[l.median,e-n/2],[l.median,e+n/2]]),c=o,f=d,r.each(c,(function(t){f.push({x:t[0],y:t[1]})})),d}function d(t,e,n){var o=function(t){r.isArray(t)||(t=[t]);var e=t.sort((function(a,b){return a<b?1:-1})),n=e.length;if(n<4)for(var o=e[n-1],i=0;i<4-n;i++)e.push(o);return e}(e);return[{x:t,y:o[0]},{x:t,y:o[1]},{x:t-n/2,y:o[2]},{x:t-n/2,y:o[1]},{x:t+n/2,y:o[1]},{x:t+n/2,y:o[2]},{x:t,y:o[2]},{x:t,y:o[3]}]}var v=o.registerFactory("schema",{defaultShapeType:"",getActiveCfg:function(t,e){if("box"===t)return{lineWidth:(e.lineWidth||1)+1};var n=e.fillOpacity||e.opacity||1;return{fillOpacity:n-.15,strokeOpacity:n-.15}},getSelectedCfg:function(t,e){return e&&e.style?e.style:this.getActiveCfg(t,e)}});o.registerShape("schema","box",{getPoints:function(t){return f(t.x,t.y,t.size)},draw:function(t,e){var n,o=function(t){var e=c.shape.schema,n=r.mix({},e,t.style);return l.addStrokeAttrs(n,t),n}(t),path=[["M",(n=t.points)[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["M",n[4].x,n[4].y],["L",n[5].x,n[5].y],["L",n[6].x,n[6].y],["L",n[7].x,n[7].y],["L",n[4].x,n[4].y],["Z"],["M",n[8].x,n[8].y],["L",n[9].x,n[9].y],["M",n[10].x,n[10].y],["L",n[11].x,n[11].y],["M",n[12].x,n[12].y],["L",n[13].x,n[13].y]];return path=this.parsePath(path),e.addShape("path",{attrs:r.mix(o,{path:path})})},getMarkerCfg:function(t){return{symbol:function(t,e,n){var r=f(t,[e-6,e-3,e,e+3,e+6],n);return[["M",r[0].x+1,r[0].y],["L",r[1].x-1,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["M",r[4].x,r[4].y],["L",r[5].x,r[5].y],["L",r[6].x,r[6].y],["L",r[7].x,r[7].y],["L",r[4].x,r[4].y],["Z"],["M",r[8].x,r[8].y],["L",r[9].x,r[9].y],["M",r[10].x+1,r[10].y],["L",r[11].x-1,r[11].y],["M",r[12].x,r[12].y],["L",r[13].x,r[13].y]]},radius:6,lineWidth:1,stroke:t.color}}}),o.registerShape("schema","candle",{getPoints:function(t){return d(t.x,t.y,t.size)},draw:function(t,e){var n,o=function(t){var e=c.shape.schema,n=r.mix({},e,t.style);return l.addFillAttrs(n,t),t.color&&(n.stroke=t.color||n.stroke),n}(t),path=[["M",(n=t.points)[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["L",n[4].x,n[4].y],["L",n[5].x,n[5].y],["Z"],["M",n[6].x,n[6].y],["L",n[7].x,n[7].y]];return path=this.parsePath(path),e.addShape("path",{attrs:r.mix(o,{path:path})})},getMarkerCfg:function(t){return{symbol:function(t,e,n){var r=d(t,e=[e+7.5,e+3,e-3,e-7.5],n);return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["L",r[4].x,r[4].y],["L",r[5].x,r[5].y],["Z"],["M",r[6].x,r[6].y],["L",r[7].x,r[7].y]]},lineWidth:1,stroke:t.color,fill:t.color,radius:6}}}),t.exports=v},function(t,e,n){var r=n(21),o=n(0),l=n(414),c=l.venn,h=l.scaleSolution,f=l.circlePath,d=l.intersectionAreaPath,v=l.computeTextCentres;n(488);var y=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var l=r.prototype;return l.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="venn",e.shapeType="venn",e.generatePoints=!1,e},l._getAttrValues=function(e,n){return"position"===e.type?[n.x,n.y]:t.prototype._getAttrValues.call(this,e,n)},l.sets=function(t){return this.set("setsField",t),this},l._initAttrs=function(){t.prototype._initAttrs.call(this);var e=this.get("attrOptions"),n=this.get("setsField")||"sets",data=this.get("data"),r=e.size?e.size.field:"size";data.forEach((function(t){t.sets=t[n],t._sets=t[n].join("&"),t.size=t[r]}));var l=c(data),y=this.get("coord"),m=[Math.min(y.x.end,y.x.start),Math.max(y.x.end,y.x.start)],x=[Math.min(y.y.end,y.y.start),Math.max(y.y.end,y.y.start)],_=m[1]-m[0],w=x[1]-x[0],S=this.get("styleOptions"),M=S&&o.isObject(S.style)?S.style.padding:0;o.isFinite(M)||(M=0);var C=h(l,_,w,M),A=v(C,data);data.forEach((function(t){var e=t.sets,n=e.join(",");if(t.id=n,1===e.length){var circle=C[n];t.path=f(circle.x,circle.y,circle.radius),o.assign(t,circle)}else{var r=e.map((function(t){return C[t]})),path=d(r);/[zZ]$/.test(path)||(path+="Z"),t.path=path;var l=A[n]||{x:0,y:0};o.assign(t,l)}}))},r}(r);r.Venn=y,t.exports=y},function(t,e,n){!function(t,e,n){"use strict";function r(t,e){var i,n=function(t){for(var e=[],i=0;i<t.length;++i)for(var n=i+1;n<t.length;++n)for(var r=h(t[i],t[n]),o=0;o<r.length;++o){var p=r[o];p.parentIndex=[i,n],e.push(p)}return e}(t),r=n.filter((function(p){return function(t,e){for(var i=0;i<e.length;++i)if(l(t,e[i])>e[i].radius+1e-10)return!1;return!0}(p,t)})),c=0,d=0,v=[];if(r.length>1){var y=f(r);for(i=0;i<r.length;++i){var p=r[i];p.angle=Math.atan2(p.x-y.x,p.y-y.y)}r.sort((function(a,b){return b.angle-a.angle}));var m=r[r.length-1];for(i=0;i<r.length;++i){var x=r[i];d+=(m.x+x.x)*(x.y-m.y);for(var _={x:(x.x+m.x)/2,y:(x.y+m.y)/2},w=null,S=0;S<x.parentIndex.length;++S)if(m.parentIndex.indexOf(x.parentIndex[S])>-1){var circle=t[x.parentIndex[S]],M=Math.atan2(x.x-circle.x,x.y-circle.y),C=Math.atan2(m.x-circle.x,m.y-circle.y),A=C-M;A<0&&(A+=2*Math.PI);var a=C-A/2,k=l(_,{x:circle.x+circle.radius*Math.sin(a),y:circle.y+circle.radius*Math.cos(a)});k>2*circle.radius&&(k=2*circle.radius),(null===w||w.width>k)&&(w={circle:circle,width:k,p1:x,p2:m})}null!==w&&(v.push(w),c+=o(w.circle.radius,w.width),m=x)}}else{var P=t[0];for(i=1;i<t.length;++i)t[i].radius<P.radius&&(P=t[i]);var T=!1;for(i=0;i<t.length;++i)if(l(t[i],P)>Math.abs(P.radius-t[i].radius)){T=!0;break}T?c=d=0:(c=P.radius*P.radius*Math.PI,v.push({circle:P,p1:{x:P.x,y:P.y+P.radius},p2:{x:P.x-1e-10,y:P.y+P.radius},width:2*P.radius}))}return d/=2,e&&(e.area=c+d,e.arcArea=c,e.polygonArea=d,e.arcs=v,e.innerPoints=r,e.intersectionPoints=n),c+d}function o(t,e){return t*t*Math.acos(1-e/t)-(t-e)*Math.sqrt(e*(2*t-e))}function l(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function c(t,e,n){if(n>=t+e)return 0;if(n<=Math.abs(t-e))return Math.PI*Math.min(t,e)*Math.min(t,e);var r=e-(n*n-t*t+e*e)/(2*n);return o(t,t-(n*n-e*e+t*t)/(2*n))+o(e,r)}function h(t,e){var n=l(t,e),r=t.radius,o=e.radius;if(n>=r+o||n<=Math.abs(r-o))return[];var a=(r*r-o*o+n*n)/(2*n),c=Math.sqrt(r*r-a*a),h=t.x+a*(e.x-t.x)/n,f=t.y+a*(e.y-t.y)/n,d=-(e.y-t.y)*(c/n),v=-(e.x-t.x)*(c/n);return[{x:h+d,y:f-v},{x:h-d,y:f+v}]}function f(t){for(var e={x:0,y:0},i=0;i<t.length;++i)e.x+=t[i].x,e.y+=t[i].y;return e.x/=t.length,e.y/=t.length,e}function d(t){for(var e=new Array(t),i=0;i<t;++i)e[i]=0;return e}function v(t,e){return d(t).map((function(){return d(e)}))}function y(a,b){for(var t=0,i=0;i<a.length;++i)t+=a[i]*b[i];return t}function m(a){return Math.sqrt(y(a,a))}function x(t,e,n){for(var i=0;i<e.length;++i)t[i]=e[i]*n}function _(t,e,n,r,o){for(var l=0;l<t.length;++l)t[l]=e*n[l]+r*o[l]}function w(t,e,n){var r,o=(n=n||{}).maxIterations||200*e.length,l=n.nonZeroDelta||1.05,c=n.zeroDelta||.001,h=n.minErrorDelta||1e-6,f=n.minErrorDelta||1e-5,d=void 0!==n.rho?n.rho:1,v=void 0!==n.chi?n.chi:2,y=void 0!==n.psi?n.psi:-.5,m=void 0!==n.sigma?n.sigma:.5,x=e.length,w=new Array(x+1);w[0]=e,w[0].fx=t(e),w[0].id=0;for(var i=0;i<x;++i){var S=e.slice();S[i]=S[i]?S[i]*l:c,w[i+1]=S,w[i+1].fx=t(S),w[i+1].id=i+1}function M(t){for(var i=0;i<t.length;i++)w[x][i]=t[i];w[x].fx=t.fx}for(var C=function(a,b){return a.fx-b.fx},A=e.slice(),k=e.slice(),P=e.slice(),T=e.slice(),I=0;I<o;++I){if(w.sort(C),n.history){var O=w.map((function(t){var e=t.slice();return e.fx=t.fx,e.id=t.id,e}));O.sort((function(a,b){return a.id-b.id})),n.history.push({x:w[0].slice(),fx:w[0].fx,simplex:O})}for(r=0,i=0;i<x;++i)r=Math.max(r,Math.abs(w[0][i]-w[1][i]));if(Math.abs(w[0].fx-w[x].fx)<h&&r<f)break;for(i=0;i<x;++i){A[i]=0;for(var L=0;L<x;++L)A[i]+=w[L][i];A[i]/=x}var E=w[x];if(_(k,1+d,A,-d,E),k.fx=t(k),k.fx<w[0].fx)_(T,1+v,A,-v,E),T.fx=t(T),T.fx<k.fx?M(T):M(k);else if(k.fx>=w[x-1].fx){var D=!1;if(k.fx>E.fx?(_(P,1+y,A,-y,E),P.fx=t(P),P.fx<E.fx?M(P):D=!0):(_(P,1-y*d,A,y*d,E),P.fx=t(P),P.fx<k.fx?M(P):D=!0),D){if(m>=1)break;for(i=1;i<w.length;++i)_(w[i],1-m,w[0],m,w[i]),w[i].fx=t(w[i])}}else M(k)}return w.sort(C),{fx:w[0].fx,x:w[0]}}function S(t,e,n,r,a,o,l){var c=n.fx,h=y(n.fxprime,e),f=c,d=c,v=h,m=0;function x(d,m,x){for(var w=0;w<16;++w)if(a=(d+m)/2,_(r.x,1,n.x,a,e),f=r.fx=t(r.x,r.fxprime),v=y(r.fxprime,e),f>c+o*a*h||f>=x)m=a;else{if(Math.abs(v)<=-l*h)return a;v*(m-d)>=0&&(m=d),d=a,x=f}return 0}a=a||1,o=o||1e-6,l=l||.1;for(var w=0;w<10;++w){if(_(r.x,1,n.x,a,e),f=r.fx=t(r.x,r.fxprime),v=y(r.fxprime,e),f>c+o*a*h||w&&f>=d)return x(m,a,d);if(Math.abs(v)<=-l*h)return a;if(v>=0)return x(a,m,f);d=f,m=a,a*=2}return a}function M(t,e,n){var r,o,l,c={x:e.slice(),fx:0,fxprime:e.slice()},h={x:e.slice(),fx:0,fxprime:e.slice()},f=e.slice(),a=1;l=(n=n||{}).maxIterations||20*e.length,c.fx=t(c.x,c.fxprime),x(r=c.fxprime.slice(),c.fxprime,-1);for(var i=0;i<l;++i){if(a=S(t,r,c,h,a),n.history&&n.history.push({x:c.x.slice(),fx:c.fx,fxprime:c.fxprime.slice(),alpha:a}),a){_(f,1,h.fxprime,-1,c.fxprime);var d=y(c.fxprime,c.fxprime);_(r,Math.max(0,y(f,h.fxprime)/d),r,-1,h.fxprime),o=c,c=h,h=o}else x(r,c.fxprime,-1);if(m(c.fxprime)<=1e-5)break}return n.history&&n.history.push({x:c.x.slice(),fx:c.fx,fxprime:c.fxprime.slice(),alpha:a}),c}function C(t,e){(e=e||{}).maxIterations=e.maxIterations||500;var n,r=e.initialLayout||k,o=e.lossFunction||T,l=r(t=function(t){t=t.slice();var i,e,a,b,n=[],r={};for(i=0;i<t.length;++i){var area=t[i];1==area.sets.length?n.push(area.sets[0]):2==area.sets.length&&(a=area.sets[0],b=area.sets[1],r[[a,b]]=!0,r[[b,a]]=!0)}for(n.sort((function(a,b){return a>b})),i=0;i<n.length;++i)for(a=n[i],e=i+1;e<n.length;++e)b=n[e],[a,b]in r||t.push({sets:[a,b],size:0});return t}(t),e),c=[],h=[];for(n in l)l.hasOwnProperty(n)&&(c.push(l[n].x),c.push(l[n].y),h.push(n));for(var f=w((function(e){for(var n={},i=0;i<h.length;++i){var r=h[i];n[r]={x:e[2*i],y:e[2*i+1],radius:l[r].radius}}return o(n,t)}),c,e).x,i=0;i<h.length;++i)n=h[i],l[n].x=f[2*i],l[n].y=f[2*i+1];return l}function A(t,e,n){return Math.min(t,e)*Math.min(t,e)*Math.PI<=n+1e-10?Math.abs(t-e):function(t,a,b,e){var n=(e=e||{}).maxIterations||100,r=e.tolerance||1e-10,o=t(a),l=t(b),c=b-a;if(o*l>0)throw"Initial bisect points must have opposite signs";if(0===o)return a;if(0===l)return b;for(var i=0;i<n;++i){var h=a+(c/=2),f=t(h);if(f*o>=0&&(a=h),Math.abs(c)<r||0===f)return h}return a+c}((function(r){return c(t,e,r)-n}),0,t+e)}function k(t,e){var n=P(t,e),r=e.lossFunction||T;if(t.length>=8){var o=function(t,e){var i,n=(e=e||{}).restarts||10,r=[],o={};for(i=0;i<t.length;++i){var area=t[i];1==area.sets.length&&(o[area.sets[0]]=r.length,r.push(area))}var l=function(t,e,n){var r=v(e.length,e.length),o=v(e.length,e.length);return t.filter((function(t){return 2==t.sets.length})).map((function(t){var l=n[t.sets[0]],c=n[t.sets[1]],h=A(Math.sqrt(e[l].size/Math.PI),Math.sqrt(e[c].size/Math.PI),t.size);r[l][c]=r[c][l]=h;var f=0;t.size+1e-10>=Math.min(e[l].size,e[c].size)?f=1:t.size<=1e-10&&(f=-1),o[l][c]=o[c][l]=f})),{distances:r,constraints:o}}(t,r,o),c=l.distances,h=l.constraints,f=m(c.map(m))/c.length;c=c.map((function(t){return t.map((function(t){return t/f}))}));var y,_,w=function(t,e){return function(t,e,n,r){var i,o=0;for(i=0;i<e.length;++i)e[i]=0;for(i=0;i<n.length;++i)for(var l=t[2*i],c=t[2*i+1],h=i+1;h<n.length;++h){var f=t[2*h],d=t[2*h+1],v=n[i][h],y=r[i][h],m=(f-l)*(f-l)+(d-c)*(d-c),x=Math.sqrt(m),_=m-v*v;y>0&&x<=v||y<0&&x>=v||(o+=2*_*_,e[2*i]+=4*_*(l-f),e[2*i+1]+=4*_*(c-d),e[2*h]+=4*_*(f-l),e[2*h+1]+=4*_*(d-c))}return o}(t,e,c,h)};for(i=0;i<n;++i){var S=d(2*c.length).map(Math.random);_=M(w,S,e),(!y||_.fx<y.fx)&&(y=_)}var C=y.x,k={};for(i=0;i<r.length;++i){var P=r[i];k[P.sets[0]]={x:C[2*i]*f,y:C[2*i+1]*f,radius:Math.sqrt(P.size/Math.PI)}}if(e.history)for(i=0;i<e.history.length;++i)x(e.history[i].x,f);return k}(t,e);r(o,t)+1e-8<r(n,t)&&(n=o)}return n}function P(t,e){for(var n,r=e&&e.lossFunction?e.lossFunction:T,o={},l={},i=0;i<t.length;++i){var area=t[i];1==area.sets.length&&(n=area.sets[0],o[n]={x:1e10,y:1e10,rowid:o.length,size:area.size,radius:Math.sqrt(area.size/Math.PI)},l[n]=[])}for(t=t.filter((function(a){return 2==a.sets.length})),i=0;i<t.length;++i){var c=t[i],f=c.hasOwnProperty("weight")?c.weight:1,d=c.sets[0],v=c.sets[1];c.size+1e-10>=Math.min(o[d].size,o[v].size)&&(f=0),l[d].push({set:v,size:c.size,weight:f}),l[v].push({set:d,size:c.size,weight:f})}var y=[];for(n in l)if(l.hasOwnProperty(n)){var m=0;for(i=0;i<l[n].length;++i)m+=l[n][i].size*l[n][i].weight;y.push({set:n,size:m})}function x(a,b){return b.size-a.size}y.sort(x);var _={};function w(element){return element.set in _}function S(t,e){o[e].x=t.x,o[e].y=t.y,_[e]=!0}for(S({x:0,y:0},y[0].set),i=1;i<y.length;++i){var M=y[i].set,C=l[M].filter(w);if(n=o[M],C.sort(x),0===C.length)throw"ERROR: missing pairwise overlap information";for(var k=[],P=0;P<C.length;++P){var I=o[C[P].set],O=A(n.radius,I.radius,C[P].size);k.push({x:I.x+O,y:I.y}),k.push({x:I.x-O,y:I.y}),k.push({y:I.y+O,x:I.x}),k.push({y:I.y-O,x:I.x});for(var L=P+1;L<C.length;++L)for(var E=o[C[L].set],D=A(n.radius,E.radius,C[L].size),F=h({x:I.x,y:I.y,radius:O},{x:E.x,y:E.y,radius:D}),B=0;B<F.length;++B)k.push(F[B])}var R=1e50,j=k[0];for(P=0;P<k.length;++P){o[M].x=k[P].x,o[M].y=k[P].y;var N=r(o,t);N<R&&(R=N,j=k[P])}S(j,M)}return o}function T(t,e){for(var output=0,i=0;i<e.length;++i){var n,area=e[i];if(1!=area.sets.length){if(2==area.sets.length){var o=t[area.sets[0]],h=t[area.sets[1]];n=c(o.radius,h.radius,l(o,h))}else n=r(area.sets.map((function(i){return t[i]})));output+=(area.hasOwnProperty("weight")?area.weight:1)*(n-area.size)*(n-area.size)}}return output}function I(t,e,n){var i;if(null===n?t.sort((function(a,b){return b.radius-a.radius})):t.sort(n),t.length>0){var r=t[0].x,o=t[0].y;for(i=0;i<t.length;++i)t[i].x-=r,t[i].y-=o}if(2==t.length&&l(t[0],t[1])<Math.abs(t[1].radius-t[0].radius)&&(t[1].x=t[0].x+t[0].radius-t[1].radius-1e-10,t[1].y=t[0].y),t.length>1){var c,h,f=Math.atan2(t[1].x,t[1].y)-e,d=Math.cos(f),s=Math.sin(f);for(i=0;i<t.length;++i)c=t[i].x,h=t[i].y,t[i].x=d*c-s*h,t[i].y=s*c+d*h}if(t.length>2){for(var v=Math.atan2(t[2].x,t[2].y)-e;v<0;)v+=2*Math.PI;for(;v>2*Math.PI;)v-=2*Math.PI;if(v>Math.PI){var y=t[1].y/(1e-10+t[1].x);for(i=0;i<t.length;++i){var m=(t[i].x+y*t[i].y)/(1+y*y);t[i].x=2*m-t[i].x,t[i].y=2*m*y-t[i].y}}}}function O(t){function e(circle){return circle.parent!==circle&&(circle.parent=e(circle.parent)),circle.parent}t.map((function(circle){circle.parent=circle}));for(var i=0;i<t.length;++i)for(var n=i+1;n<t.length;++n){var r=t[i].radius+t[n].radius;l(t[i],t[n])+1e-10<r&&(o=t[n],c=t[i],h=void 0,f=void 0,h=e(o),f=e(c),h.parent=f)}var o,c,h,f,d,v={};for(i=0;i<t.length;++i)(d=e(t[i]).parent.setid)in v||(v[d]=[]),v[d].push(t[i]);t.map((function(circle){delete circle.parent}));var y=[];for(d in v)v.hasOwnProperty(d)&&y.push(v[d]);return y}function L(t){var e=function(e){return{max:Math.max.apply(null,t.map((function(t){return t[e]+t.radius}))),min:Math.min.apply(null,t.map((function(t){return t[e]-t.radius})))}};return{xRange:e("x"),yRange:e("y")}}function E(t,e,n){null===e&&(e=Math.PI/2);var i,r,o=[];for(r in t)if(t.hasOwnProperty(r)){var l=t[r];o.push({x:l.x,y:l.y,radius:l.radius,setid:r})}var c=O(o);for(i=0;i<c.length;++i){I(c[i],e,n);var h=L(c[i]);c[i].size=(h.xRange.max-h.xRange.min)*(h.yRange.max-h.yRange.min),c[i].bounds=h}c.sort((function(a,b){return b.size-a.size}));var f=(o=c[0]).bounds,d=(f.xRange.max-f.xRange.min)/50;function v(t,e,n){if(t){var r,l,c,h=t.bounds;e?r=f.xRange.max-h.xRange.min+d:(r=f.xRange.max-h.xRange.max,(c=(h.xRange.max-h.xRange.min)/2-(f.xRange.max-f.xRange.min)/2)<0&&(r+=c)),n?l=f.yRange.max-h.yRange.min+d:(l=f.yRange.max-h.yRange.max,(c=(h.yRange.max-h.yRange.min)/2-(f.yRange.max-f.yRange.min)/2)<0&&(l+=c));for(var v=0;v<t.length;++v)t[v].x+=r,t[v].y+=l,o.push(t[v])}}for(var y=1;y<c.length;)v(c[y],!0,!1),v(c[y+1],!1,!0),v(c[y+2],!0,!0),y+=3,f=L(o);var m={};for(i=0;i<o.length;++i)m[o[i].setid]=o[i];return m}function D(t,e,n,r){var o=[],l=[];for(var c in t)t.hasOwnProperty(c)&&(l.push(c),o.push(t[c]));e-=2*r,n-=2*r;var h=L(o),f=h.xRange,d=h.yRange;if(f.max==f.min||d.max==d.min)return console.log("not scaling solution: zero size detected"),t;for(var v=e/(f.max-f.min),y=n/(d.max-d.min),m=Math.min(y,v),x=(e-(f.max-f.min)*m)/2,_=(n-(d.max-d.min)*m)/2,w={},i=0;i<o.length;++i){var circle=o[i];w[l[i]]={radius:m*circle.radius,x:r+x+(circle.x-f.min)*m,y:r+_+(circle.y-d.min)*m}}return w}function F(t,n){return function(){for(var r,text=e.select(this),data=text.datum(),o=t[data.sets[0]].radius||50,label=n(data)||"",l=label.split(/\s+/).reverse(),c=(label.length+l.length)/3,h=l.pop(),line=[h],f=0,tspan=text.text(null).append("tspan").text(h);h=l.pop();)line.push(h),r=line.join(" "),tspan.text(r),r.length>c&&tspan.node().getComputedTextLength()>o&&(line.pop(),tspan.text(line.join(" ")),line=[h],tspan=text.append("tspan").text(h),f++);var d=.35-1.1*f/2,v=text.attr("x"),y=text.attr("y");text.selectAll("tspan").attr("x",v).attr("y",y).attr("dy",(function(t,i){return d+1.1*i+"em"}))}}function B(t,e,n){var i,r,o=e[0].radius-l(e[0],t);for(i=1;i<e.length;++i)(r=e[i].radius-l(e[i],t))<=o&&(o=r);for(i=0;i<n.length;++i)(r=l(n[i],t)-n[i].radius)<=o&&(o=r);return o}function R(t,e){var i,n=[];for(i=0;i<t.length;++i){var o=t[i];n.push({x:o.x,y:o.y}),n.push({x:o.x+o.radius/2,y:o.y}),n.push({x:o.x-o.radius/2,y:o.y}),n.push({x:o.x,y:o.y+o.radius/2}),n.push({x:o.x,y:o.y-o.radius/2})}var c=n[0],h=B(n[0],t,e);for(i=1;i<n.length;++i){var d=B(n[i],t,e);d>=h&&(c=n[i],h=d)}var v=w((function(p){return-1*B({x:p[0],y:p[1]},t,e)}),[c.x,c.y],{maxIterations:500,minErrorDelta:1e-10}).x,y={x:v[0],y:v[1]},m=!0;for(i=0;i<t.length;++i)if(l(y,t[i])>t[i].radius){m=!1;break}for(i=0;i<e.length;++i)if(l(y,e[i])<e[i].radius){m=!1;break}if(!m)if(1==t.length)y={x:t[0].x,y:t[0].y};else{var x={};r(t,x),y=0===x.arcs.length?{x:0,y:-1e3,disjoint:!0}:1==x.arcs.length?{x:x.arcs[0].circle.x,y:x.arcs[0].circle.y}:e.length?R(t,[]):f(x.arcs.map((function(a){return a.p1})))}return y}function j(t){var e={},n=[];for(var r in t)n.push(r),e[r]=[];for(var i=0;i<n.length;i++)for(var a=t[n[i]],o=i+1;o<n.length;++o){var b=t[n[o]],c=l(a,b);c+b.radius<=a.radius+1e-10?e[n[o]].push(n[i]):c+a.radius<=b.radius+1e-10&&e[n[i]].push(n[o])}return e}function N(t,e){for(var n={},r=j(t),i=0;i<e.length;++i){for(var area=e[i].sets,o={},l={},c=0;c<area.length;++c){o[area[c]]=!0;for(var h=r[area[c]],f=0;f<h.length;++f)l[h[f]]=!0}var d=[],v=[];for(var y in t)y in o?d.push(t[y]):y in l||v.push(t[y]);var m=R(d,v);n[area]=m,m.disjoint&&e[i].size>0&&console.log("WARNING: area "+area+" not represented on screen")}return n}function z(t,e,n){var r=[];return r.push("\nM",t,e),r.push("\nm",-n,0),r.push("\na",n,n,0,1,0,2*n,0),r.push("\na",n,n,0,1,0,2*-n,0),r.join(" ")}function Y(path){var t=path.split(" ");return{x:parseFloat(t[1]),y:parseFloat(t[2]),radius:-parseFloat(t[4])}}function V(t){var e={};r(t,e);var n=e.arcs;if(0===n.length)return"M 0 0";if(1==n.length){var circle=n[0].circle;return z(circle.x,circle.y,circle.radius)}for(var o=["\nM",n[0].p2.x,n[0].p2.y],i=0;i<n.length;++i){var l=n[i],c=l.circle.radius,h=l.width>c;o.push("\nA",c,c,0,h?1:0,1,l.p1.x,l.p1.y)}return o.join(" ")}t.intersectionArea=r,t.circleCircleIntersection=h,t.circleOverlap=c,t.circleArea=o,t.distance=l,t.venn=C,t.greedyLayout=P,t.scaleSolution=D,t.normalizeSolution=E,t.bestInitialLayout=k,t.lossFunction=T,t.disjointCluster=O,t.distanceFromIntersectArea=A,t.VennDiagram=function(){var t=600,n=350,r=15,o=1e3,l=Math.PI/2,c=!0,h=!0,f=!0,d=null,v=null,y={},m=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],x=0,_=function(t){if(t in y)return y[t];var e=y[t]=m[x];return(x+=1)>=m.length&&(x=0),e},w=C,S=T;function M(y){var data=y.datum(),m={};data.forEach((function(t){0==t.size&&1==t.sets.length&&(m[t.sets[0]]=1)})),data=data.filter((function(t){return!t.sets.some((function(t){return t in m}))}));var x={},M={};if(data.length>0){var C=w(data,{lossFunction:S});c&&(C=E(C,l,v)),x=D(C,t,n,r),M=N(x,data)}var A={};function label(t){return t.sets in A?A[t.sets]:1==t.sets.length?""+t.sets[0]:void 0}data.forEach((function(t){t.label&&(A[t.sets]=t.label)})),y.selectAll("svg").data([x]).enter().append("svg");var svg=y.select("svg").attr("width",t).attr("height",n),k={},P=!1;svg.selectAll(".venn-area path").each((function(t){var path=e.select(this).attr("d");1==t.sets.length&&path&&(P=!0,k[t.sets[0]]=Y(path))}));var T=function(e){return function(r){return V(e.sets.map((function(e){var o=k[e],l=x[e];return o||(o={x:t/2,y:n/2,radius:1}),l||(l={x:t/2,y:n/2,radius:1}),{x:o.x*(1-r)+l.x*r,y:o.y*(1-r)+l.y*r,radius:o.radius*(1-r)+l.radius*r}})))}},I=svg.selectAll(".venn-area").data(data,(function(t){return t.sets})),O=I.enter().append("g").attr("class",(function(t){return"venn-area venn-"+(1==t.sets.length?"circle":"intersection")})).attr("data-venn-sets",(function(t){return t.sets.join("_")})),L=O.append("path"),B=O.append("text").attr("class","label").text((function(t){return label(t)})).attr("text-anchor","middle").attr("dy",".35em").attr("x",t/2).attr("y",n/2);f&&(L.style("fill-opacity","0").filter((function(t){return 1==t.sets.length})).style("fill",(function(t){return _(t.sets)})).style("fill-opacity",".25"),B.style("fill",(function(t){return 1==t.sets.length?_(t.sets):"#444"})));var R=y;P?(R=y.transition("venn").duration(o)).selectAll("path").attrTween("d",T):R.selectAll("path").attr("d",(function(t){return V(t.sets.map((function(t){return x[t]})))}));var j=R.selectAll("text").filter((function(t){return t.sets in M})).text((function(t){return label(t)})).attr("x",(function(t){return Math.floor(M[t.sets].x)})).attr("y",(function(t){return Math.floor(M[t.sets].y)}));h&&(P?"on"in j?j.on("end",F(x,label)):j.each("end",F(x,label)):j.each(F(x,label)));var z=I.exit().transition("venn").duration(o).remove();z.selectAll("path").attrTween("d",T);var X=z.selectAll("text").attr("x",t/2).attr("y",n/2);return null!==d&&(B.style("font-size","0px"),j.style("font-size",d),X.style("font-size","0px")),{circles:x,textCentres:M,nodes:I,enter:O,update:R,exit:z}}return M.wrap=function(t){return arguments.length?(h=t,M):h},M.width=function(e){return arguments.length?(t=e,M):t},M.height=function(t){return arguments.length?(n=t,M):n},M.padding=function(t){return arguments.length?(r=t,M):r},M.colours=function(t){return arguments.length?(_=t,M):_},M.fontSize=function(t){return arguments.length?(d=t,M):d},M.duration=function(t){return arguments.length?(o=t,M):o},M.layoutFunction=function(t){return arguments.length?(w=t,M):w},M.normalize=function(t){return arguments.length?(c=t,M):c},M.styled=function(t){return arguments.length?(f=t,M):f},M.orientation=function(t){return arguments.length?(l=t,M):l},M.orientationOrder=function(t){return arguments.length?(v=t,M):v},M.lossFunction=function(t){return arguments.length?(S=t,M):S},M},t.wrapText=F,t.computeTextCentres=N,t.computeTextCentre=R,t.sortAreas=function(div,t){for(var e=j(div.selectAll("svg").datum()),n={},i=0;i<t.sets.length;++i){var r=t.sets[i];for(var o in e)for(var l=e[o],c=0;c<l.length;++c)if(l[c]==r){n[o]=!0;break}}function h(t){for(var i=0;i<t.length;++i)if(!(t[i]in n))return!1;return!0}div.selectAll("g").sort((function(a,b){return a.sets.length!=b.sets.length?a.sets.length-b.sets.length:a==t?h(b.sets)?-1:1:b==t?h(a.sets)?1:-1:b.size-a.size}))},t.circlePath=z,t.circleFromPath=Y,t.intersectionAreaPath=V,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(72),n(450))},function(t,e,n){"use strict";var r=n(362),o=n(386);e.a=function(t){return Object(o.a)(Object(r.a)(t).call(document.documentElement))}},function(t,e,n){"use strict";var r=n(70),o=n(375);e.a=function(select){"function"!=typeof select&&(select=Object(o.a)(select));for(var t=this._groups,e=t.length,n=new Array(e),l=0;l<e;++l)for(var c,h,f=t[l],d=f.length,v=n[l]=new Array(d),i=0;i<d;++i)(c=f[i])&&(h=select.call(c,c.__data__,i,f))&&("__data__"in c&&(h.__data__=c.__data__),v[i]=h);return new r.a(n,this._parents)}},function(t,e,n){"use strict";var r=n(70),o=n(387);e.a=function(select){"function"!=typeof select&&(select=Object(o.a)(select));for(var t=this._groups,e=t.length,n=[],l=[],c=0;c<e;++c)for(var h,f=t[c],d=f.length,i=0;i<d;++i)(h=f[i])&&(n.push(select.call(h,h.__data__,i,f)),l.push(h));return new r.a(n,l)}},function(t,e,n){"use strict";var r=n(70),o=n(388);e.a=function(t){"function"!=typeof t&&(t=Object(o.a)(t));for(var e=this._groups,n=e.length,l=new Array(n),c=0;c<n;++c)for(var h,f=e[c],d=f.length,v=l[c]=[],i=0;i<d;++i)(h=f[i])&&t.call(h,h.__data__,i,f)&&v.push(h);return new r.a(l,this._parents)}},function(t,e,n){"use strict";var r=n(70),o=n(389),l=n(420);function c(t,e,n,r,l,data){for(var c,i=0,h=e.length,f=data.length;i<f;++i)(c=e[i])?(c.__data__=data[i],r[i]=c):n[i]=new o.a(t,data[i]);for(;i<h;++i)(c=e[i])&&(l[i]=c)}function h(t,e,n,r,l,data,c){var i,h,f,d={},v=e.length,y=data.length,m=new Array(v);for(i=0;i<v;++i)(h=e[i])&&(m[i]=f="$"+c.call(h,h.__data__,i,e),f in d?l[i]=h:d[f]=h);for(i=0;i<y;++i)(h=d[f="$"+c.call(t,data[i],i,data)])?(r[i]=h,h.__data__=data[i],d[f]=null):n[i]=new o.a(t,data[i]);for(i=0;i<v;++i)(h=e[i])&&d[m[i]]===h&&(l[i]=h)}e.a=function(t,e){if(!t)return data=new Array(this.size()),x=-1,this.each((function(t){data[++x]=t})),data;var n=e?h:c,o=this._parents,f=this._groups;"function"!=typeof t&&(t=Object(l.a)(t));for(var d=f.length,v=new Array(d),y=new Array(d),m=new Array(d),x=0;x<d;++x){var _=o[x],w=f[x],S=w.length,data=t.call(_,_&&_.__data__,x,o),M=data.length,C=y[x]=new Array(M),A=v[x]=new Array(M);n(_,w,C,A,m[x]=new Array(S),data,e);for(var k,P,T=0,I=0;T<M;++T)if(k=C[T]){for(T>=I&&(I=T+1);!(P=A[I])&&++I<M;);k._next=P||null}}return(v=new r.a(v,o))._enter=y,v._exit=m,v}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(390),o=n(70);e.a=function(){return new o.a(this._exit||this._groups.map(r.a),this._parents)}},function(t,e,n){"use strict";e.a=function(t,e,n){var r=this.enter(),o=this,l=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(o=e(o)),null==n?l.remove():n(l),r&&o?r.merge(o).order():o}},function(t,e,n){"use strict";var r=n(70);e.a=function(t){for(var e=this._groups,n=t._groups,o=e.length,l=n.length,c=Math.min(o,l),h=new Array(o),f=0;f<c;++f)for(var d,v=e[f],y=n[f],m=v.length,x=h[f]=new Array(m),i=0;i<m;++i)(d=v[i]||y[i])&&(x[i]=d);for(;f<o;++f)h[f]=e[f];return new r.a(h,this._parents)}},function(t,e,n){"use strict";e.a=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,o=t[e],i=o.length-1,l=o[i];--i>=0;)(r=o[i])&&(l&&4^r.compareDocumentPosition(l)&&l.parentNode.insertBefore(r,l),l=r);return this}},function(t,e,n){"use strict";var r=n(70);function o(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}e.a=function(t){function e(a,b){return a&&b?t(a.__data__,b.__data__):!a-!b}t||(t=o);for(var n=this._groups,l=n.length,c=new Array(l),h=0;h<l;++h){for(var f,d=n[h],v=d.length,y=c[h]=new Array(v),i=0;i<v;++i)(f=d[i])&&(y[i]=f);y.sort(e)}return new r.a(c,this._parents).order()}},function(t,e,n){"use strict";e.a=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}},function(t,e,n){"use strict";e.a=function(){var t=new Array(this.size()),i=-1;return this.each((function(){t[++i]=this})),t}},function(t,e,n){"use strict";e.a=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var l=r[i];if(l)return l}return null}},function(t,e,n){"use strict";e.a=function(){var t=0;return this.each((function(){++t})),t}},function(t,e,n){"use strict";e.a=function(){return!this.node()}},function(t,e,n){"use strict";e.a=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,l=e[n],i=0,c=l.length;i<c;++i)(o=l[i])&&t.call(o,o.__data__,i,l);return this}},function(t,e,n){"use strict";var r=n(373);function o(t){return function(){this.removeAttribute(t)}}function l(t){return function(){this.removeAttributeNS(t.space,t.local)}}function c(t,e){return function(){this.setAttribute(t,e)}}function h(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function f(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function d(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}e.a=function(t,e){var n=Object(r.a)(t);if(arguments.length<2){var v=this.node();return n.local?v.getAttributeNS(n.space,n.local):v.getAttribute(n)}return this.each((null==e?n.local?l:o:"function"==typeof e?n.local?d:f:n.local?h:c)(n,e))}},function(t,e,n){"use strict";function r(t){return function(){delete this[t]}}function o(t,e){return function(){this[t]=e}}function l(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}e.a=function(t,e){return arguments.length>1?this.each((null==e?r:"function"==typeof e?l:o)(t,e)):this.node()[t]}},function(t,e,n){"use strict";function r(t){return t.trim().split(/^|\s+/)}function o(t){return t.classList||new l(t)}function l(t){this._node=t,this._names=r(t.getAttribute("class")||"")}function c(t,e){for(var n=o(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function h(t,e){for(var n=o(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function f(t){return function(){c(this,t)}}function d(t){return function(){h(this,t)}}function v(t,e){return function(){(e.apply(this,arguments)?c:h)(this,t)}}l.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var i=this._names.indexOf(t);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}},e.a=function(t,e){var n=r(t+"");if(arguments.length<2){for(var l=o(this.node()),i=-1,c=n.length;++i<c;)if(!l.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?v:e?f:d)(n,e))}},function(t,e,n){"use strict";function r(){this.textContent=""}function o(t){return function(){this.textContent=t}}function l(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}e.a=function(t){return arguments.length?this.each(null==t?r:("function"==typeof t?l:o)(t)):this.node().textContent}},function(t,e,n){"use strict";function r(){this.innerHTML=""}function o(t){return function(){this.innerHTML=t}}function l(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}e.a=function(t){return arguments.length?this.each(null==t?r:("function"==typeof t?l:o)(t)):this.node().innerHTML}},function(t,e,n){"use strict";function r(){this.nextSibling&&this.parentNode.appendChild(this)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";function r(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";var r=n(362);e.a=function(t){var e="function"==typeof t?t:Object(r.a)(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))}},function(t,e,n){"use strict";var r=n(362),o=n(375);function l(){return null}e.a=function(t,e){var n="function"==typeof t?t:Object(r.a)(t),select=null==e?l:"function"==typeof e?e:Object(o.a)(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),select.apply(this,arguments)||null)}))}},function(t,e,n){"use strict";function r(){var t=this.parentNode;t&&t.removeChild(this)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";function r(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function o(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}e.a=function(t){return this.select(t?o:r)}},function(t,e,n){"use strict";e.a=function(t){return arguments.length?this.property("__data__",t):this.node().__data__}},function(t,e,n){"use strict";var r=n(376);function o(t,e,n){var o=Object(r.a)(t),l=o.CustomEvent;"function"==typeof l?l=new l(e,n):(l=o.document.createEvent("Event"),n?(l.initEvent(e,n.bubbles,n.cancelable),l.detail=n.detail):l.initEvent(e,!1,!1)),t.dispatchEvent(l)}function l(t,e){return function(){return o(this,t,e)}}function c(t,e){return function(){return o(this,t,e.apply(this,arguments))}}e.a=function(t,e){return this.each(("function"==typeof e?c:l)(t,e))}},function(t,e,n){"use strict";e.a=o;var r=0;function o(){return new l}function l(){this._="@"+(++r).toString(36)}l.prototype=o.prototype={constructor:l,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}}},function(t,e,n){"use strict";var r=n(378),o=n(363);e.a=function(t){var e=Object(r.a)();return e.changedTouches&&(e=e.changedTouches[0]),Object(o.a)(t,e)}},function(t,e,n){"use strict";var r=n(70);e.a=function(t){return"string"==typeof t?new r.a([document.querySelectorAll(t)],[document.documentElement]):new r.a([null==t?[]:t],r.c)}},function(t,e,n){"use strict";var r=n(378),o=n(363);e.a=function(t,e,n){arguments.length<3&&(n=e,e=Object(r.a)().changedTouches);for(var l,i=0,c=e?e.length:0;i<c;++i)if((l=e[i]).identifier===n)return Object(o.a)(t,l);return null}},function(t,e,n){"use strict";var r=n(378),o=n(363);e.a=function(t,e){null==e&&(e=Object(r.a)().touches);for(var i=0,n=e?e.length:0,l=new Array(n);i<n;++i)l[i]=Object(o.a)(t,e[i]);return l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(451);var r=n(169);n.d(e,"transition",(function(){return r.b}));var o=n(487);n.d(e,"active",(function(){return o.a}));var l=n(392);n.d(e,"interrupt",(function(){return l.a}))},function(t,e,n){"use strict";var r=n(72),o=n(452),l=n(455);r.selection.prototype.interrupt=o.a,r.selection.prototype.transition=l.a},function(t,e,n){"use strict";var r=n(392);e.a=function(t){return this.each((function(){Object(r.a)(this,t)}))}},function(t,e,n){"use strict";var r=n(454);n.d(e,"a",(function(){return r.a}))},function(t,e,n){"use strict";var r={value:function(){}};function o(){for(var t,i=0,e=arguments.length,n={};i<e;++i){if(!(t=arguments[i]+"")||t in n||/[\s.]/.test(t))throw new Error("illegal type: "+t);n[t]=[]}return new l(n)}function l(t){this._=t}function c(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function h(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function f(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=r,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}l.prototype=o.prototype={constructor:l,on:function(t,e){var n,r=this._,o=c(t+"",r),i=-1,l=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<l;)if(n=(t=o[i]).type)r[n]=f(r[n],t.name,e);else if(null==e)for(n in r)r[n]=f(r[n],t.name,null);return this}for(;++i<l;)if((n=(t=o[i]).type)&&(n=h(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new l(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}},e.a=o},function(t,e,n){"use strict";var r=n(169),o=n(46),l=n(173),c=n(170),h={time:null,delay:0,duration:250,ease:l.easeCubicInOut};function f(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return h.time=Object(c.now)(),h;return n}e.a=function(t){var e,n;t instanceof r.a?(e=t._id,t=t._name):(e=Object(r.c)(),(n=h).time=Object(c.now)(),t=null==t?null:t+"");for(var l=this._groups,d=l.length,v=0;v<d;++v)for(var y,m=l[v],x=m.length,i=0;i<x;++i)(y=m[i])&&Object(o.e)(y,t,e,i,m,n||f(y,e));return new r.a(l,this._parents,t,e)}},function(t,e,n){"use strict";var r=n(379),o=n(72),l=n(365),c=n(400);function h(t){return function(){this.removeAttribute(t)}}function f(t){return function(){this.removeAttributeNS(t.space,t.local)}}function d(t,e,n){var r,o,l=n+"";return function(){var c=this.getAttribute(t);return c===l?null:c===r?o:o=e(r=c,n)}}function v(t,e,n){var r,o,l=n+"";return function(){var c=this.getAttributeNS(t.space,t.local);return c===l?null:c===r?o:o=e(r=c,n)}}function y(t,e,n){var r,o,l;return function(){var c,h,f=n(this);if(null!=f)return(c=this.getAttribute(t))===(h=f+"")?null:c===r&&h===o?l:(o=h,l=e(r=c,f));this.removeAttribute(t)}}function m(t,e,n){var r,o,l;return function(){var c,h,f=n(this);if(null!=f)return(c=this.getAttributeNS(t.space,t.local))===(h=f+"")?null:c===r&&h===o?l:(o=h,l=e(r=c,f));this.removeAttributeNS(t.space,t.local)}}e.a=function(t,e){var n=Object(o.namespace)(t),i="transform"===n?r.e:c.a;return this.attrTween(t,"function"==typeof e?(n.local?m:y)(n,i,Object(l.b)(this,"attr."+t,e)):null==e?(n.local?f:h)(n):(n.local?v:d)(n,i,e))}},function(t,e,n){},function(t,e,n){"use strict";n(174)},function(t,e,n){},function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return h}));var r=n(364),o=n(461);function l(t,e,n,o){function l(s){return s.length?s.pop()+" ":""}return function(a,b){var s=[],q=[];return a=t(a),b=t(b),function(t,o,l,c,s,q){if(t!==l||o!==c){var i=s.push("translate(",null,e,null,n);q.push({i:i-4,x:Object(r.a)(t,l)},{i:i-2,x:Object(r.a)(o,c)})}else(l||c)&&s.push("translate("+l+e+c+n)}(a.translateX,a.translateY,b.translateX,b.translateY,s,q),function(a,b,s,q){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),q.push({i:s.push(l(s)+"rotate(",null,o)-2,x:Object(r.a)(a,b)})):b&&s.push(l(s)+"rotate("+b+o)}(a.rotate,b.rotate,s,q),function(a,b,s,q){a!==b?q.push({i:s.push(l(s)+"skewX(",null,o)-2,x:Object(r.a)(a,b)}):b&&s.push(l(s)+"skewX("+b+o)}(a.skewX,b.skewX,s,q),function(t,e,n,o,s,q){if(t!==n||e!==o){var i=s.push(l(s)+"scale(",null,",",null,")");q.push({i:i-4,x:Object(r.a)(t,n)},{i:i-2,x:Object(r.a)(e,o)})}else 1===n&&1===o||s.push(l(s)+"scale("+n+","+o+")")}(a.scaleX,a.scaleY,b.scaleX,b.scaleY,s,q),a=b=null,function(t){for(var e,i=-1,n=q.length;++i<n;)s[(e=q[i]).i]=e.x(t);return s.join("")}}}var c=l(o.a,"px, ","px)","deg)"),h=l(o.b,", ",")",")")},function(t,e,n){"use strict";e.a=function(t){return"none"===t?h.b:(r||(r=document.createElement("DIV"),o=document.documentElement,l=document.defaultView),r.style.transform=t,t=l.getComputedStyle(o.appendChild(r),null).getPropertyValue("transform"),o.removeChild(r),t=t.slice(7,-1).split(","),Object(h.a)(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},e.b=function(t){return null==t?h.b:(c||(c=document.createElementNS("http://www.w3.org/2000/svg","g")),c.setAttribute("transform",t),(t=c.transform.baseVal.consolidate())?(t=t.matrix,Object(h.a)(t.a,t.b,t.c,t.d,t.e,t.f)):h.b)};var r,o,l,c,h=n(462)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=180/Math.PI,o={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};e.a=function(a,b,t,e,n,o){var l,c,h;return(l=Math.sqrt(a*a+b*b))&&(a/=l,b/=l),(h=a*t+b*e)&&(t-=a*h,e-=b*h),(c=Math.sqrt(t*t+e*e))&&(t/=c,e/=c,h/=c),a*e<b*t&&(a=-a,b=-b,h=-h,l=-l),{translateX:n,translateY:o,rotate:Math.atan2(b,a)*r,skewX:Math.atan(h)*r,scaleX:l,scaleY:c}}},function(t,e,n){"use strict";Math.SQRT2},function(t,e,n){"use strict";var r=n(17),o=n(174);function l(t){return function(e,n){var l=t((e=Object(r.d)(e)).h,(n=Object(r.d)(n)).h),s=Object(o.a)(e.s,n.s),c=Object(o.a)(e.l,n.l),h=Object(o.a)(e.opacity,n.opacity);return function(t){return e.h=l(t),e.s=s(t),e.l=c(t),e.opacity=h(t),e+""}}}l(o.c),l(o.a)},function(t,e,n){"use strict";n(17),n(174)},function(t,e,n){"use strict";var r=n(17),o=n(174);function l(t){return function(e,n){var l=t((e=Object(r.c)(e)).h,(n=Object(r.c)(n)).h),c=Object(o.a)(e.c,n.c),h=Object(o.a)(e.l,n.l),f=Object(o.a)(e.opacity,n.opacity);return function(t){return e.h=l(t),e.c=c(t),e.l=h(t),e.opacity=f(t),e+""}}}l(o.c),l(o.a)},function(t,e,n){"use strict";var r=n(17),o=n(174);function l(t){return function e(n){function l(e,l){var c=t((e=Object(r.b)(e)).h,(l=Object(r.b)(l)).h),s=Object(o.a)(e.s,l.s),h=Object(o.a)(e.l,l.l),f=Object(o.a)(e.opacity,l.opacity);return function(t){return e.h=c(t),e.s=s(t),e.l=h(Math.pow(t,n)),e.opacity=f(t),e+""}}return n=+n,l.gamma=e,l}(1)}l(o.c),l(o.a)},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";var r=n(72);function o(t,i){return function(e){this.setAttribute(t,i.call(this,e))}}function l(t,i){return function(e){this.setAttributeNS(t.space,t.local,i.call(this,e))}}function c(t,e){var n,r;function o(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&l(t,i)),n}return o._value=e,o}function h(t,e){var n,r;function l(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&o(t,i)),n}return l._value=e,l}e.a=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var o=Object(r.namespace)(t);return this.tween(n,(o.local?c:h)(o,e))}},function(t,e,n){"use strict";var r=n(46);function o(t,e){return function(){Object(r.g)(this,t).delay=+e.apply(this,arguments)}}function l(t,e){return e=+e,function(){Object(r.g)(this,t).delay=e}}e.a=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?o:l)(e,t)):Object(r.f)(this.node(),e).delay}},function(t,e,n){"use strict";var r=n(46);function o(t,e){return function(){Object(r.h)(this,t).duration=+e.apply(this,arguments)}}function l(t,e){return e=+e,function(){Object(r.h)(this,t).duration=e}}e.a=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?o:l)(e,t)):Object(r.f)(this.node(),e).duration}},function(t,e,n){"use strict";var r=n(46);function o(t,e){if("function"!=typeof e)throw new Error;return function(){Object(r.h)(this,t).ease=e}}e.a=function(t){var e=this._id;return arguments.length?this.each(o(e,t)):Object(r.f)(this.node(),e).ease}},function(t,e,n){"use strict";var r=n(72),o=n(169);e.a=function(t){"function"!=typeof t&&(t=Object(r.matcher)(t));for(var e=this._groups,n=e.length,l=new Array(n),c=0;c<n;++c)for(var h,f=e[c],d=f.length,v=l[c]=[],i=0;i<d;++i)(h=f[i])&&t.call(h,h.__data__,i,f)&&v.push(h);return new o.a(l,this._parents,this._name,this._id)}},function(t,e,n){"use strict";var r=n(169);e.a=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,l=n.length,c=Math.min(o,l),h=new Array(o),f=0;f<c;++f)for(var d,v=e[f],y=n[f],m=v.length,x=h[f]=new Array(m),i=0;i<m;++i)(d=v[i]||y[i])&&(x[i]=d);for(;f<o;++f)h[f]=e[f];return new r.a(h,this._parents,this._name,this._id)}},function(t,e,n){"use strict";var r=n(46);function o(t,e,n){var o,l,c=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var i=t.indexOf(".");return i>=0&&(t=t.slice(0,i)),!t||"start"===t}))}(e)?r.g:r.h;return function(){var r=c(this,t),h=r.on;h!==o&&(l=(o=h).copy()).on(e,n),r.on=l}}e.a=function(t,e){var n=this._id;return arguments.length<2?Object(r.f)(this.node(),n).on.on(t):this.each(o(n,t,e))}},function(t,e,n){"use strict";e.a=function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var i in this.__transition)if(+i!==t)return;e&&e.removeChild(this)}));var t}},function(t,e,n){"use strict";var r=n(72),o=n(169),l=n(46);e.a=function(select){var t=this._name,e=this._id;"function"!=typeof select&&(select=Object(r.selector)(select));for(var n=this._groups,c=n.length,h=new Array(c),f=0;f<c;++f)for(var d,v,y=n[f],m=y.length,x=h[f]=new Array(m),i=0;i<m;++i)(d=y[i])&&(v=select.call(d,d.__data__,i,y))&&("__data__"in d&&(v.__data__=d.__data__),x[i]=v,Object(l.e)(x[i],t,e,i,x,Object(l.f)(d,e)));return new o.a(h,this._parents,t,e)}},function(t,e,n){"use strict";var r=n(72),o=n(169),l=n(46);e.a=function(select){var t=this._name,e=this._id;"function"!=typeof select&&(select=Object(r.selectorAll)(select));for(var n=this._groups,c=n.length,h=[],f=[],d=0;d<c;++d)for(var v,y=n[d],m=y.length,i=0;i<m;++i)if(v=y[i]){for(var x,_=select.call(v,v.__data__,i,y),w=Object(l.f)(v,e),S=0,M=_.length;S<M;++S)(x=_[S])&&Object(l.e)(x,t,e,S,_,w);h.push(_),f.push(v)}return new o.a(h,f,t,e)}},function(t,e,n){"use strict";var r=n(72).selection.prototype.constructor;e.a=function(){return new r(this._groups,this._parents)}},function(t,e,n){"use strict";var r=n(379),o=n(72),l=n(46),c=n(365),h=n(400);function f(t){return function(){this.style.removeProperty(t)}}e.a=function(t,e,n){var i="transform"==(t+="")?r.d:h.a;return null==e?this.styleTween(t,function(t,e){var n,r,l;return function(){var c=Object(o.style)(this,t),h=(this.style.removeProperty(t),Object(o.style)(this,t));return c===h?null:c===n&&h===r?l:l=e(n=c,r=h)}}(t,i)).on("end.style."+t,f(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,l,c;return function(){var h=Object(o.style)(this,t),f=n(this),d=f+"";return null==f&&(this.style.removeProperty(t),d=f=Object(o.style)(this,t)),h===d?null:h===r&&d===l?c:(l=d,c=e(r=h,f))}}(t,i,Object(c.b)(this,"style."+t,e))).each(function(t,e){var n,r,o,c,h="style."+e,d="end."+h;return function(){var v=Object(l.h)(this,t),y=v.on,m=null==v.value[h]?c||(c=f(e)):void 0;y===n&&o===m||(r=(n=y).copy()).on(d,o=m),v.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,l,c=n+"";return function(){var h=Object(o.style)(this,t);return h===c?null:h===r?l:l=e(r=h,n)}}(t,i,e),n).on("end.style."+t,null)}},function(t,e,n){"use strict";function r(t,i,e){return function(n){this.style.setProperty(t,i.call(this,n),e)}}function o(t,e,n){var o,l;function c(){var i=e.apply(this,arguments);return i!==l&&(o=(l=i)&&r(t,i,n)),o}return c._value=e,c}e.a=function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,o(t,e,null==n?"":n))}},function(t,e,n){"use strict";var r=n(365);e.a=function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Object(r.b)(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))}},function(t,e,n){"use strict";function r(i){return function(t){this.textContent=i.call(this,t)}}function o(t){var e,n;function o(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&r(i)),e}return o._value=t,o}e.a=function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,o(t))}},function(t,e,n){"use strict";var r=n(169),o=n(46);e.a=function(){for(var t=this._name,e=this._id,n=Object(r.c)(),l=this._groups,c=l.length,h=0;h<c;++h)for(var f,d=l[h],v=d.length,i=0;i<v;++i)if(f=d[i]){var y=Object(o.f)(f,e);Object(o.e)(f,t,n,i,d,{time:y.time+y.delay+y.duration,delay:0,duration:y.duration,ease:y.ease})}return new r.a(l,this._parents,t,n)}},function(t,e,n){"use strict";var r=n(46);e.a=function(){var t,e,n=this,o=n._id,l=n.size();return new Promise((function(c,h){var f={value:h},d={value:function(){0==--l&&c()}};n.each((function(){var n=Object(r.h)(this,o),l=n.on;l!==t&&((e=(t=l).copy())._.cancel.push(f),e._.interrupt.push(f),e._.end.push(d)),n.on=e}))}))}},function(t,e,n){"use strict";var r=n(169),o=n(46),l=[null];e.a=function(t,e){var n,i,c=t.__transition;if(c)for(i in e=null==e?null:e+"",c)if((n=c[i]).state>o.c&&n.name===e)return new r.a([[t]],l,e,+i);return null}},function(t,e,n){var r=n(0),o=n(19),l=n(45),c=n(7),h=r.PathUtil;function f(t){var e=c.shape.venn,n=r.mix({},e,t.style);return l.addFillAttrs(n,t),n}var d=o.registerFactory("venn",{defaultShapeType:"venn",getActiveCfg:function(t,e){var n=e.lineWidth||1;return"hollow"===t?{lineWidth:n+1}:{fillOpacity:(e.fillOpacity||e.opacity||1)-.08}},getSelectedCfg:function(t,e){return e&&e.style?e.style:this.getActiveCfg(t,e)}});o.registerShape("venn","venn",{draw:function(t,e){var path=t.origin._origin.path,n=f(t),o=h.parsePathString(path);return e.addShape("path",{attrs:r.mix(n,{path:o})})},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4},f(t))}}),o.registerShape("venn","hollow",{draw:function(t,e){var path=t.origin._origin.path,n=function(t){var e=c.shape.hollowVenn,n=r.mix({},e,t.style);return l.addStrokeAttrs(n,t),n}(t),o=h.parsePathString(path);return e.addShape("path",{attrs:r.mix(n,{path:o})})},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4},f(t))}}),t.exports=d},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var o=n(21),l=n(0),c=n(359);n(490);var h=function(t){r(n,t);var e=n.prototype;function n(e){var n;return n=t.call(this,e)||this,l.assign(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n),c),n}return e.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="violin",e.shapeType="violin",e.generatePoints=!0,e},e.createShapePointsCfg=function(e){var n=t.prototype.createShapePointsCfg.call(this,e);n.size=this.getNormalizedSize(e);var r=this.get("_sizeField");return n._size=e._origin[r],n},e.clearInner=function(){t.prototype.clearInner.call(this),this.set("defaultSize",null)},e._initAttrs=function(){var e=this.get("attrOptions"),n=e.size?e.size.field:this.get("_sizeField")?this.get("_sizeField"):"size";this.set("_sizeField",n),delete e.size,t.prototype._initAttrs.call(this)},n}(o),f=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"dodge"}],e},e}(h);h.Dodge=f,o.Violin=h,o.ViolinDodge=f,t.exports=h},function(t,e,n){var r=n(0),o=n(19),l=n(45),c=n(7),h=n(23);function f(t){var e=c.shape.venn,n=r.mix({},e,t.style);return l.addFillAttrs(n,t),t.color&&(n.stroke=n.stroke||t.color),n}function d(t){var e=c.shape.hollowVenn,n=r.mix({},e,t.style);return l.addStrokeAttrs(n,t),n}function v(t){for(var path=[],i=0;i<t.length;i++){var e=t[i];if(e){var n=0===i?"M":"L";path.push([n,e.x,e.y])}}var r=t[0];return r&&(path.push(["L",r.x,r.y]),path.push(["z"])),path}function y(t){for(var e=t.length/2,n=[],r=[],i=0;i<t.length;i++)i<e?n.push(t[i]):r.push(t[i]);var o=h.getSplinePath(n,!1),l=h.getSplinePath(r,!1);r.length&&o.push(["L",r[0].x,r[0].y]),l.shift();var path=o.concat(l);return n.length&&path.push(["L",n[0].x,n[0].y]),path.push(["z"]),path}var m=o.registerFactory("violin",{defaultShapeType:"violin",getDefaultPoints:function(t){var e,n,o=t.size/2,l=[],c=(e=t._size,n=Math.max.apply(null,e),e.map((function(t){return t/n})));return r.each(t.y,(function(e,n){var r=c[n]*o,h=0===n,f=n===t.y.length-1;l.push({isMin:h,isMax:f,x:t.x-r,y:e}),l.unshift({isMin:h,isMax:f,x:t.x+r,y:e})})),l},getActiveCfg:function(t,e){var n=e.lineWidth||1;return"hollow"===t?{lineWidth:n+1}:{fillOpacity:(e.fillOpacity||e.opacity||1)-.08}},getSelectedCfg:function(t,e){return e&&e.style?e.style:this.getActiveCfg(t,e)}});o.registerShape("violin","violin",{draw:function(t,e){var n=f(t),path=v(t.points);return path=this.parsePath(path),e.addShape("path",{attrs:r.mix(n,{path:path})})},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4},f(t))}}),o.registerShape("violin","smooth",{draw:function(t,e){var n=f(t),path=y(t.points);return path=this.parsePath(path),e.addShape("path",{attrs:r.mix(n,{path:path})})},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4},f(t))}}),o.registerShape("violin","hollow",{draw:function(t,e){var n=d(t),path=v(t.points);return path=this.parsePath(path),e.addShape("path",{attrs:r.mix(n,{path:path})})},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4},d(t))}}),o.registerShape("violin","smoothHollow",{draw:function(t,e){var n=d(t),path=y(t.points);return path=this.parsePath(path),e.addShape("path",{attrs:r.mix(n,{path:path})})},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4},d(t))}}),t.exports=m},function(t,e,n){var r=n(0),o=n(146),l={};l.Rect=n(401),l.List=n(402),l.Circle=n(492),l.Tree=n(493),l.Mirror=n(494),l.Matrix=n(495),o.prototype.facet=function(t,e){var n=l[r.upperFirst(t)];if(!n)throw new Error("Not support such type of facets as: "+t);var o=this.get("facets");o&&o.destroy(),e.chart=this;var c=new n(e);this.set("facets",c)},t.exports=l},function(t,e,n){function r(t,e,n){return{x:t.x+e*Math.cos(n),y:t.y+e*Math.sin(n)}}var o=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var l=o.prototype;return l.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="circle",e},l.getRegion=function(t,e){var n=2*Math.PI/t,o=-1*Math.PI/2+n*e,l=.5/(1+1/Math.sin(n/2)),c=r({x:.5,y:.5},.5-l,o),h=5*Math.PI/4,f=1*Math.PI/4;return{start:r(c,l,h),end:r(c,l,f)}},l.generateFacets=function(data){var t=this,e=t.fields[0];if(!e)throw"Please specify for the field for facet!";var n=t.getFieldValues(e,data),r=n.length,o=[];return n.forEach((function(l,c){var h=[{field:e,value:l,values:n}],filter=t.getFilter(h),f=data.filter(filter),d={type:t.type,colValue:l,colField:e,colIndex:c,cols:r,rows:1,rowIndex:0,data:f,region:t.getRegion(r,c)};o.push(d)})),o},o}(n(366));t.exports=o},function(t,e,n){var r=n(366),o=n(0).assign,l=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var l=r.prototype;return l.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="tree",e.line={lineWidth:1,stroke:"#ddd"},e.lineSmooth=!1,e},l.generateFacets=function(data){if(!this.fields.length)throw"Please specify for the fields for facet!";var t=[],e=this.getRootFacet(data);return t.push(e),e.children=this.getChildFacets(data,1,t),this.setRegion(t),t},l.getRootFacet=function(data){return{type:this.type,rows:this.getRows(),rowIndex:0,colIndex:0,colValue:this.rootTitle,data:data}},l.getRows=function(){return this.fields.length+1},l.getChildFacets=function(data,t,e){var n=this,r=n.fields;if(!(r.length<t)){var o=[],l=r[t-1],c=n.getFieldValues(l,data);return c.forEach((function(r,h){var f=[{field:l,value:r,values:c}],filter=n.getFilter(f),d=data.filter(filter);if(d.length){var v={type:n.type,colValue:r,colField:l,colIndex:h,rows:n.getRows(),rowIndex:t,data:d,children:n.getChildFacets(d,t+1,e)};o.push(v),e.push(v)}})),o}},l.setRegion=function(t){var e=this;e.forceColIndex(t),t.forEach((function(t){t.region=e.getRegion(t.rows,t.cols,t.colIndex,t.rowIndex)}))},l.forceColIndex=function(t){var e=this,n=[],r=0;t.forEach((function(t){e.isLeaf(t)&&(n.push(t),t.colIndex=r,r++)})),n.forEach((function(t){t.cols=n.length}));for(var i=e.fields.length-1;i>=0;i--)for(var o=e.getFacetsByLevel(t,i),l=0;l<o.length;l++){var c=o[l];e.isLeaf(c)||(c.originColIndex=c.colIndex,c.colIndex=e.getRegionIndex(c.children),c.cols=n.length)}},l.getFacetsByLevel=function(t,e){var n=[];return t.forEach((function(t){t.rowIndex===e&&n.push(t)})),n},l.getRegion=function(t,e,n,r){var o=1/e,l=1/t,c={x:o*n,y:l*r};return{start:c,end:{x:c.x+o,y:c.y+2*l/3}}},l.getRegionIndex=function(t){var e=t[0];return(t[t.length-1].colIndex-e.colIndex)/2+e.colIndex},l.isLeaf=function(t){return!t.children||!t.children.length},l.setXAxis=function(t,e,n){n.rowIndex!==n.rows-1&&(e[t].label=null,e[t].title=null)},l.setYAxis=function(t,e,n){0!==n.originColIndex&&0!==n.colIndex&&(e[t].title=null,e[t].label=null)},l.onPaint=function(){t.prototype.onPaint.call(this),this.group.clear(),this.facets&&this.line&&this.drawLines(this.facets,this.group)},l.drawLines=function(t,e){var n=this,r=e.addGroup();t.forEach((function(t){if(!n.isLeaf(t)){var e=t.children;n._addFacetLines(t,e,r)}}))},l._addFacetLines=function(t,e,n){var r=this,o=t.view.getViewRegion(),l={x:o.start.x+(o.end.x-o.start.x)/2,y:o.start.y};e.forEach((function(t){var e=t.view.getViewRegion(),o={x:e.start.x+(e.end.x-e.start.x)/2,y:e.end.y},c={x:l.x,y:l.y+(o.y-l.y)/2},h={x:o.x,y:c.y};r._drawLine([l,c,h,o],n)}))},l._getPath=function(t){var path=[];return this.lineSmooth?(path.push(["M",t[0].x,t[0].y]),path.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach((function(t,e){0===e?path.push(["M",t.x,t.y]):path.push(["L",t.x,t.y])})),path},l._drawLine=function(t,e){var path=this._getPath(t),line=this.line;e.addShape("path",{attrs:o({path:path},line)})},r}(r);t.exports=l},function(t,e,n){var r=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="mirror",this.transpose=!1,e},o.init=function(){this.transpose?(this.cols=2,this.rows=1):(this.cols=1,this.rows=2),t.prototype.init.call(this)},o.beforeProcessView=function(view,t){this.transpose?t.colIndex%2==0?view.coord().transpose().scale(-1,1):view.coord().transpose():t.rowIndex%2!=0&&view.coord().scale(1,-1)},o.renderTitle=function(view,t){this.transpose?this.drawColTitle(view,t):this.drawRowTitle(view,t)},o.setXAxis=function(t,e,n){1!==n.colIndex&&1!==n.rowIndex||(e[t].label=null,e[t].title=null)},o.setYAxis=function(){},r}(n(402));t.exports=r},function(t,e,n){var r=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="matrix",e.showTitle=!1,e},o.generateFacets=function(data){for(var t=this.fields,e=t.length,n=e,r=[],i=0;i<n;i++)for(var o=t[i],l=0;l<e;l++){var c=t[l],h={type:this.type,colValue:o,rowValue:c,colField:o,rowField:c,colIndex:i,rowIndex:l,cols:n,rows:e,data:data,region:this.getRegion(e,n,i,l)};r.push(h)}return r},o.setXAxis=function(t,e,n){n.rowIndex!==n.rows-1&&(e[t].title=null,e[t].label=null)},o.setYAxis=function(t,e,n){0!==n.colIndex&&(e[t].title=null,e[t].label=null)},r}(n(401));t.exports=r},function(t,e,n){var r=n(172),o=n(146),l=n(0),c={Base:n(171),Brush:n(497),Drag:n(498),ScrollBar:n(500),ShapeSelect:n(502),Slider:n(503),Zoom:n(505)};r._Interactions={},r.registerInteraction=function(t,e){r._Interactions[t]=e},r.getInteraction=function(t){return r._Interactions[t]},o.prototype.getInteractions=function(){return this._interactions||(this._interactions={}),this._interactions},o.prototype._setInteraction=function(t,e){var n=this.getInteractions();n[t]&&n[t]!==e&&n[t].destroy(),n[t]=e},o.prototype.clearInteraction=function(t){var e=this.getInteractions();t?(e[t]&&(e[t]._reset(),e[t].destroy()),delete e[t]):l.each(e,(function(t,n){t._reset(),t.destroy(),delete e[n]}))},o.prototype.interact=o.prototype.interaction=function(t,e){var n=new(r.getInteraction(t))(e,this);return this._setInteraction(t,n),this},r.registerInteraction("brush",c.Brush),r.registerInteraction("Brush",c.Brush),r.registerInteraction("drag",c.Drag),r.registerInteraction("Drag",c.Drag),r.registerInteraction("zoom",c.Zoom),r.registerInteraction("Zoom",c.Zoom),r.registerInteraction("scroll-bar",c.ScrollBar),r.registerInteraction("ScrollBar",c.ScrollBar),r.registerInteraction("shape-select",c.ShapeSelect),r.registerInteraction("ShapeSelect",c.ShapeSelect),r.registerInteraction("slider",c.Slider),r.registerInteraction("Slider",c.Slider),t.exports=c},function(t,e,n){var r=n(0),o=n(171),l=["X","Y","XY","POLYGON"],c=function(t){var e,n;n=t,(e=c).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=c.prototype;function c(e,view){var n,r=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n=t.call(this,e,view)||this);r.filter=!r.draggable,r.type=r.type.toUpperCase(),r.chart=view,l.includes(r.type)||(r.type="XY");var o,canvas=r.canvas;if(canvas&&(canvas.get("children").map((function(t){return"plotBack"===t.get("type")?(o=t.get("plotRange"),!1):t})),r.plot={start:o.bl,end:o.tr}),view){var c=view.get("coord");r.plot={start:c.start,end:c.end},view.on("afterrender",(function(){r.plot={start:c.start,end:c.end}})),r.isTransposed=c.isTransposed;var h=view._getScales("x"),f=view._getScales("y");r.xScale=r.xField?h[r.xField]:view.getXScale(),r.yScale=r.yField?f[r.yField]:view.getYScales()[0]}return n}return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"XY",startPoint:null,brushing:!1,dragging:!1,brushShape:null,container:null,polygonPath:null,style:{fill:"#C5D4EB",opacity:.3,lineWidth:1,stroke:"#82A6DD"},draggable:!1,dragOffX:0,dragOffY:0,inPlot:!0,xField:null,yField:null})},o.start=function(t){var e=this,canvas=e.canvas,n=e.type,r=e.brushShape;if(n){e.brushing&&e.end(t);var o={x:t.offsetX,y:t.offsetY};if(o.x){var l=e.plot&&e.inPlot,c=canvas.get("canvasDOM"),h=canvas.get("pixelRatio");if(e.selection&&(e.selection=null),e.draggable&&r&&!r.get("destroyed")){if(r.isHit(o.x*h,o.y*h)){if(c.style.cursor="move",e.selection=r,e.dragging=!0,"X"===n)e.dragoffX=o.x-r.attr("x"),e.dragoffY=0;else if("Y"===n)e.dragoffX=0,e.dragoffY=o.y-r.attr("y");else if("XY"===n)e.dragoffX=o.x-r.attr("x"),e.dragoffY=o.y-r.attr("y");else if("POLYGON"===n){var f=r.getBBox();e.dragoffX=o.x-f.minX,e.dragoffY=o.y-f.minY}e.onDragstart&&e.onDragstart(t)}e.prePoint=o}if(!e.dragging){e.onBrushstart&&e.onBrushstart(o);var d=e.container;if(l){var v=e.plot,y=v.start,m=v.end;if(o.x<y.x||o.x>m.x||o.y<m.y||o.y>y.y)return}c.style.cursor="crosshair",e.startPoint=o,e.brushShape=null,e.brushing=!0,d?d.clear():(d=canvas.addGroup({zIndex:5})).initTransform(),e.container=d,"POLYGON"===n&&(e.polygonPath="M "+o.x+" "+o.y)}}}},o.process=function(t){var e=this,n=e.brushing,o=e.dragging,l=e.type,c=e.plot,h=e.startPoint,f=e.xScale,d=e.yScale,canvas=e.canvas;if(n||o){var v={x:t.offsetX,y:t.offsetY},y=canvas.get("canvasDOM");if(n){y.style.cursor="crosshair";var m,x,_,w,S=c.start,M=c.end,C=e.polygonPath,A=e.brushShape,k=e.container;e.plot&&e.inPlot&&(v=e._limitCoordScope(v)),"Y"===l?(m=S.x,x=v.y>=h.y?h.y:v.y,_=Math.abs(S.x-M.x),w=Math.abs(h.y-v.y)):"X"===l?(m=v.x>=h.x?h.x:v.x,x=M.y,_=Math.abs(h.x-v.x),w=Math.abs(M.y-S.y)):"XY"===l?(v.x>=h.x?(m=h.x,x=v.y>=h.y?h.y:v.y):(m=v.x,x=v.y>=h.y?h.y:v.y),_=Math.abs(h.x-v.x),w=Math.abs(h.y-v.y)):"POLYGON"===l&&(C+="L "+v.x+" "+v.y,e.polygonPath=C,A?!A.get("destroyed")&&A.attr(r.mix({},A._attrs,{path:C})):A=k.addShape("path",{attrs:r.mix(e.style,{path:C})})),"POLYGON"!==l&&(A?!A.get("destroyed")&&A.attr(r.mix({},A._attrs,{x:m,y:x,width:_,height:w})):A=k.addShape("rect",{attrs:r.mix(e.style,{x:m,y:x,width:_,height:w})})),e.brushShape=A}else if(o){y.style.cursor="move";var P=e.selection;if(P&&!P.get("destroyed"))if("POLYGON"===l){var T=e.prePoint;e.selection.translate(v.x-T.x,v.y-T.y)}else e.dragoffX&&P.attr("x",v.x-e.dragoffX),e.dragoffY&&P.attr("y",v.y-e.dragoffY)}e.prePoint=v,canvas.draw();var I=e._getSelected(),data=I.data,O=I.shapes,L=I.xValues,E=I.yValues,D={data:data,shapes:O};f&&(D[f.field]=L),d&&(D[d.field]=E),r.mix(t,D),D.x=v.x,D.y=v.y,e.onDragmove&&e.onDragmove(D),e.onBrushmove&&e.onBrushmove(D)}},o.end=function(t){var e=this;if(e.brushing||e.dragging){var data=e.data,n=e.shapes,o=e.xValues,l=e.yValues,canvas=e.canvas,c=e.type,h=e.startPoint,f=e.chart,d=e.container,v=e.xScale,y=e.yScale,m=t.offsetX,x=t.offsetY;if(canvas.get("canvasDOM").style.cursor="default",null!==h){if(Math.abs(h.x-m)<=1&&Math.abs(h.y-x)<=1)return e.brushing=!1,e.dragging=!1,d.clear(),void canvas.draw();var _={data:data,shapes:n};if(v&&(_[v.field]=o),y&&(_[y.field]=l),r.mix(t,_),_.x=m,_.y=x,e.dragging)e.dragging=!1,e.onDragend&&e.onDragend(_);else if(e.brushing){e.brushing=!1;var w=e.brushShape,S=e.polygonPath;"POLYGON"===c&&(S+="z",w&&!w.get("destroyed")&&w.attr(r.mix({},w._attrs,{path:S})),e.polygonPath=S,canvas.draw()),e.onBrushend?e.onBrushend(_):f&&e.filter&&(d.clear(),!e.isTransposed&&"X"===c||e.isTransposed&&"Y"===c?v&&f.filter(v.field,(function(t){return o.indexOf(t)>-1})):(!e.isTransposed&&"Y"===c||e.isTransposed&&"X"===c||v&&f.filter(v.field,(function(t){return o.indexOf(t)>-1})),y&&f.filter(y.field,(function(t){return l.indexOf(t)>-1}))),f.repaint())}}}},o.reset=function(){var t=this.chart,filter=this.filter,e=this.brushShape,canvas=this.canvas;this._init(),t&&filter&&(t.get("options").filters={},t.repaint()),e&&(e.destroy(),canvas.draw())},o._limitCoordScope=function(t){var e=this.plot,n=e.start,r=e.end;return t.x<n.x&&(t.x=n.x),t.x>r.x&&(t.x=r.x),t.y<r.y&&(t.y=r.y),t.y>n.y&&(t.y=n.y),t},o._getSelected=function(){var t=this,e=t.chart,n=t.xScale,r=t.yScale,o=t.brushShape,canvas=t.canvas,l=canvas.get("pixelRatio"),c=[],h=[],f=[],d=[];return e&&e.get("geoms").map((function(t){return t.getShapes().map((function(t){var e=t.get("origin");return Array.isArray(e)||(e=[e]),e.map((function(e){if(o.isHit(e.x*l,e.y*l)){c.push(t);var v=e._origin;d.push(v),n&&h.push(v[n.field]),r&&f.push(v[r.field])}return e})),t})),t})),t.shapes=c,t.xValues=h,t.yValues=f,t.data=d,canvas.draw(),{data:d,xValues:h,yValues:f,shapes:c}},c}(o);t.exports=c},function(t,e,n){var r=n(0),o=n(171),l=n(499),c=n(384),h=n(385),f=["X","Y","XY"],d=function(t){var e,n;n=t,(e=d).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=d.prototype;function d(e,n){var o,c=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(o=t.call(this,e,n)||this);c.type=c.type.toUpperCase(),c.chart=n,c.coord=n.get("coord");var data=c.data=n.get("data");l(n);var d=n.getYScales(),v=n.getXScale();d.push(v);var y=n.get("scaleController");return d.forEach((function(t){var e=t.field;c.limitRange[e]=h(data,t);var n=y.defs[e]||{};c.originScaleDefsByField[e]=r.mix(n,{nice:!!n.nice}),t.isLinear&&(c.stepByField[e]=(t.max-t.min)*c.stepRatio)})),f.includes(c.type)||(c.type="X"),c._disableTooltip(),o}return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"X",stepRatio:.05,limitRange:{},stepByField:{},threshold:20,originScaleDefsByField:{},previousPoint:null,isDragging:!1})},o._disableTooltip=function(){var t=this.chart;t.get("tooltipController")&&(this._showTooltip=!0,t.tooltip(!1))},o._enableTooltip=function(t){var e=this.chart;this._showTooltip&&(e.tooltip(!0),e.showTooltip(t))},o._applyTranslate=function(t,e,n){void 0===e&&(e=0),t.isLinear?this._translateLinearScale(t,e,n):this._translateCatScale(t,e,n)},o._translateCatScale=function(t,e,n){var o=this.chart,l=t.type,h=t.field,f=t.values,d=t.ticks,v=c(o,h),y=this.limitRange[h],m=e/n,x=f.length,_=Math.max(1,Math.abs(parseInt(m*x))),w=y.indexOf(f[0]),S=y.indexOf(f[x-1]);if(e>0&&w>=0){for(var i=0;i<_&&w>0;i++)w-=1,S-=1;var M=y.slice(w,S+1),C=null;if("timeCat"===l){for(var A=d.length>2?d[1]-d[0]:864e5,k=d[0]-A;k>=M[0];k-=A)d.unshift(k);C=d}o.scale(h,r.mix({},v,{values:M,ticks:C}))}else if(e<0&&S<=y.length-1){for(var P=0;P<_&&S<y.length-1;P++)w+=1,S+=1;var T=y.slice(w,S+1),I=null;if("timeCat"===l){for(var O=d.length>2?d[1]-d[0]:864e5,L=d[d.length-1]+O;L<=T[T.length-1];L+=O)d.push(L);I=d}o.scale(h,r.mix({},v,{values:T,ticks:I}))}},o._translateLinearScale=function(t,e,n){var o=this.chart,l=this.limitRange,h=t.min,f=t.max,d=t.field;if(h!==l[d].min||f!==l[d].max){var v=e/n,y=f-h,m=c(o,d);o.scale(d,r.mix({},m,{nice:!1,min:h+v*y,max:f+v*y}))}},o.start=function(t){this.canvas.get("canvasDOM").style.cursor="pointer",this.isDragging=!0,this.previousPoint={x:t.x,y:t.y},this._disableTooltip()},o.process=function(t){var e=this;if(e.isDragging){var n=e.chart,r=e.type,canvas=e.canvas,o=e.coord,l=e.threshold;canvas.get("canvasDOM").style.cursor="move";var c=e.previousPoint,h=t,f=h.x-c.x,d=h.y-c.y,v=!1;if(Math.abs(f)>l&&r.indexOf("X")>-1){v=!0;var y=n.getXScale();e._applyTranslate(y,y.isLinear?-f:f,o.width)}Math.abs(d)>l&&r.indexOf("Y")>-1&&(v=!0,n.getYScales().forEach((function(t){e._applyTranslate(t,h.y-c.y,o.height)}))),v&&(e.previousPoint=h,n.repaint())}},o.end=function(t){this.isDragging=!1,this.canvas.get("canvasDOM").style.cursor="default",this._enableTooltip(t)},o.reset=function(){var view=this.view,t=this.originScaleDefsByField,e=view.getYScales(),n=view.getXScale();e.push(n),e.forEach((function(e){if(e.isLinear){var n=e.field;view.scale(n,t[n])}})),view.repaint(),this._disableTooltip()},d}(o);t.exports=d},function(t,e,n){var r=n(0),o=n(71),l=n(383);t.exports=function(t){t.on("beforeinitgeoms",(function(){t.set("limitInPlot",!0);var data=t.get("data"),e=l(t);if(!e)return data;var n=t.get("geoms"),c=!1;r.each(n,(function(t){if(["area","line","path"].includes(t.get("type")))return c=!0,!1}));var h=[];if(r.each(e,(function(t,e){!c&&t&&(t.values||t.min||t.max)&&h.push(e)})),0===h.length)return data;var f=[];r.each(data,(function(t){var n=!0;r.each(h,(function(l){var c=t[l];if(c){var h=e[l];if("timeCat"===h.type){var f=h.values;r.isNumber(f[0])&&(c=o.toTimeStamp(c))}(h.values&&!h.values.includes(c)||h.min&&c<h.min||h.max&&c>h.max)&&(n=!1)}})),n&&f.push(t)})),t.set("filteredData",f)}))}},function(t,e,n){var r=n(0),o=n(171),l=n(501),c=n(385),h=function(t){var e,n;n=t,(e=h).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=h.prototype;function h(e,n){var o,l=(o=t.call(this,e,n)||this).getDefaultCfg();return n.set("_scrollBarCfg",r.deepMix({},l,e)),n.set("_limitRange",{}),n.get("_horizontalBar")||n.get("_verticalBar")||o._renderScrollBars(),o}return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{startEvent:null,processEvent:null,endEvent:null,resetEvent:null,type:"X",xStyle:{backgroundColor:"rgba(202, 215, 239, .2)",fillerColor:"rgba(202, 215, 239, .75)",size:4,lineCap:"round",offsetX:0,offsetY:-10},yStyle:{backgroundColor:"rgba(202, 215, 239, .2)",fillerColor:"rgba(202, 215, 239, .75)",size:4,lineCap:"round",offsetX:8,offsetY:0}})},o._renderScrollBars=function(){var t=this.chart,e=t.get("_scrollBarCfg");if(e){var data=t.get("data"),n=t.get("plotRange");n.width=Math.abs(n.br.x-n.bl.x),n.height=Math.abs(n.tl.y-n.bl.y);var r=t.get("backPlot"),o=t.get("canvas").get("height"),h=t.get("_limitRange"),f=e.type;if(f.indexOf("X")>-1){var d=e.xStyle,v=d.offsetX,y=d.offsetY,m=d.lineCap,x=d.backgroundColor,_=d.fillerColor,w=d.size,S=t.getXScale(),M=h[S.field];M||(M=c(data,S),h[S.field]=M);var C=l(S,M,S.type),A=t.get("_horizontalBar"),k=o-w/2+y;A?A.get("children")[1].attr({x1:Math.max(n.bl.x+n.width*C[0]+v,n.bl.x),x2:Math.min(n.bl.x+n.width*C[1]+v,n.br.x)}):((A=r.addGroup({className:"horizontalBar"})).addShape("line",{attrs:{x1:n.bl.x+v,y1:k,x2:n.br.x+v,y2:k,lineWidth:w,stroke:x,lineCap:m}}),A.addShape("line",{attrs:{x1:Math.max(n.bl.x+n.width*C[0]+v,n.bl.x),y1:k,x2:Math.min(n.bl.x+n.width*C[1]+v,n.br.x),y2:k,lineWidth:w,stroke:_,lineCap:m}}),t.set("_horizontalBar",A))}if(f.indexOf("Y")>-1){var P=e.yStyle,T=P.offsetX,I=P.offsetY,O=P.lineCap,L=P.backgroundColor,E=P.fillerColor,D=P.size,F=t.getYScales()[0],B=h[F.field];B||(B=c(data,F),h[F.field]=B);var R=l(F,B,F.type),j=t.get("_verticalBar"),N=D/2+T;j?j.get("children")[1].attr({y1:Math.max(n.tl.y+n.height*R[0]+I,n.tl.y),y2:Math.min(n.tl.y+n.height*R[1]+I,n.bl.y)}):((j=r.addGroup({className:"verticalBar"})).addShape("line",{attrs:{x1:N,y1:n.tl.y+I,x2:N,y2:n.bl.y+I,lineWidth:D,stroke:L,lineCap:O}}),j.addShape("line",{attrs:{x1:N,y1:Math.max(n.tl.y+n.height*R[0]+I,n.tl.y),x2:N,y2:Math.min(n.tl.y+n.height*R[1]+I,n.bl.y),lineWidth:D,stroke:E,lineCap:O}}),t.set("_verticalBar",j))}}},o._clear=function(){var t=this.chart;if(t){var e=t.get("_horizontalBar"),n=t.get("_verticalBar");e&&e.remove(!0),n&&n.remove(!0),t.set("_horizontalBar",null),t.set("_verticalBar",null)}},o._bindEvents=function(){this._onAfterclearOrBeforechangedata=this._onAfterclearOrBeforechangedata.bind(this),this._onAfterclearinner=this._onAfterclearinner.bind(this),this._onAfterdrawgeoms=this._onAfterdrawgeoms.bind(this);var t=this.chart;t.on("afterclear",this._onAfterclearOrBeforechangedata),t.on("beforechangedata",this._onAfterclearOrBeforechangedata),t.on("afterclearinner",this._onAfterclearinner),t.on("afterdrawgeoms",this._onAfterdrawgeoms)},o._onAfterclearOrBeforechangedata=function(){this.chart&&this.chart.set("_limitRange",{})},o._onAfterclearinner=function(){this._clear()},o._onAfterdrawgeoms=function(){this._renderScrollBars()},o._clearEvents=function(){var t=this.chart;t&&(t.off("afterclear",this._onAfterclearOrBeforechangedata),t.off("beforechangedata",this._onAfterclearOrBeforechangedata),t.off("afterclearinner",this._onAfterclearinner),t.off("afterdrawgeoms",this._onAfterdrawgeoms))},o.destroy=function(){this._clearEvents(),this._clear(),this.canvas.draw()},h}(o);t.exports=h},function(t,e){t.exports=function(t,e,n){if(!t)return[0,1];var r=0,o=0;if("linear"===n){var l=e.min,c=e.max-l;r=(t.min-l)/c,o=(t.max-l)/c}else{var h=e,f=t.values,d=h.indexOf(f[0]),v=h.indexOf(f[f.length-1]);r=d/(h.length-1),o=v/(h.length-1)}return[r,o]}},function(t,e,n){var r=n(0);function o(t,e){var n={};for(var style in e)n[style]=t[style];return n}var l=function(t){var e,n;function l(){return t.apply(this,arguments)||this}n=t,(e=l).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var c=l.prototype;return c.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{startEvent:"mouseup",processEvent:null,selectStyle:{fillOpacity:1},unSelectStyle:{fillOpacity:.1},cancelable:!0})},c.start=function(t){var e,n=this.view,l=[];if(n.eachShape((function(n,r){r.isPointInPath(t.x,t.y)?e=r:l.push(r)})),e)if(e.get("_selected")){if(!this.cancelable)return;this.reset()}else{var c=this.selectStyle,h=this.unSelectStyle,f=o(e.attr(),e);e.set("_originAttrs",f),e.attr(c),r.each(l,(function(t){var e=t.get("_originAttrs");e&&t.attr(e),t.set("_selected",!1),h&&(e=o(t.attr(),h),t.set("_originAttrs",e),t.attr(h))})),e.set("_selected",!0),this.selectedShape=e,this.canvas.draw()}else this.reset()},c.end=function(t){var e=this.selectedShape;e&&!e.get("destroyed")&&e.get("origin")&&(t.data=e.get("origin")._origin,t.shapeInfo=e.get("origin"),t.shape=e,t.selected=!!e.get("_selected"))},c.reset=function(){if(this.selectedShape){var t=this.view.get("geoms")[0].get("container").get("children")[0].get("children");r.each(t,(function(t){var e=t.get("_originAttrs");e&&(t._attrs=e,t.set("_originAttrs",null)),t.set("_selected",!1)})),this.canvas.draw()}},l}(n(171));t.exports=l},function(t,e,n){var r=n(504),o=n(146),l=n(0),c=n(16),h=n(7),f=n(171),d=n(384),v=n(383),y=c.Canvas,m=l.DomUtil,x=l.isNumber,_=function(t){var e,n;n=t,(e=f).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var c=f.prototype;function f(e,n){var r,o=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r=t.call(this,e,n)||this);return o._initContainer(),o._initStyle(),o.render(),r}return c.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return l.mix({},e,{startEvent:null,processEvent:null,endEvent:null,resetEvent:null,height:26,width:"auto",padding:h.plotCfg.padding,container:null,xAxis:null,yAxis:null,fillerStyle:{fill:"#BDCCED",fillOpacity:.3},backgroundStyle:{stroke:"#CCD6EC",fill:"#CCD6EC",fillOpacity:.3,lineWidth:1},range:[0,100],layout:"horizontal",textStyle:{fill:"#545454"},handleStyle:{img:"https://gw.alipayobjects.com/zos/rmsportal/QXtfhORGlDuRvLXFzpsQ.png",width:5},backgroundChart:{type:["area"],color:"#CCD6EC"}})},c._initContainer=function(){var t=this.container;if(!t)throw new Error("Please specify the container for the Slider!");l.isString(t)?this.domContainer=document.getElementById(t):this.domContainer=t},c.forceFit=function(){var t=this;if(t&&!t.destroyed){var e=m.getWidth(t.domContainer),n=t.height;if(e!==t.domWidth){var canvas=t.canvas;canvas.changeSize(e,n),t.bgChart&&t.bgChart.changeWidth(e),canvas.clear(),t._initWidth(),t._initSlider(),t._bindEvent(),canvas.draw()}}},c._initForceFitEvent=function(){var t=setTimeout(l.wrapBehavior(this,"forceFit"),200);clearTimeout(this.resizeTimer),this.resizeTimer=t},c._initStyle=function(){var t=this;t.handleStyle=l.mix({width:t.height,height:t.height},t.handleStyle),"auto"===t.width&&window.addEventListener("resize",l.wrapBehavior(t,"_initForceFitEvent"))},c._initWidth=function(){var t,e=this;t="auto"===e.width?m.getWidth(e.domContainer):e.width,e.domWidth=t;var n=l.toAllPadding(e.padding);"horizontal"===e.layout?(e.plotWidth=t-n[1]-n[3],e.plotPadding=n[3],e.plotHeight=e.height):"vertical"===e.layout&&(e.plotWidth=e.width,e.plotHeight=e.height-n[0]-n[2],e.plotPadding=n[0])},c._initCanvas=function(){var t=this.domWidth,e=this.height,canvas=new y({width:t,height:e,containerDOM:this.domContainer,capture:!1}),n=canvas.get("el");n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.zIndex=3,this.canvas=canvas},c._initBackground=function(){var t,e=this,n=this.chart,r=n.getAllGeoms[0],data=e.data=e.data||n.get("data"),c=n.getXScale(),h=e.xAxis||c.field,f=e.yAxis||n.getYScales()[0].field,d=l.deepMix(((t={})[""+h]={range:[0,1]},t),v(n),e.scales);if(delete d[h].min,delete d[h].max,!data)throw new Error("Please specify the data!");if(!h)throw new Error("Please specify the xAxis!");if(!f)throw new Error("Please specify the yAxis!");var y=e.backgroundChart,m=y.type||r.get("type"),x=y.color||"grey",_=y.shape;l.isArray(m)||(m=[m]);var w=l.toAllPadding(e.padding),S=new o({container:e.container,width:e.domWidth,height:e.height,padding:[0,w[1],0,w[3]],animate:!1});S.source(data),S.scale(d),S.axis(!1),S.tooltip(!1),S.legend(!1),l.each(m,(function(t,e){var n=S[t]().position(h+"*"+f).opacity(1),r=l.isArray(x)?x[e]:x;r&&(l.isObject(r)?r.field&&n.color(r.field,r.colors):n.color(r));var o=l.isArray(_)?_[e]:_;o&&(l.isObject(o)?o.field&&n.shape(o.field,o.callback||o.shapes):n.shape(o))})),S.render(),e.bgChart=S,e.scale="horizontal"===e.layout?S.getXScale():S.getYScales()[0],"vertical"===e.layout&&S.destroy()},c._initRange=function(){var t=this,e=t.startRadio,n=t.endRadio,r=t._startValue,o=t._endValue,l=t.scale,c=0,h=1;x(e)?c=e:r&&(c=l.scale(l.translate(r))),x(n)?h=n:o&&(h=l.scale(l.translate(o)));var f=t.minSpan,d=t.maxSpan,v=0;if("time"===l.type||"timeCat"===l.type){var y=l.values,m=y[0];v=y[y.length-1]-m}else l.isLinear&&(v=l.max-l.min);v&&f&&(t.minRange=f/v*100),v&&d&&(t.maxRange=d/v*100);var _=[100*c,100*h];return t.range=_,_},c._getHandleValue=function(t){var e=this,n=e.range,r=n[0]/100,o=n[1]/100,l=e.scale;return"min"===t?e._startValue?e._startValue:l.invert(r):e._endValue?e._endValue:l.invert(o)},c._initSlider=function(){var t=this,canvas=t.canvas,e=t._initRange(),n=t.scale,o=canvas.addGroup(r,{middleAttr:t.fillerStyle,range:e,minRange:t.minRange,maxRange:t.maxRange,layout:t.layout,width:t.plotWidth,height:t.plotHeight,backgroundStyle:t.backgroundStyle,textStyle:t.textStyle,handleStyle:t.handleStyle,minText:n.getText(t._getHandleValue("min")),maxText:n.getText(t._getHandleValue("max"))});"horizontal"===t.layout?o.translate(t.plotPadding,0):"vertical"===t.layout&&o.translate(0,t.plotPadding),t.rangeElement=o},c._updateElement=function(t,e){var n=this,r=n.chart,o=n.scale,c=n.rangeElement,h=o.field,f=c.get("minTextElement"),v=c.get("maxTextElement"),y=o.invert(t),m=o.invert(e),x=o.getText(y),_=o.getText(m);f.attr("text",x),v.attr("text",_),n._startValue=x,n._endValue=_,n.onChange&&n.onChange({startText:x,endText:_,startValue:y,endValue:m,startRadio:t,endRadio:e}),r.scale(h,l.mix({},d(r,h),{nice:!1,min:y,max:m})),r.repaint()},c._bindEvent=function(){var t=this;t.rangeElement.on("sliderchange",(function(e){var n=e.range,r=n[0]/100,o=n[1]/100;t._updateElement(r,o)}))},c.clear=function(){var t=this;t.canvas.clear(),t.bgChart&&t.bgChart.destroy(),t.bgChart=null,t.scale=null,t.canvas.draw()},c.repaint=function(){this.clear(),this.render()},c.render=function(){var t=this;t._initWidth(),t._initCanvas(),t._initBackground(),t._initSlider(),t._bindEvent(),t.canvas.draw()},c.destroy=function(){var t=this;clearTimeout(t.resizeTimer),t.rangeElement.off("sliderchange"),t.bgChart&&t.bgChart.destroy(),t.canvas.destroy();for(var e=t.domContainer;e.hasChildNodes();)e.removeChild(e.firstChild);window.removeEventListener("resize",l.getWrapBehavior(t,"_initForceFitEvent")),t.destroyed=!0},f}(f);t.exports=_},function(t,e,n){var r=n(0),o=n(16).Group,l=r.DomUtil,c=function t(e){t.superclass.constructor.call(this,e)};r.extend(c,o),r.augment(c,{getDefaultCfg:function(){return{range:null,middleAttr:null,backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},_initHandle:function(t){var text,e,n,o=this.addGroup(),l=this.get("layout"),c=this.get("handleStyle"),img=c.img,h=c.width,f=c.height;if("horizontal"===l){var d=c.width;n="ew-resize",e=o.addShape("Image",{attrs:{x:-d/2,y:0,width:d,height:f,img:img,cursor:n}}),text=o.addShape("Text",{attrs:r.mix({x:"min"===t?-(d/2+5):d/2+5,y:f/2,textAlign:"min"===t?"end":"start",textBaseline:"middle",text:"min"===t?this.get("minText"):this.get("maxText"),cursor:n},this.get("textStyle"))})}else n="ns-resize",e=o.addShape("Image",{attrs:{x:0,y:-f/2,width:h,height:f,img:img,cursor:n}}),text=o.addShape("Text",{attrs:r.mix({x:h/2,y:"min"===t?f/2+5:-(f/2+5),textAlign:"center",textBaseline:"middle",text:"min"===t?this.get("minText"):this.get("maxText"),cursor:n},this.get("textStyle"))});return this.set(t+"TextElement",text),this.set(t+"IconElement",e),o},_initSliderBackground:function(){var t=this.addGroup();return t.initTransform(),t.translate(0,0),t.addShape("Rect",{attrs:r.mix({x:0,y:0,width:this.get("width"),height:this.get("height")},this.get("backgroundStyle"))}),t},_beforeRenderUI:function(){var t=this._initSliderBackground(),e=this._initHandle("min"),n=this._initHandle("max"),r=this.addShape("rect",{attrs:this.get("middleAttr")});this.set("middleHandleElement",r),this.set("minHandleElement",e),this.set("maxHandleElement",n),this.set("backgroundElement",t),t.set("zIndex",0),r.set("zIndex",1),e.set("zIndex",2),n.set("zIndex",2),r.attr("cursor","move"),this.sort()},_renderUI:function(){"horizontal"===this.get("layout")?this._renderHorizontal():this._renderVertical()},_transform:function(t){var e=this.get("range"),n=e[0]/100,r=e[1]/100,o=this.get("width"),l=this.get("height"),c=this.get("minHandleElement"),h=this.get("maxHandleElement"),f=this.get("middleHandleElement");c.resetMatrix?(c.resetMatrix(),h.resetMatrix()):(c.initTransform(),h.initTransform()),"horizontal"===t?(f.attr({x:o*n,y:0,width:(r-n)*o,height:l}),c.translate(n*o,0),h.translate(r*o,0)):(f.attr({x:0,y:l*(1-r),width:o,height:(r-n)*l}),c.translate(0,(1-n)*l),h.translate(0,(1-r)*l))},_renderHorizontal:function(){this._transform("horizontal")},_renderVertical:function(){this._transform("vertical")},_bindUI:function(){this.on("mousedown",r.wrapBehavior(this,"_onMouseDown"))},_isElement:function(t,e){var element=this.get(e);return t===element||!!element.isGroup&&element.get("children").indexOf(t)>-1},_getRange:function(t,e){var n=t+e;return n=(n=n>100?100:n)<0?0:n},_limitRange:function(t,e,n){n[0]=this._getRange(t,n[0]),n[1]=n[0]+e,n[1]>100&&(n[1]=100,n[0]=n[1]-e)},_updateStatus:function(t,e){var n="x"===t?this.get("width"):this.get("height");t=r.upperFirst(t);var o,l=this.get("range"),c=this.get("page"+t),h=this.get("currentTarget"),f=this.get("rangeStash"),d="vertical"===this.get("layout")?-1:1,v=e["page"+t],y=(v-c)/n*100*d,m=this.get("minRange"),x=this.get("maxRange");l[1]<=l[0]?(this._isElement(h,"minHandleElement")||this._isElement(h,"maxHandleElement"))&&(l[0]=this._getRange(y,l[0]),l[1]=this._getRange(y,l[0])):(this._isElement(h,"minHandleElement")&&(l[0]=this._getRange(y,l[0]),m&&l[1]-l[0]<=m&&this._limitRange(y,m,l),x&&l[1]-l[0]>=x&&this._limitRange(y,x,l)),this._isElement(h,"maxHandleElement")&&(l[1]=this._getRange(y,l[1]),m&&l[1]-l[0]<=m&&this._limitRange(y,m,l),x&&l[1]-l[0]>=x&&this._limitRange(y,x,l))),this._isElement(h,"middleHandleElement")&&(o=f[1]-f[0],this._limitRange(y,o,l)),this.emit("sliderchange",{range:l}),this.set("page"+t,v),this._renderUI(),this.get("canvas").draw()},_onMouseDown:function(t){var e=t.currentTarget,n=t.event,r=this.get("range");n.stopPropagation(),n.preventDefault(),this.set("pageX",n.pageX),this.set("pageY",n.pageY),this.set("currentTarget",e),this.set("rangeStash",[r[0],r[1]]),this._bindCanvasEvents()},_bindCanvasEvents:function(){var t=this.get("canvas").get("containerDOM");this.onMouseMoveListener=l.addEventListener(t,"mousemove",r.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=l.addEventListener(t,"mouseup",r.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=l.addEventListener(t,"mouseleave",r.wrapBehavior(this,"_onCanvasMouseUp"))},_onCanvasMouseMove:function(t){"horizontal"===this.get("layout")?this._updateStatus("x",t):this._updateStatus("y",t)},_onCanvasMouseUp:function(){this._removeDocumentEvents()},_removeDocumentEvents:function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove(),this.onMouseLeaveListener.remove()}}),t.exports=c},function(t,e,n){var r=n(0),o=n(171),l=n(384),c=n(385),h=["X","Y","XY"],f=function(t){var e,n;n=t,(e=f).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=f.prototype;function f(e,n){var o,l=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(o=t.call(this,e,n)||this);l.chart=n,l.type=l.type.toUpperCase();var data=l.data=n.get("data"),f=n.getYScales(),d=n.getXScale();f.push(d);var v=n.get("scaleController");return f.forEach((function(t){var e=t.field,n=v.defs[e]||{};l.limitRange[e]=c(data,t),l.originScaleDefsByField[e]=r.mix(n,{nice:!!n.nice}),t.isLinear?l.stepByField[e]=(t.max-t.min)*l.stepRatio:l.stepByField[e]=l.catStep})),h.includes(l.type)||(l.type="X"),o}return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{processEvent:"mousewheel",type:"X",stepRatio:.05,stepByField:{},minScale:1,maxScale:4,catStep:2,limitRange:{},originScaleDefsByField:{}})},o._applyScale=function(t,e,n,o){void 0===n&&(n=0);var c=this,h=c.chart,f=c.stepByField;if(t.isLinear){var d=t.min,v=t.max,y=t.field,m=1-n,x=f[y]*e,_=d+x*n,w=v-x*m;if(w>_){var S=l(h,y);h.scale(y,r.mix({},S,{nice:!1,min:_,max:w}))}}else{var M=t.field,C=t.values,A=c.chart,k=A.get("coord"),P=l(A,M),T=c.limitRange[M],I=T.length,O=I/c.maxScale,L=I/c.minScale,E=C.length,D=k.invertPoint(o).x,F=E-e*this.catStep,B=parseInt(F*D),R=F+B;if(e>0&&E>=O){var j=B,N=R;R>E&&(N=E-1,j=E-F);var z=C.slice(j,N);A.scale(M,r.mix({},P,{values:z}))}else if(e<0&&E<=L){var Y=T.indexOf(C[0]),V=T.indexOf(C[E-1]),X=Math.max(0,Y-B),H=Math.min(V+R,I),W=T.slice(X,H);A.scale(M,r.mix({},P,{values:W}))}}},o.process=function(t){var e=this,n=e.chart,r=e.type,o=n.get("coord"),l=t.deltaY,c=o.invertPoint(t);if(l){e.onZoom&&e.onZoom(l,c,e),l>0?e.onZoomin&&e.onZoomin(l,c,e):e.onZoomout&&e.onZoomout(l,c,e);var h=l/Math.abs(l);r.indexOf("X")>-1&&e._applyScale(n.getXScale(),h,c.x,t),r.indexOf("Y")>-1&&n.getYScales().forEach((function(n){e._applyScale(n,h,c.y,t)}))}n.repaint()},o.reset=function(){var view=this.view,t=this.originScaleDefsByField,e=view.getYScales(),n=view.getXScale();e.push(n),e.forEach((function(e){if(e.isLinear){var n=e.field;view.scale(n,t[n])}})),view.repaint()},f}(o);t.exports=f}])},t.exports=r()},179:function(t,e,n){"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}}}]);